---
title: 패키지 관리
tags: [linux, package, yum, apt, rpm, dpkg, repository]
updated: 2025-12-08
---

# 패키지 관리

## 개요

소프트웨어 패키지 설치, 업데이트, 제거 방법. 배포판별로 다른 패키지 관리자를 사용한다.

## RHEL/CentOS (yum/dnf)

### yum

Yellowdog Updater Modified. RHEL/CentOS 7 이하에서 사용한다.

#### 패키지 검색

```bash
yum search package
yum list available
yum list installed
yum info package
yum provides /path/to/file
```

#### 패키지 설치

```bash
yum install package
yum install package1 package2
yum install -y package
yum localinstall package.rpm
```

#### 패키지 업데이트

```bash
yum update
yum update package
yum upgrade
yum check-update
```

#### 패키지 제거

```bash
yum remove package
yum erase package
yum autoremove
```

#### 저장소 관리

```bash
yum repolist
yum repolist enabled
yum-config-manager --add-repo URL
```

### dnf

Dandified YUM. RHEL/CentOS 8+에서 사용한다.

```bash
dnf install package
dnf update
dnf remove package
dnf search package
dnf list installed
```

`dnf`는 `yum`의 후속 버전이다. 명령어는 거의 동일하다.

### rpm

RPM 패키지를 직접 관리한다.

```bash
rpm -ivh package.rpm              # 설치
rpm -Uvh package.rpm              # 업그레이드
rpm -e package                    # 제거
rpm -qa                           # 설치된 패키지 목록
rpm -qi package                   # 패키지 정보
rpm -ql package                   # 패키지 파일 목록
rpm -qf /path/to/file             # 파일이 속한 패키지
```

`rpm`은 의존성을 자동으로 해결하지 않는다. `yum`이나 `dnf`를 사용하는 것이 좋다.

## Debian/Ubuntu (apt)

### apt

Advanced Package Tool. Debian/Ubuntu에서 사용한다.

#### 패키지 검색

```bash
apt search package
apt list --installed
apt list --upgradable
apt show package
apt-cache search package           # 구버전
```

#### 패키지 설치

```bash
apt install package
apt install package1 package2
apt install -y package
apt install ./package.deb
```

#### 패키지 업데이트

```bash
apt update                        # 패키지 목록 업데이트
apt upgrade                       # 패키지 업그레이드
apt full-upgrade
apt dist-upgrade
```

`apt update`는 패키지 목록만 업데이트한다. 실제 업그레이드는 `apt upgrade`다.

#### 패키지 제거

```bash
apt remove package
apt purge package                 # 패키지와 설정 파일 제거
apt autoremove
apt autoclean
```

#### 저장소 관리

```bash
# /etc/apt/sources.list 수정
deb http://archive.ubuntu.com/ubuntu/ focal main restricted

# 저장소 추가
add-apt-repository "deb [arch=amd64] https://repo.example.com stable main"
apt update
```

### apt-get

구버전 apt 명령어.

```bash
apt-get install package
apt-get update
apt-get upgrade
apt-get remove package
```

최신 시스템에서는 `apt`를 사용한다. `apt-get`과 거의 동일하다.

### dpkg

DEB 패키지를 직접 관리한다.

```bash
dpkg -i package.deb               # 설치
dpkg -r package                   # 제거
dpkg -P package                   # 완전 제거
dpkg -l                           # 설치된 패키지 목록
dpkg -L package                   # 패키지 파일 목록
dpkg -S /path/to/file
```

`dpkg`는 의존성을 자동으로 해결하지 않는다. `apt`를 사용하는 것이 좋다.

## 패키지 정보 확인

### 설치된 패키지 확인

```bash
# RHEL/CentOS
rpm -qa | grep package
yum list installed | grep package

# Debian/Ubuntu
dpkg -l | grep package
apt list --installed | grep package
```

### 패키지 파일 확인

```bash
# RHEL/CentOS
rpm -ql package

# Debian/Ubuntu
dpkg -L package
```

### 파일이 속한 패키지 확인

```bash
# RHEL/CentOS
rpm -qf /path/to/file
yum provides /path/to/file

# Debian/Ubuntu
dpkg -S /path/to/file
```

## 저장소 관리

### RHEL/CentOS

```bash
# 저장소 파일 위치
/etc/yum.repos.d/

# 저장소 추가 예시
# /etc/yum.repos.d/epel.repo
[epel]
name=EPEL
baseurl=https://download.fedoraproject.org/pub/epel/$releasever/$basearch
enabled=1
gpgcheck=1
```

### Debian/Ubuntu

```bash
# 저장소 파일
/etc/apt/sources.list
/etc/apt/sources.list.d/

# 저장소 추가
echo "deb http://repo.example.com stable main" | sudo tee /etc/apt/sources.list.d/repo.list
apt update
```

## GPG 키 관리

### RHEL/CentOS

```bash
rpm --import /path/to/key.asc
rpm --checksig package.rpm
```

### Debian/Ubuntu

```bash
apt-key add /path/to/key.asc      # 구버전
# 최신 방법
wget -qO - https://repo.example.com/key.asc | sudo apt-key add -
# 또는
curl -fsSL https://repo.example.com/key.asc | sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/repo.gpg
```

## 패키지 캐시 관리

### RHEL/CentOS

```bash
yum clean all
yum clean packages
yum clean metadata
```

### Debian/Ubuntu

```bash
apt clean
apt autoclean
```

## 소스에서 설치

### 일반적인 절차

```bash
# 1. 의존성 설치
yum install gcc make              # RHEL/CentOS
apt install build-essential       # Debian/Ubuntu

# 2. 소스 다운로드
wget https://example.com/source.tar.gz
tar -xzf source.tar.gz
cd source/

# 3. 빌드
./configure
make

# 4. 설치
sudo make install
```

소스 설치 시 의존성을 먼저 확인한다. 패키지 관리자로 설치할 수 있으면 그것을 사용한다.

## 일반적인 문제 해결

### 의존성 문제

```bash
# RHEL/CentOS
yum deplist package
yum install --skip-broken package

# Debian/Ubuntu
apt-cache depends package
apt install -f
```

### 패키지 잠금 문제

```bash
# RHEL/CentOS
rm -f /var/run/yum.pid

# Debian/Ubuntu
sudo rm /var/lib/apt/lists/lock
sudo rm /var/cache/apt/archives/lock
```

### 저장소 문제

```bash
# 저장소 확인
yum repolist                      # RHEL/CentOS
apt-cache policy                  # Debian/Ubuntu

# 저장소 재설정
yum clean all && yum makecache    # RHEL/CentOS
apt update                        # Debian/Ubuntu
```

패키지 문제는 저장소와 캐시를 먼저 확인한다.
