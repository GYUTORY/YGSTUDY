---
title: Linux 기본 명령어
tags: [linux, command, basic, file-management]
updated: 2025-12-08
---

# Linux 기본 명령어

## 개요

파일과 디렉토리를 다루는 기본 명령어. 명령어는 대소문자를 구분한다. Tab 키로 자동 완성, `Ctrl+R`로 이전 명령어 검색.

## 디렉토리 이동 및 확인

### pwd

현재 작업 디렉토리 경로를 출력한다.

```bash
pwd
# /home/user/project
```

스크립트에서 현재 경로 확인 시 사용.

### cd

디렉토리를 이동한다.

```bash
cd /home/user        # 절대 경로
cd ..                # 상위 디렉토리
cd ~                 # 홈 디렉토리
cd -                 # 이전 디렉토리
cd ../project        # 상대 경로
cd                   # 홈 디렉토리 (인자 없음)
```

`cd -`는 이전 작업 디렉토리로 돌아갈 때 유용하다.

## 파일 및 디렉토리 목록

### ls

디렉토리 내용을 나열한다.

```bash
ls                  # 기본 목록
ls -l               # 상세 정보
ls -a               # 숨김 파일 포함
ls -h               # 사람이 읽기 쉬운 크기
ls -t               # 수정 시간 순 정렬
ls -r               # 역순 정렬
ls -la              # 옵션 조합
ls -lh /var/log
ls -lS              # 크기 순 정렬
ls -lt              # 시간 순 정렬
ls -R               # 재귀적 목록
ls -d */            # 디렉토리만
ls -1               # 한 줄에 하나씩
```

**ls -l 출력:**
```
-rw-r--r-- 1 user group 1024 Jan 1 10:00 file.txt
│ │  │  │  │ │    │     │    │   │  │    │
│ │  │  │  │ │    │     │    │   │  │    └─ 파일명
│ │  │  │  │ │    │     │    │   │  └───── 수정 시간
│ │  │  │  │ │    │     │    │   └──────── 수정 날짜
│ │  │  │  │ │    │     │    └─────────── 파일 크기
│ │  │  │  │ │    │     └──────────────── 그룹
│ │  │  │  │ │    └────────────────────── 소유자
│ │  │  │  │ └─────────────────────────── 하드 링크 수
│ │  │  │  └───────────────────────────── 기타 권한
│ │  │  └─────────────────────────────── 그룹 권한
│ │  └─────────────────────────────────── 소유자 권한
│ └────────────────────────────────────── 파일 타입
└──────────────────────────────────────── 파일 타입 (-: 파일, d: 디렉토리)
```

`ls -lht`는 최근 수정된 파일부터 보여준다. 로그 파일 확인에 유용.

### tree

디렉토리 구조를 트리 형태로 표시.

```bash
tree                # 현재 디렉토리 트리
tree -L 2           # 2단계 깊이만
tree -d             # 디렉토리만
tree -I 'node_modules|.git'
tree -h             # 파일 크기 포함
tree -a             # 숨김 파일 포함
```

설치 필요: `yum install tree` 또는 `apt install tree`.

## 파일 및 디렉토리 생성

### mkdir

디렉토리를 생성한다.

```bash
mkdir project       # 단일 디렉토리
mkdir -p a/b/c      # 중첩 디렉토리 생성
mkdir dir1 dir2     # 여러 디렉토리 동시 생성
mkdir -m 755 dir1   # 권한 지정
mkdir -v dir1       # 생성 과정 출력
```

`-p` 옵션은 상위 디렉토리가 없어도 생성한다. 스크립트에서 자주 사용.

### touch

빈 파일을 생성하거나 파일의 수정 시간을 변경한다.

```bash
touch file.txt      # 파일 생성
touch file1 file2
touch -t 20250101 file.txt  # 특정 시간으로 변경
touch -a file.txt    # 접근 시간만 변경
touch -m file.txt    # 수정 시간만 변경
touch -r ref.txt file.txt  # 참조 파일의 시간 복사
```

로그 파일 존재 확인이나 타임스탬프 파일 생성에 사용.

## 파일 및 디렉토리 복사

### cp

파일이나 디렉토리를 복사한다.

```bash
cp file.txt backup.txt
cp -r dir1 dir2                  # 디렉토리 복사
cp -p file.txt backup.txt        # 권한과 시간 정보 유지
cp -u file.txt backup.txt        # 새 파일일 때만 복사
cp file1 file2 file3 /dest/
cp -v file.txt backup.txt        # 복사 과정 출력
cp -i file.txt backup.txt        # 덮어쓰기 전 확인
cp -a dir1 dir2                  # 아카이브 모드
cp -l file.txt link.txt          # 하드 링크 생성
cp -s file.txt symlink.txt       # 심볼릭 링크 생성
```

`-p`는 백업 시 권한 정보를 유지한다. `-a`는 아카이브 모드로 모든 속성을 유지.

## 파일 및 디렉토리 이동/이름 변경

### mv

파일이나 디렉토리를 이동하거나 이름을 변경한다.

```bash
mv file.txt /tmp/
mv old.txt new.txt
mv dir1 /backup/
mv -i file.txt backup.txt   # 덮어쓰기 전 확인
mv -v file.txt /tmp/        # 이동 과정 출력
mv -b file.txt backup.txt   # 덮어쓰기 전 백업 생성
mv -u file.txt backup.txt   # 새 파일일 때만 이동
```

`-i`는 덮어쓰기 전에 확인한다. `-b`는 백업 파일을 자동 생성.

## 파일 및 디렉토리 삭제

### rm

파일이나 디렉토리를 삭제한다.

```bash
rm file.txt
rm -r dir1
rm -f file.txt              # 확인 없이 강제 삭제
rm -rf dir1                 # 디렉토리 강제 삭제
rm -i file.txt              # 삭제 전 확인
rm -v file.txt              # 삭제 과정 출력
rm --preserve-root -rf /    # 루트 보호
```

`rm -rf`는 매우 위험하다. 경로를 잘못 입력하면 시스템이 손상될 수 있다.

**안전한 삭제:**
```bash
# 먼저 확인
ls -la /path/to/delete

# 상대 경로 사용
rm -rf ./old_dir

# 변수 사용 시 따옴표
rm -rf "$DIR_TO_DELETE"

# 확인 옵션 사용
rm -ri dir1
```

### rmdir

빈 디렉토리를 삭제한다.

```bash
rmdir empty_dir
rmdir -p a/b/c              # 상위 디렉토리도 삭제
rmdir -v dir1
```

빈 디렉토리만 삭제하므로 안전하다. 내용이 있으면 에러 발생.

## 파일 내용 확인

### cat

파일 내용을 출력한다.

```bash
cat file.txt
cat file1 file2             # 여러 파일 연결 출력
cat -n file.txt             # 줄 번호와 함께
cat -b file.txt             # 빈 줄 제외 줄 번호
cat -s file.txt             # 연속된 빈 줄을 하나로
cat -A file.txt             # 모든 문자 표시
cat -T file.txt             # 탭 문자를 ^I로 표시
cat -E file.txt             # 줄 끝에 $ 표시
```

작은 파일 확인에 적합. 큰 파일은 `less`나 `head` 사용.

### less / more

파일을 페이지 단위로 보여준다.

```bash
less file.txt
more file.txt
less -N file.txt           # 줄 번호 표시
less -S file.txt           # 긴 줄 자르지 않음
less +F file.txt           # tail -f 모드
```

**less 명령어:**
- `/검색어`: 검색
- `n`: 다음 검색 결과
- `N`: 이전 검색 결과
- `g`: 파일 시작
- `G`: 파일 끝
- `q`: 종료
- `Space`: 다음 페이지
- `b`: 이전 페이지

`/검색어`로 검색 가능. 로그 파일 확인에 자주 사용.

### head

파일의 앞부분을 출력한다.

```bash
head file.txt               # 처음 10줄
head -n 20 file.txt         # 처음 20줄
head -c 100 file.txt        # 처음 100바이트
head -n -5 file.txt         # 마지막 5줄 제외
head -q file1 file2         # 파일명 헤더 출력 안 함
head -v file.txt
```

로그 파일의 최근 내용 확인에 유용.

### tail

파일의 뒷부분을 출력한다.

```bash
tail file.txt               # 마지막 10줄
tail -n 20 file.txt
tail -f file.txt            # 실시간 모니터링
tail -F file.txt            # 파일 재생성 시에도 모니터링
tail -n +100 file.txt       # 100번째 줄부터 끝까지
tail -c 100 file.txt
tail -q file1 file2
```

`tail -f`는 로그 파일을 실시간으로 모니터링한다. `tail -F`는 파일이 재생성되어도 계속 모니터링.

**여러 파일 동시 모니터링:**
```bash
tail -f /var/log/app.log /var/log/error.log
```

## 파일 검색

### find

파일이나 디렉토리를 검색한다.

```bash
find /home -name "*.txt"
find /var/log -type f -name "*.log"
find /tmp -mtime +7                         # 7일 이상 수정된 파일
find /var -size +100M
find /home -user root
find . -name "*.log" -exec rm {} \;
find . -name "*.txt" -delete
find /var -type f -perm 777
find /home -type f -empty
find /var -type d -empty
find /tmp -atime +30
find /var -name "*.log" -mtime +30 -delete
```

**find 시간 옵션:**
- `-mtime +7`: 7일 이상 전에 수정
- `-mtime -7`: 7일 이내에 수정
- `-mtime 7`: 정확히 7일 전에 수정
- `-atime`: 접근 시간
- `-ctime`: 상태 변경 시간

**find 크기 옵션:**
- `-size +100M`: 100MB 이상
- `-size -100M`: 100MB 미만
- `-size 100M`: 정확히 100MB

`-exec`는 각 파일에 대해 명령을 실행한다. `-delete`는 더 안전하다. 큰 디렉토리에서는 시간이 오래 걸릴 수 있다.

**성능 최적화:**
```bash
# 느림
find / -name "file.txt"

# 빠름
find /home -name "file.txt"

# 더 빠름
find /home -maxdepth 3 -name "file.txt"
```

### locate

데이터베이스에서 파일을 빠르게 검색한다.

```bash
locate file.txt
locate -i file.txt          # 대소문자 무시
locate -c file.txt          # 개수만 출력
locate -r "\.txt$"          # 정규표현식
updatedb                    # 데이터베이스 업데이트
```

빠르지만 데이터베이스가 최신이 아닐 수 있다. `updatedb`는 root 권한 필요. 일반적으로 매일 자동 실행.

### which

명령어의 경로를 찾는다.

```bash
which python3
which -a python3           # 모든 경로
```

실행 중인 명령어의 실제 경로를 확인할 때 사용. PATH에 여러 버전이 있을 때 어떤 것이 실행되는지 확인.

### whereis

명령어의 바이너리, 소스, 매뉴얼 위치를 찾는다.

```bash
whereis python3
whereis -b python3         # 바이너리만
whereis -m python3         # 매뉴얼만
whereis -s python3         # 소스만
```

## 파일 정보 확인

### file

파일 타입을 확인한다.

```bash
file document.txt
file /bin/ls
file -i file.txt            # MIME 타입
file -b file.txt            # 파일명 없이 타입만
file -L file.txt            # 심볼릭 링크 따라가기
```

알 수 없는 파일의 타입을 확인할 때 사용.

### stat

파일의 상세 정보를 확인한다.

```bash
stat file.txt
stat -c "%a %n" file.txt   # 권한과 파일명만
stat -c "%y" file.txt      # 수정 시간만
stat -c "%s" file.txt      # 크기만
stat -f file.txt            # 파일시스템 정보
```

**stat 포맷 문자:**
- `%a`: 권한 (8진수)
- `%n`: 파일명
- `%s`: 크기
- `%y`: 수정 시간
- `%x`: 접근 시간
- `%z`: 변경 시간

백업 스크립트에서 변경 여부 확인에 사용.

### wc

파일의 줄, 단어, 바이트 수를 센다.

```bash
wc file.txt                 # 줄, 단어, 바이트 수
wc -l file.txt              # 줄 수만
wc -w file.txt              # 단어 수만
wc -c file.txt              # 바이트 수만
wc -m file.txt              # 문자 수
wc -L file.txt              # 가장 긴 줄 길이
```

로그 파일의 줄 수 확인이나 코드 라인 수를 셀 때 사용. `wc -l`은 자주 사용.

## 파일 압축 및 해제

### tar

파일을 아카이브하거나 압축한다.

```bash
tar -cf archive.tar file1 file2    # 아카이브 생성
tar -xf archive.tar                # 아카이브 해제
tar -czf archive.tar.gz dir/       # gzip 압축
tar -xzf archive.tar.gz            # gzip 해제
tar -cjf archive.tar.bz2 dir/      # bzip2 압축
tar -xjf archive.tar.bz2           # bzip2 해제
tar -cJf archive.tar.xz dir/       # xz 압축
tar -xJf archive.tar.xz            # xz 해제
tar -tf archive.tar                # 목록만 확인
tar -czf archive.tar.gz --exclude='*.log' dir/
tar -czf archive.tar.gz -C /path/to/dir .
```

**tar 옵션:**
- `-c`: 생성
- `-x`: 해제
- `-t`: 목록
- `-f`: 파일명 지정
- `-z`: gzip
- `-j`: bzip2
- `-J`: xz
- `-v`: 상세 출력
- `-p`: 권한 유지

`-z`는 gzip, `-j`는 bzip2, `-J`는 xz 압축. 백업 시 자주 사용.

### gzip / gunzip

파일을 gzip으로 압축하거나 해제한다.

```bash
gzip file.txt              # file.txt.gz 생성
gunzip file.txt.gz
gzip -d file.txt.gz
gzip -k file.txt          # 원본 파일 유지
gzip -l file.txt.gz       # 압축 정보 확인
gzip -9 file.txt          # 최대 압축률
```

기본적으로 원본 파일을 삭제한다. `-k` 옵션으로 원본을 유지할 수 있다.

### zip / unzip

zip 형식으로 압축하거나 해제한다.

```bash
zip archive.zip file1 file2
unzip archive.zip
unzip -l archive.zip               # 목록만 확인
unzip -d /path/to/dir archive.zip
unzip -o archive.zip               # 덮어쓰기
unzip -q archive.zip               # 조용한 모드
```

## 기타 유용한 명령어

### history

명령어 이력을 확인한다.

```bash
history
history 10
!123                       # 123번 명령어 실행
!!                         # 이전 명령어 실행
!ls                        # ls로 시작하는 최근 명령어
!?pattern
history -c                 # 이력 삭제
history -w                 # 이력 저장
```

`Ctrl+R`로 이전 명령어를 검색할 수 있다.

### alias

명령어 별칭을 만든다.

```bash
alias ll='ls -lh'
alias rm='rm -i'
alias la='ls -lah'
alias ..='cd ..'
alias grep='grep --color=auto'
unalias ll
alias                      # 모든 별칭 확인
```

**영구적 별칭 설정:**
```bash
# ~/.bashrc에 추가
alias ll='ls -lh'
alias la='ls -lah'
alias l='ls -CF'
alias rm='rm -i'
alias cp='cp -i'
alias mv='mv -i'
```

`.bashrc`에 추가하면 영구적으로 사용할 수 있다.

### clear

터미널 화면을 지운다.

```bash
clear
Ctrl+L                     # 단축키
reset                      # 터미널 초기화
```

## 고급 파일 조작

### ln

하드 링크와 심볼릭 링크를 생성한다.

```bash
ln file.txt hardlink.txt   # 하드 링크
ln -s file.txt symlink.txt # 심볼릭 링크
ln -sf target link
ln -sv target link
```

**하드 링크 vs 심볼릭 링크:**
- 하드 링크: 같은 inode를 가리킴, 원본 삭제해도 유지
- 심볼릭 링크: 경로를 가리킴, 원본 삭제하면 깨짐

심볼릭 링크는 디렉토리 간 연결에 유용하다. 하드 링크는 같은 파일시스템 내에서만 가능.

### diff

두 파일의 차이를 비교한다.

```bash
diff file1.txt file2.txt
diff -u file1.txt file2.txt # 통합 형식
diff -r dir1 dir2
diff -q dir1 dir2           # 차이만 간단히
```

### comm

정렬된 두 파일을 비교한다.

```bash
comm file1.txt file2.txt   # 공통, file1만, file2만
comm -12 file1.txt file2.txt  # 공통만
comm -23 file1.txt file2.txt  # file1에만 있는 것
```

### sort

텍스트를 정렬한다.

```bash
sort file.txt
sort -n file.txt           # 숫자 정렬
sort -r file.txt           # 역순 정렬
sort -u file.txt           # 중복 제거
sort -k2 file.txt          # 2번째 필드로 정렬
sort -t: -k3 -n /etc/passwd
```

### uniq

중복된 줄을 제거한다.

```bash
uniq file.txt              # 연속된 중복만 제거
uniq -c file.txt           # 개수 포함
uniq -d file.txt           # 중복된 줄만
uniq -u file.txt           # 중복되지 않은 줄만
sort file.txt | uniq       # 모든 중복 제거
```

`uniq`는 정렬된 파일에서만 제대로 동작한다. `sort`와 함께 사용.

## 주의사항

### 위험한 명령어 조합

```bash
# 절대 실행하지 말 것
rm -rf /
rm -rf ~
chmod -R 777 /
dd if=/dev/zero of=/dev/sda
```

`rm -rf` 명령어는 실행 전 경로를 다시 확인한다. 스크립트에서는 변수 사용을 주의한다.

### 파일 이름에 공백이 있는 경우

```bash
# 따옴표 사용
rm "file name.txt"
mv "old name.txt" "new name.txt"

# 백슬래시 이스케이프
rm file\ name.txt
```

공백이 있는 파일명은 따옴표로 감싸거나 백슬래시로 이스케이프한다. 변수 사용 시에도 따옴표 사용: `rm "$filename"`.

### 와일드카드 사용

```bash
rm *.txt
rm file?.txt
rm file[0-9].txt
rm file{1,2,3}.txt
```

와일드카드는 주의해서 사용한다. `rm *`는 현재 디렉토리의 모든 파일을 삭제한다. 먼저 `ls *`로 확인.

## 로그 파일 관리

로그 파일은 정기적으로 정리해야 한다.

```bash
# 최근 수정된 로그 확인
find /var/log -type f -mtime -1 -ls

# 큰 로그 파일 찾기
find /var/log -type f -size +100M

# 오래된 로그 삭제
find /var/log -type f -mtime +30 -delete

# 로그 압축
find /var/log -type f -name "*.log" -mtime +7 -exec gzip {} \;
```

로그 로테이션은 logrotate를 사용하는 것이 좋다.

## 백업 스크립트 예시

```bash
#!/bin/bash
BACKUP_DIR="/backup/$(date +%Y%m%d)"
mkdir -p $BACKUP_DIR
tar -czf $BACKUP_DIR/app_backup.tar.gz /var/www
find /backup -type d -mtime +7 -exec rm -rf {} \;
```

백업 스크립트는 에러 처리를 포함해야 한다. `set -e`로 에러 시 중단.

## 파일 정리

```bash
# 중복 파일 찾기
find . -type f -exec md5sum {} \; | sort | uniq -d -w 32

# 빈 파일 찾기
find . -type f -empty

# 임시 파일 정리
find /tmp -type f -atime +7 -delete
```

중복 파일은 디스크 공간을 낭비한다. 정기적으로 확인.
