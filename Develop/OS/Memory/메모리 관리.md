---
title: 메모리 관리
tags: [os, memory, 메모리-관리]
updated: 2025-09-21
---

# 메모리 관리 (Memory Management)

## 1. 메모리 관리의 개념과 목적

### 1.1 메모리 관리란?
메모리 관리는 운영체제의 핵심 기능 중 하나로, 시스템의 물리적 메모리를 효율적으로 관리하여 여러 프로세스가 동시에 실행될 수 있도록 하는 활동입니다. 이는 단순히 메모리를 할당하고 해제하는 것을 넘어서, 메모리 보호, 가상 메모리 구현, 메모리 단편화 해결 등 복합적인 기능을 포함합니다.

### 1.2 메모리 관리의 주요 목적
- **다중 프로그래밍 지원**: 여러 프로세스가 동시에 메모리에 상주하며 실행될 수 있도록 함
- **메모리 보호**: 각 프로세스가 자신에게 할당된 메모리 영역만 접근하도록 보장
- **메모리 효율성**: 제한된 물리적 메모리를 최대한 효율적으로 활용
- **투명성**: 프로세스가 메모리 관리의 복잡성을 인식하지 않고도 실행될 수 있도록 함

## 2. 메모리 주소 체계

### 2.1 논리적 주소 vs 물리적 주소
메모리 관리를 이해하기 위해서는 두 가지 주소 체계를 구분해야 합니다:

**논리적 주소 (Logical Address)**
- 프로세스가 사용하는 주소 공간
- 각 프로세스마다 독립적으로 0부터 시작
- CPU가 생성하는 주소로, 가상 주소라고도 함

**물리적 주소 (Physical Address)**
- 실제 메모리 하드웨어의 주소
- 메모리 관리 장치(MMU)가 논리적 주소를 물리적 주소로 변환
- 시스템 전체에서 유일한 주소

### 2.2 주소 변환 과정
1. CPU가 논리적 주소 생성
2. MMU가 논리적 주소를 물리적 주소로 변환
3. 변환된 물리적 주소로 실제 메모리 접근

## 3. 메모리 할당 전략

### 3.1 연속 메모리 할당 (Contiguous Memory Allocation)
프로세스가 연속된 메모리 공간에 할당되는 방식입니다.

**장점**
- 구현이 단순하고 이해하기 쉬움
- 주소 변환이 간단함

**단점**
- 외부 단편화 발생
- 메모리 활용률이 낮아질 수 있음

### 3.2 메모리 할당 알고리즘

#### 3.2.1 최초 적합 (First Fit)
사용 가능한 공간 중에서 요청된 크기를 수용할 수 있는 첫 번째 공간에 할당하는 방법입니다.

**특징**
- 검색 시간이 빠름 (첫 번째로 찾은 공간에 할당)
- 구현이 간단함
- 메모리 앞부분에 작은 조각들이 많이 생김

**동작 과정**
1. 사용 가능한 공간 리스트를 순차적으로 검색
2. 요청된 크기보다 크거나 같은 첫 번째 공간을 찾음
3. 해당 공간에 프로세스 할당

#### 3.2.2 최적 적합 (Best Fit)
요청된 크기를 수용할 수 있는 공간 중에서 가장 작은 공간에 할당하는 방법입니다.

**특징**
- 메모리 낭비를 최소화
- 검색 시간이 오래 걸림 (전체 공간을 검색해야 함)
- 매우 작은 조각들이 많이 생성됨

**동작 과정**
1. 모든 사용 가능한 공간을 검색
2. 요청된 크기보다 크거나 같은 공간 중 가장 작은 공간 선택
3. 해당 공간에 프로세스 할당

#### 3.2.3 최악 적합 (Worst Fit)
사용 가능한 공간 중에서 가장 큰 공간에 할당하는 방법입니다.

**특징**
- 큰 조각들을 남겨서 향후 큰 프로세스 할당에 유리
- 검색 시간이 오래 걸림
- 메모리 활용률이 상대적으로 좋음

**동작 과정**
1. 모든 사용 가능한 공간을 검색
2. 가장 큰 공간을 선택
3. 해당 공간에 프로세스 할당

## 4. 메모리 단편화 (Memory Fragmentation)

### 4.1 외부 단편화 (External Fragmentation)
메모리가 여러 개의 작은 조각들로 나뉘어져 있어서, 전체 사용 가능한 메모리는 충분하지만 연속된 공간이 없어 프로세스를 할당할 수 없는 상황입니다.

**해결 방법**
- **압축 (Compaction)**: 사용 중인 메모리 블록들을 한쪽으로 모아서 연속된 공간 확보
- **페이징 (Paging)**: 메모리를 고정 크기 페이지로 나누어 할당
- **세그멘테이션 (Segmentation)**: 논리적 단위로 메모리 분할

### 4.2 내부 단편화 (Internal Fragmentation)
할당된 메모리 블록 내에서 실제로 사용되지 않는 공간이 발생하는 현상입니다.

**발생 원인**
- 고정 크기 블록 할당 시 프로세스 크기가 블록 크기보다 작을 때
- 메모리 정렬 요구사항으로 인한 패딩

## 5. 스와핑 (Swapping)

### 5.1 스와핑의 개념
스와핑은 메모리 공간이 부족할 때 일부 프로세스를 임시로 보조기억장치(디스크)로 이동시키고, 필요할 때 다시 메모리로 가져오는 기법입니다.

### 5.2 스와핑 과정
**스왑 아웃 (Swap Out)**
- 메모리에서 실행 중인 프로세스를 디스크의 스왑 영역으로 이동
- 메모리 공간 확보

**스왑 인 (Swap In)**
- 디스크의 스왑 영역에서 프로세스를 메모리로 다시 로드
- 프로세스 실행 재개

### 5.3 스와핑의 특징
- **장점**: 더 많은 프로세스를 동시에 실행 가능
- **단점**: 디스크 I/O로 인한 성능 저하
- **적용 시점**: 메모리 부족 시, 우선순위가 낮은 프로세스 대상

## 6. 메모리 보호 (Memory Protection)

### 6.1 메모리 보호의 필요성
- 프로세스 간 메모리 공간 격리
- 시스템 안정성 보장
- 보안 강화

### 6.2 보호 메커니즘
**경계 레지스터 (Boundary Register)**
- 각 프로세스의 메모리 영역 경계를 정의
- 경계를 벗어난 접근 시 트랩 발생

**접근 권한 비트**
- 읽기, 쓰기, 실행 권한을 비트로 표현
- 권한이 없는 접근 시 오류 발생

## 7. 현대 메모리 관리의 발전

### 7.1 가상 메모리 시스템
- 물리적 메모리보다 큰 주소 공간 제공
- 요구 페이징을 통한 효율적 메모리 사용
- 메모리 단편화 문제 해결

### 7.2 메모리 관리의 복잡성
현대 운영체제에서는 다음과 같은 복잡한 메모리 관리 기법들이 사용됩니다:
- 다단계 페이징
- 역방향 페이지 테이블
- TLB (Translation Lookaside Buffer)
- 메모리 계층 구조 최적화

## 참조
- Silberschatz, A., Galvin, P. B., & Gagne, G. (2018). Operating System Concepts (10th ed.). John Wiley & Sons.
- Tanenbaum, A. S., & Bos, H. (2014). Modern Operating Systems (4th ed.). Prentice Hall.
- Stallings, W. (2018). Operating Systems: Internals and Design Principles (9th ed.). Pearson.