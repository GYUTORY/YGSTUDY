---
title: 프로세스의 구조
tags: [os, process-and-thread, process, 프로세스의-구조]
updated: 2025-12-08
---

# 프로세스의 구조

## 개요

프로세스는 실행 중인 프로그램의 인스턴스로, 운영체제의 기본 작업 단위다. 각 프로세스는 독립적인 메모리 공간과 시스템 자원을 할당받아 실행되며, 운영체제는 프로세스의 생성, 실행, 종료를 관리한다.

**실무 팁:**
프로세스는 독립적인 메모리 공간을 가진다. 각 프로세스는 다른 프로세스의 메모리에 직접 접근할 수 없다.

## 프로세스 제어 블록(PCB, Process Control Block)

### PCB의 개념과 역할

프로세스 제어 블록은 각 프로세스마다 존재하는 고유한 데이터 구조로, 프로세스의 모든 상태 정보를 저장한다. 운영체제가 프로세스를 관리하기 위해 필요한 정보들이 체계적으로 정리되어 있다.

**실무 팁:**
PCB는 프로세스의 모든 상태를 저장한다. 컨텍스트 스위칭 시 PCB의 정보를 저장하고 복원한다.

### PCB의 주요 구성 요소

**프로세스 식별자(PID)**
- 프로세스를 구분하는 고유한 번호
- 시스템 내에서 프로세스를 식별하는 기본 수단
- 일반적으로 양의 정수로 할당되며, 프로세스 종료 시 재사용 가능

**프로세스 상태**
- 현재 프로세스의 실행 상태를 나타냄
- 실행(Running), 준비(Ready), 대기(Waiting), 종료(Terminated) 등의 상태
- 상태 전이에 따라 동적으로 변경됨

**프로그램 카운터(PC)**
- 다음에 실행할 명령어의 메모리 주소를 저장
- 프로세스가 중단되었다가 재개될 때 어디서부터 실행을 계속할지 결정
- CPU 스케줄링 시 중요한 역할을 함

**CPU 레지스터 정보**
- 프로세스가 실행 중일 때 사용하는 모든 레지스터의 값
- 프로세스 전환 시 현재 레지스터 상태를 저장하고 복원
- 범용 레지스터, 상태 레지스터, 스택 포인터 등 포함

**메모리 관리 정보**
- 프로세스의 메모리 사용 현황을 관리
- 페이지 테이블, 세그먼트 테이블, 메모리 한계 정보 등
- 가상 메모리 시스템에서 중요한 역할

**입출력 상태 정보**
- 프로세스에 할당된 입출력 장치 목록
- 대기 중인 입출력 요청 정보
- 파일 디스크립터 테이블 등

**계정 및 스케줄링 정보**
- CPU 사용 시간, 프로세스 우선순위
- 스케줄링 정책에 필요한 정보
- 자원 사용량 통계

## 프로세스의 메모리 구조

### 메모리 영역의 구성

프로세스의 메모리는 기능에 따라 여러 영역으로 나뉘어 관리된다. 각 영역은 고유한 특성과 용도를 가지며, 메모리 보호와 효율적인 관리를 위해 분리되어 있다.

**실무 팁:**
프로세스의 메모리는 코드, 데이터, 힙, 스택 영역으로 나뉜다. 각 영역은 독립적인 접근 권한을 가진다.

### 코드 영역(Text Segment)
- 실행 가능한 프로그램 코드가 저장되는 영역
- 읽기 전용(Read-Only)으로 보호됨
- 여러 프로세스가 같은 프로그램을 실행할 때 공유 가능
- 함수, 명령어, 상수 등이 포함됨

### 데이터 영역(Data Segment)
- 전역 변수와 정적 변수가 저장되는 영역
- 초기화된 데이터와 초기화되지 않은 데이터로 구분
- 프로그램 실행 중 값이 변경될 수 있음
- BSS(Block Started by Symbol) 영역도 포함

### 힙 영역(Heap)
- 동적 메모리 할당을 위한 영역
- 프로그램 실행 중 필요에 따라 크기가 변함
- malloc(), new 등의 함수로 할당
- 메모리 누수 방지를 위해 적절한 해제 필요

### 스택 영역(Stack)
- 함수 호출과 지역 변수를 관리하는 영역
- LIFO(Last In, First Out) 구조
- 함수 매개변수, 지역 변수, 반환 주소 저장
- 스택 오버플로우 주의 필요

## 프로세스 상태 전이

### 프로세스의 생명주기

프로세스는 생성부터 종료까지 여러 상태를 거치며 실행된다. 이러한 상태 전이는 운영체제의 스케줄링 정책과 시스템 자원의 가용성에 따라 결정된다.

**실무 팁:**
프로세스 상태는 New → Ready → Running → Waiting → Terminated 순서로 전이된다. 상태 전이는 운영체제가 관리한다.

### 주요 프로세스 상태

**생성(New)**
- 프로세스가 새로 생성된 초기 상태
- 메모리 할당과 초기화가 진행 중
- 아직 실행 준비가 완료되지 않은 상태

**준비(Ready)**
- CPU를 할당받을 수 있는 상태
- 모든 필요한 자원이 준비되어 실행 대기 중
- 스케줄러에 의해 CPU 할당 순서 결정

**실행(Running)**
- CPU를 할당받아 명령어를 실행 중인 상태
- 한 번에 하나의 프로세스만 실행 가능
- 시간 할당량 소진이나 인터럽트 발생 시 준비 상태로 전이

**대기(Waiting)**
- 특정 이벤트나 자원을 기다리는 상태
- 입출력 완료, 자식 프로세스 종료 등을 대기
- 이벤트 발생 시 준비 상태로 전이

**종료(Terminated)**
- 프로세스가 정상적으로 종료된 상태
- 자원 반환과 정리 작업 완료
- 부모 프로세스에 종료 상태 전달

## 프로세스 생성과 종료

### 프로세스 생성 과정

프로세스 생성은 복잡한 과정을 거쳐 이루어지며, 각 단계에서 필요한 자원과 정보가 체계적으로 준비된다.

**실무 팁:**
프로세스 생성은 fork() 시스템 호출로 시작된다. 부모 프로세스의 메모리 공간을 복사하여 자식 프로세스를 생성한다.

**1단계: 프로세스 식별자 할당**
- 시스템에서 사용 가능한 고유한 PID 할당
- 프로세스 테이블에 새 항목 생성

**2단계: PCB 생성 및 초기화**
- 프로세스 제어 블록 생성
- 기본 상태 정보와 메타데이터 초기화
- 부모 프로세스 정보 설정

**3단계: 메모리 공간 할당**
- 코드 영역: 실행 파일에서 프로그램 코드 로드
- 데이터 영역: 전역 변수와 정적 변수 초기화
- 스택 영역: 지역 변수와 함수 호출을 위한 공간 할당
- 힙 영역: 동적 메모리 할당을 위한 공간 준비

**4단계: 자원 할당**
- 파일 디스크립터 테이블 생성
- 입출력 장치 접근 권한 설정
- 네트워크 소켓 등 네트워크 자원 할당

**5단계: 스케줄링 준비**
- 프로세스 상태를 준비 상태로 변경
- 스케줄러 큐에 삽입하여 실행 대기

### 프로세스 종료 과정

프로세스 종료는 생성과 반대 과정으로, 할당된 자원을 체계적으로 반환하고 정리합니다.

**1단계: 실행 완료**
- 프로세스가 마지막 명령어 실행 완료
- 정상 종료 또는 비정상 종료 요청

**2단계: 자원 반환**
- 할당된 메모리 공간 해제
- 열린 파일 디스크립터 닫기
- 사용 중인 입출력 장치 반환
- 네트워크 연결 정리

**3단계: PCB 정리**
- 프로세스 제어 블록에서 정보 추출
- PCB 메모리 해제
- 프로세스 테이블에서 항목 제거

**4단계: 부모 프로세스 알림**
- 종료 상태 코드 전달
- 자식 프로세스 목록에서 제거
- 좀비 프로세스 방지

## 프로세스 간 관계

### 부모-자식 관계

프로세스는 계층적 구조를 형성하며, 부모 프로세스가 자식 프로세스를 생성하는 관계를 가진다.

**실무 팁:**
프로세스는 init 프로세스를 루트로 하는 트리 구조를 형성한다. 부모 프로세스가 종료되면 자식 프로세스도 종료된다.

**프로세스 생성 메커니즘**
- fork() 시스템 호출을 통한 자식 프로세스 생성
- 부모 프로세스의 메모리 공간 복사
- 자식 프로세스는 부모와 독립적으로 실행

**프로세스 계층 구조**
- init 프로세스를 루트로 하는 트리 구조
- 각 프로세스는 고유한 부모-자식 관계
- 프로세스 그룹과 세션 개념

### 프로세스 간 통신(IPC)

프로세스들은 독립적인 메모리 공간을 가지므로, 데이터 교환을 위한 특별한 메커니즘이 필요합니다.

**공유 메모리**
- 여러 프로세스가 접근 가능한 메모리 영역
- 가장 빠른 통신 방식
- 동기화 메커니즘 필요

**파이프(Pipe)**
- 프로세스 간 데이터 전송을 위한 통로
- 단방향 통신 지원
- 익명 파이프와 명명된 파이프

**메시지 큐**
- 프로세스 간 메시지 전송
- 비동기 통신 지원
- 우선순위 기반 메시지 처리

**소켓**
- 네트워크를 통한 프로세스 간 통신
- 로컬과 원격 통신 모두 지원
- TCP/UDP 프로토콜 사용

## 프로세스 관리의 중요성

### 시스템 안정성
프로세스 관리는 시스템의 안정성에 직접적인 영향을 미친다. 잘못된 프로세스 관리는 메모리 누수, 데드락, 시스템 크래시 등의 문제를 야기할 수 있다.

### 자원 효율성
제한된 시스템 자원을 효율적으로 사용하기 위해 프로세스 관리가 필수적이다. CPU, 메모리, 입출력 장치 등의 자원을 적절히 분배하고 관리해야 한다.

### 보안
프로세스 간 격리는 시스템 보안의 기본 요소다. 각 프로세스는 독립적인 메모리 공간을 가지며, 다른 프로세스의 메모리에 직접 접근할 수 없도록 보호된다.

### 성능 최적화
적절한 프로세스 스케줄링과 자원 관리는 시스템 성능을 최적화한다. 우선순위 기반 스케줄링, 시간 할당량 조정 등을 통해 전체 시스템의 성능을 향상시킬 수 있다.

**실무 팁:**
프로세스 관리는 운영체제의 핵심 기능이다. 프로세스 간 격리는 보안과 안정성을 보장한다. 프로세스 간 통신은 IPC를 통해 이루어진다.

## 참조

- Abraham Silberschatz, Peter Baer Galvin, Greg Gagne. "Operating System Concepts" (10th Edition). Wiley, 2018.
- Andrew S. Tanenbaum, Herbert Bos. "Modern Operating Systems" (4th Edition). Pearson, 2014.
- William Stallings. "Operating Systems: Internals and Design Principles" (9th Edition). Pearson, 2017.
- Linux Kernel Documentation: Process Management
- POSIX.1-2017 Standard: Process Management