# 프로세스의 구조

## 프로세스의 기본 개념
- 프로세스는 실행 중인 프로그램의 인스턴스로, 운영체제의 기본 작업 단위이다.
- 각 프로세스는 독립적인 메모리 공간과 시스템 자원을 할당받는다.
- 프로세스는 실행, 준비, 대기 등 다양한 상태를 가지며, 이 상태들은 프로세스 스케줄링에 의해 관리된다.

## 프로세스의 주요 구성 요소

### 1. 프로세스 제어 블록(PCB, Process Control Block)
- 각 프로세스마다 고유한 PCB가 존재하며, 프로세스의 상태 정보를 저장한다.
- PCB의 주요 구성 요소:
  - 프로세스 식별자(PID): 프로세스를 구분하는 고유 번호
  - 프로세스 상태: 실행, 준비, 대기 등의 현재 상태
  - 프로그램 카운터(PC): 다음에 실행할 명령어의 주소
  - CPU 레지스터: 프로세스가 실행 중일 때 사용하는 레지스터 값
  - 메모리 관리 정보: 페이지 테이블, 세그먼트 테이블 등
  - 입출력 상태 정보: 프로세스에 할당된 입출력 장치 목록
  - 계정 정보: CPU 사용 시간, 프로세스 우선순위 등

### 2. 메모리 구조
- 프로세스의 메모리는 다음과 같은 영역으로 구성된다:
  - 코드 영역(Text Segment): 실행 가능한 프로그램 코드
  - 데이터 영역(Data Segment): 전역 변수, 정적 변수
  - 힙 영역(Heap): 동적 메모리 할당 영역
  - 스택 영역(Stack): 함수 호출, 지역 변수, 매개변수 저장

### 3. 프로세스 상태 전이
- 프로세스는 다음과 같은 상태를 거치며 실행된다:
  1. 생성(New): 프로세스가 생성된 상태
  2. 준비(Ready): CPU를 할당받을 수 있는 상태
  3. 실행(Running): CPU를 할당받아 명령어를 실행 중인 상태
  4. 대기(Waiting): 입출력 작업 완료 등 특정 이벤트를 기다리는 상태
  5. 종료(Terminated): 프로세스가 종료된 상태

## 프로세스 계층 구조
- 프로세스는 부모-자식 관계를 형성하며 계층적으로 생성된다.
- 부모 프로세스는 fork() 시스템 호출을 통해 자식 프로세스를 생성한다.
- 자식 프로세스는 부모 프로세스의 메모리 공간을 복사하여 생성된다.
- 프로세스 간 통신(IPC)을 통해 데이터를 주고받을 수 있다.

## 프로세스 생성 과정
1. 새로운 프로세스 식별자(PID) 할당
2. 프로세스 제어 블록(PCB) 생성 및 초기화
3. 메모리 공간 할당
   - 코드 영역: 프로그램 코드 복사
   - 데이터 영역: 전역 변수 초기화
   - 스택 영역: 지역 변수 공간 할당
   - 힙 영역: 동적 메모리 할당 준비
4. 자원 할당
   - 파일 디스크립터
   - 입출력 장치
   - 네트워크 소켓 등
5. 프로세스 상태를 준비 상태로 변경
6. 스케줄러 큐에 삽입

## 프로세스 종료 과정
1. 프로세스가 마지막 명령어 실행 완료
2. 운영체제에 종료 요청
3. 할당된 자원 반환
   - 메모리 공간 해제
   - 파일 디스크립터 닫기
   - 입출력 장치 반환
4. PCB 제거
5. 부모 프로세스에 종료 상태 전달

## 프로세스 관리의 중요성
- 시스템 안정성: 잘못된 프로세스 관리는 시스템 충돌을 일으킬 수 있다.
- 자원 효율성: 제한된 시스템 자원을 효율적으로 사용해야 한다.
- 보안: 프로세스 간 격리는 시스템 보안에 필수적이다.
- 성능: 적절한 프로세스 스케줄링은 시스템 성능을 최적화한다.
