
# 스레드의 자원 공유
- 스레드는 프로세스가 할당 받은 자원을 이용하는 실행의 단위로서, 스레드가 여러개 있으면 우리가 파일을 다운 받으며 동시에 웹 서핑을 할 수 있게 해준다. 
- 스레드끼리ㅠ프로세스의 자원을 공유하면서 프로세스 실행 흐름의 일부가 되기 때문에 동시 작업이 가능한 것이다. 
- 그래서 아래 사진과 같이 하나의 프로세스 내에 여러개의 스레드가 들어있는 상태인 것이다.


<div align="center">
    <img src="../../../../etc/image/OS/쓰레드의 자원 구조.png" alt="쓰레드의 자원 구조.png" width="50%">
</div>

- 이때 프로세스의 4가지 메모리 영역(Code, Data, Heap, Stack) 중 스레드는 Stack만 할당받아 복사하고 Code, Data, Heap은 프로세스내의 다른 스레드들과 공유된다.
- 따라서 각각의 스레드는 별도의 stack을 가지고 있지만 heap 메모리는 고유하기 때문에 서로 다른 스레드에서 가져와 읽고 쓸 수 있게 된다.

[프로세스의 자원 구조](%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EC%9D%98%20%EC%9E%90%EC%9B%90%20%EA%B5%AC%EC%A1%B0.md)를 보면,  각 스레드 별 지역 변수와 같은 호출한 함수가 종료되면 되돌아올 임시적인 자료를 저장하는 독립적인 공간이 존재한다. 


<div align="center">
    <img src="../../../../etc/image/OS/쓰레드의 자원 공유.png" alt="쓰레드의 자원 공조.png" width="50%">
</div>

---

**출처**
- 아래의 출처의 기반에서, 작성되었습니다.

> 출처: https://inpa.tistory.com/entry/👩‍💻-프로세스-⚔️-쓰레드-차이 [Inpa Dev 👨‍💻:티스토리]


