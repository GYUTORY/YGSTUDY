---
title: 라우팅
tags: [network, 라우팅, 네트워크, 라우터]
updated: 2025-11-20
---

# 라우팅 (Routing)

## 1. 라우팅의 기본 개념

### 1.1 라우팅이란?

> 💡 **핵심 정의**: 라우팅(Routing)은 네트워크에서 데이터 패킷이 출발지에서 목적지까지 이동할 때 **최적의 경로를 선택하는 프로세스**입니다.

인터넷과 같은 패킷 교환 네트워크에서 라우팅은 IP 패킷이 원본에서 대상으로 이동할 경로를 결정하는 핵심 메커니즘입니다.

![라우팅.md.svg](..%2F..%2Fetc%2Fimage%2FNetwork_image%2F%EB%9D%BC%EC%9A%B0%ED%8C%85.md.svg)

#### 📊 라우팅 기본 개념도

```
┌─────────────────────────────────────────────────────────┐
│              라우팅 프로세스 개요                        │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  출발지                                          목적지  │
│  (PC A)                                         (PC B)  │
│  192.168.1.10                                10.0.0.50  │
│     │                                              ▲     │
│     │ ① 패킷 전송                                  │     │
│     ▼                                              │     │
│  ┌──────────┐         ┌──────────┐         ┌──────────┐│
│  │ Router 1 │────────│ Router 2 │────────│ Router 3 ││
│  │          │         │          │         │          ││
│  │ 라우팅   │         │ 라우팅   │         │ 라우팅   ││
│  │ 테이블   │         │ 테이블   │         │ 테이블   ││
│  └──────────┘         └──────────┘         └──────────┘│
│       │                     │                     │     │
│       │ ② 경로 조회         │ ③ 다음 홉 결정      │     │
│       │                     │                     │     │
│       └─────────────────────┴─────────────────────┘     │
│                                                          │
│  각 라우터는:                                            │
│  ✅ 라우팅 테이블을 조회하여 최적 경로 결정              │
│  ✅ 패킷을 다음 홉(Next Hop)으로 전달                    │
│  ✅ TTL을 감소시키고 체크섬 재계산                       │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

---

### 1.2 라우팅의 중요성

```
┌────────────────────────────────────────────────────────────┐
│              라우팅이 중요한 3가지 이유                    │
└────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────┐
│  🚀 1. 효율적인 데이터 전송                              │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  ┌────────────┐    최적 경로 선택    ┌────────────┐     │
│  │  출발지    │ ───────────────────> │  목적지    │     │
│  └────────────┘                      └────────────┘     │
│        │                                      ▲          │
│        │  ❌ 비효율적 경로 회피                │          │
│        └──────────┐          ┌───────────────┘          │
│                   │  우회    │                           │
│                   ▼          │                           │
│            ┌──────────────┐                              │
│            │  혼잡/장애   │                              │
│            │  경로 회피   │                              │
│            └──────────────┘                              │
│                                                           │
│  ✅ 네트워크 트래픽 최소화                                │
│  ✅ 전송 속도 향상                                        │
│  ✅ 지연 시간 최소화                                      │
│  ✅ 대역폭 효율적 활용                                    │
│                                                           │
└──────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────┐
│  🛡️ 2. 네트워크 안정성                                    │
├──────────────────────────────────────────────────────────┤
│                                                           │
│           ┌────────── 주 경로 ──────────┐                │
│           │         (정상 동작)         │                │
│           ▼                             ▼                │
│  ┌────┐ ──────────────────────────── ┌────┐             │
│  │ A  │                               │ B  │             │
│  └────┘ ── 백업 경로 (장애 시 전환) ─ └────┘             │
│           ▲                             ▲                │
│           │         ⚠️ 장애 발생!       │                │
│           └─────── 자동 전환 ──────────┘                │
│                                                           │
│  ✅ 장애 발생 시 자동 우회                                │
│  ✅ 백업 경로 제공                                        │
│  ✅ 무중단 서비스 보장                                    │
│  ✅ 자동 복구 기능                                        │
│                                                           │
└──────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────┐
│  📈 3. 네트워크 확장성                                    │
├──────────────────────────────────────────────────────────┤
│                                                           │
│              ┌─────────────────┐                         │
│              │  인터넷 백본    │                         │
│              │  (수천 개 AS)  │                         │
│              └────────┬────────┘                         │
│                       │                                   │
│         ┌─────────────┼─────────────┐                    │
│         │             │             │                    │
│    ┌────▼───┐    ┌───▼────┐    ┌──▼─────┐              │
│    │ AS 100 │    │ AS 200 │    │ AS 300 │              │
│    │        │    │        │    │        │              │
│    └────┬───┘    └───┬────┘    └────────┘              │
│         │            │                                   │
│    ┌────▼──┐    ┌───▼────┐                              │
│    │기업 A │    │ 기업 B │                              │
│    └───────┘    └────────┘                              │
│                                                           │
│  ✅ 대규모 네트워크 지원                                  │
│  ✅ 계층적 구조로 관리 용이                               │
│  ✅ 동적 확장 가능                                        │
│  ✅ 자동 라우팅 정보 업데이트                             │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

---

### 1.3 라우팅 경로 선택 과정

#### 📌 다중 경로 시나리오

```
┌─────────────────────────────────────────────────────────────┐
│           패킷이 A에서 B로 이동하는 경로 선택              │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  출발지 (A)                                     목적지 (B)  │
│  192.168.1.10                                  10.0.0.50    │
│      │                                               ▲       │
│      │                                               │       │
│      ├──────────── 경로 1 (최단 경로) ────────────────┤      │
│      │   R1 → R3 → R5                                │       │
│      │   홉 수: 3, 지연: 10ms, 비용: 낮음            │       │
│      │                                               │       │
│      ├──────────── 경로 2 (빠른 경로) ────────────────┤      │
│      │   R1 → R4                                     │       │
│      │   홉 수: 2, 지연: 8ms, 비용: 중간             │       │
│      │                                               │       │
│      └──────────── 경로 3 (백업 경로) ────────────────┘      │
│          R1 → R6 → R7 → R8                                   │
│          홉 수: 4, 지연: 20ms, 비용: 높음                    │
│                                                              │
│  🎯 라우터의 선택: 경로 2 (최적 균형)                       │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

#### 📊 경로 선택 기준 (메트릭)

| 메트릭 | 설명 | 영향 | 사용 프로토콜 |
|--------|------|------|---------------|
| 🔢 **홉 수** | 거쳐야 하는 라우터 개수 | 적을수록 좋음 | RIP |
| 🚀 **대역폭** | 경로의 데이터 전송 용량 | 클수록 좋음 | EIGRP, OSPF |
| ⏱️ **지연 시간** | 패킷 전달 소요 시간 | 짧을수록 좋음 | EIGRP |
| 🎯 **신뢰성** | 경로의 안정성 | 높을수록 좋음 | EIGRP |
| 💰 **비용** | 경로 사용 비용 | 낮을수록 좋음 | OSPF |
| 📊 **로드** | 현재 트래픽 부하 | 낮을수록 좋음 | EIGRP |

#### 🔄 동적 경로 선택 프로세스

```
┌────────────────────────────────────────────────────────┐
│          라우터의 경로 선택 의사결정 과정              │
├────────────────────────────────────────────────────────┤
│                                                         │
│  1️⃣  패킷 도착 및 목적지 확인                          │
│      ↓                                                  │
│      목적지 IP: 10.0.0.50                              │
│      ↓                                                  │
│  2️⃣  라우팅 테이블 조회                                │
│      ┌────────────────────────────┐                    │
│      │ 목적지    | 다음홉  | 메트릭│                    │
│      │10.0.0.0/24| R3      | 10   │ ← 경로 1           │
│      │10.0.0.0/24| R4      | 8    │ ← 경로 2 (선택)    │
│      │10.0.0.0/24| R6      | 20   │ ← 경로 3           │
│      └────────────────────────────┘                    │
│      ↓                                                  │
│  3️⃣  최적 경로 결정                                    │
│      • 메트릭 비교: 8 < 10 < 20                        │
│      • 경로 2가 최적                                    │
│      ↓                                                  │
│  4️⃣  패킷 전달                                         │
│      • R4로 패킷 전송                                   │
│      • TTL 감소                                         │
│      • 체크섬 재계산                                    │
│      ↓                                                  │
│  5️⃣  다음 라우터에서 반복                              │
│                                                         │
│  💡 네트워크 상태가 변하면 경로도 동적으로 재선택       │
│                                                         │
└────────────────────────────────────────────────────────┘
```

## 2. 라우팅의 핵심 구성 요소

### 2.1 라우팅 테이블 (Routing Table)

> 📖 **핵심 개념**: 라우팅 테이블은 라우터의 **핵심 구성 요소**로, 네트워크 경로 정보를 저장하는 데이터베이스입니다.

#### 📊 라우팅 테이블 구조

```
┌──────────────────────────────────────────────────────────────┐
│                    라우팅 테이블 구조                        │
├──────────────────────────────────────────────────────────────┤
│                                                               │
│  ┌──────────────────────────────────────────────────────┐   │
│  │  Destination  │ Netmask       │ Gateway   │ Metric  │   │
│  │  (목적지)     │ (서브넷마스크) │(다음 홉)  │(비용)   │   │
│  ├──────────────────────────────────────────────────────┤   │
│  │  192.168.1.0  │ 255.255.255.0 │ 10.0.0.1  │    1    │   │
│  │  10.0.0.0     │ 255.0.0.0     │ 10.0.0.2  │    2    │   │
│  │  172.16.0.0   │ 255.255.0.0   │ 10.0.0.3  │    5    │   │
│  │  0.0.0.0      │ 0.0.0.0       │ 10.0.0.254│   10    │   │
│  │               │               │ (기본GW)  │         │   │
│  └──────────────────────────────────────────────────────┘   │
│         │              │             │            │          │
│         ▼              ▼             ▼            ▼          │
│   어디로 가야?    얼마나 구체적?  어떻게 가야?  비용은?      │
│                                                               │
└──────────────────────────────────────────────────────────────┘
```

#### 📌 라우팅 테이블 구성 요소

| 요소 | 설명 | 예시 |
|------|------|------|
| 🎯 **목적지 네트워크** | 패킷이 도달해야 할 네트워크 주소 | `192.168.1.0` |
| 🔢 **서브넷 마스크** | 네트워크와 호스트 부분 구분 | `255.255.255.0` |
| ➡️ **다음 홉 (Next Hop)** | 패킷을 전달할 다음 라우터 | `10.0.0.1` |
| 💰 **메트릭** | 경로의 비용/우선순위 | `10` |
| 🔌 **인터페이스** | 패킷을 전송할 네트워크 인터페이스 | `eth0` |
| 📡 **프로토콜** | 경로 정보를 얻은 프로토콜 | `OSPF, BGP` |

#### 🔍 라우팅 테이블 조회 예시

```
┌─────────────────────────────────────────────────────────┐
│        목적지 IP: 192.168.1.50으로 가는 경로 찾기       │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  1️⃣  라우팅 테이블 스캔                                 │
│      ┌────────────────────────────────────┐             │
│      │ 192.168.1.0/24 → 10.0.0.1  (매치!)│             │
│      │ 10.0.0.0/8     → 10.0.0.2         │             │
│      │ 0.0.0.0/0      → 10.0.0.254       │ (기본 경로) │
│      └────────────────────────────────────┘             │
│                                                          │
│  2️⃣  Longest Prefix Match 적용                         │
│      192.168.1.50은 192.168.1.0/24에 매칭              │
│      /24 (가장 구체적) > /8 > /0                        │
│                                                          │
│  3️⃣  선택된 경로                                        │
│      ✅ 다음 홉: 10.0.0.1                               │
│      ✅ 인터페이스: eth0                                │
│      ✅ 메트릭: 1                                        │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

---

### 2.2 라우팅 프로세스

> 🔄 **라우터가 패킷을 처리하는 전체 흐름**

```
┌──────────────────────────────────────────────────────────┐
│              패킷 라우팅 처리 프로세스                   │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  📥 1단계: 패킷 수신                                      │
│  ┌────────────────────────────────────────────┐          │
│  │  • 인터페이스에서 패킷 도착                │          │
│  │  • Ethernet 프레임 디캡슐화                │          │
│  │  • IP 헤더 추출                            │          │
│  └────────────────┬───────────────────────────┘          │
│                   │                                       │
│                   ▼                                       │
│  🔍 2단계: 패킷 검증                                      │
│  ┌────────────────────────────────────────────┐          │
│  │  • 목적지 IP 확인: 10.0.0.50               │          │
│  │  • TTL 확인: 64 (충분함)                   │          │
│  │  • 체크섬 검증: ✅ 정상                     │          │
│  │  • 패킷 크기 검증: ✅ 정상                  │          │
│  └────────────────┬───────────────────────────┘          │
│                   │                                       │
│                   ▼                                       │
│  📋 3단계: 라우팅 테이블 조회                             │
│  ┌────────────────────────────────────────────┐          │
│  │  라우팅 테이블:                            │          │
│  │  ┌──────────────────────────────────┐     │          │
│  │  │ 10.0.0.0/24 → 192.168.1.1 (매치!)│     │          │
│  │  │ 192.168.0.0/16 → 192.168.2.1     │     │          │
│  │  │ 0.0.0.0/0 → 203.0.113.1          │     │          │
│  │  └──────────────────────────────────┘     │          │
│  │                                            │          │
│  │  Longest Prefix Match:                    │          │
│  │  10.0.0.50 → 10.0.0.0/24 선택             │          │
│  └────────────────┬───────────────────────────┘          │
│                   │                                       │
│                   ▼                                       │
│  🎯 4단계: 경로 결정                                      │
│  ┌────────────────────────────────────────────┐          │
│  │  여러 경로가 있는 경우:                    │          │
│  │                                            │          │
│  │  ① Administrative Distance 비교           │          │
│  │     OSPF (110) < EIGRP (90) < RIP (120)   │          │
│  │                                            │          │
│  │  ② 메트릭 비교                             │          │
│  │     경로 1: 메트릭 10                      │          │
│  │     경로 2: 메트릭 5  ← 선택!              │          │
│  │                                            │          │
│  │  ③ 로드 밸런싱 (메트릭 동일 시)            │          │
│  └────────────────┬───────────────────────────┘          │
│                   │                                       │
│                   ▼                                       │
│  📤 5단계: 패킷 전달 준비                                 │
│  ┌────────────────────────────────────────────┐          │
│  │  • TTL 감소: 64 → 63                       │          │
│  │  • 체크섬 재계산                           │          │
│  │  • MAC 주소 변경 (ARP 조회)                │          │
│  │  • 출력 인터페이스 선택: eth1              │          │
│  └────────────────┬───────────────────────────┘          │
│                   │                                       │
│                   ▼                                       │
│  🚀 6단계: 패킷 전송                                      │
│  ┌────────────────────────────────────────────┐          │
│  │  • Ethernet 프레임 캡슐화                  │          │
│  │  • 다음 홉으로 전송: 192.168.1.1           │          │
│  │  • 전송 완료 ✅                             │          │
│  └────────────────────────────────────────────┘          │
│                                                           │
│  ⚠️ 예외 처리:                                            │
│  • TTL = 0: ICMP Time Exceeded 전송                      │
│  • 경로 없음: ICMP Destination Unreachable               │
│  • 단편화 필요: MTU 크기에 맞게 패킷 분할                 │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

---

### 2.3 라우팅 메트릭

> 📏 **경로 선택의 기준이 되는 측정값**

#### 📊 메트릭 유형 및 비교

```
┌──────────────────────────────────────────────────────────┐
│              라우팅 메트릭 종류와 특징                   │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  🔢 홉 수 (Hop Count)                                     │
│  ┌────────────────────────────────────────┐              │
│  │  A ──→ R1 ──→ R2 ──→ R3 ──→ B         │              │
│  │        (3 hops)                        │              │
│  │                                        │              │
│  │  • 간단하고 이해하기 쉬움               │              │
│  │  • 대역폭/지연 고려 안 함               │              │
│  │  • RIP에서 사용                        │              │
│  │  • 최대 15홉 제한                      │              │
│  └────────────────────────────────────────┘              │
│                                                           │
│  🚀 대역폭 (Bandwidth)                                    │
│  ┌────────────────────────────────────────┐              │
│  │  경로 1: 100Mbps (비용: 10)            │              │
│  │  경로 2: 1Gbps   (비용: 1)  ← 선택!    │              │
│  │  경로 3: 10Mbps  (비용: 100)           │              │
│  │                                        │              │
│  │  • 전송 속도 반영                      │              │
│  │  • OSPF Cost = 10^8 / 대역폭           │              │
│  │  • 높을수록 좋음                       │              │
│  └────────────────────────────────────────┘              │
│                                                           │
│  ⏱️ 지연 시간 (Delay)                                     │
│  ┌────────────────────────────────────────┐              │
│  │  경로 A: 10ms  ← 선택!                 │              │
│  │  경로 B: 50ms                          │              │
│  │  경로 C: 100ms                         │              │
│  │                                        │              │
│  │  • 실시간 응용에 중요                  │              │
│  │  • EIGRP에서 사용                      │              │
│  │  • 낮을수록 좋음                       │              │
│  └────────────────────────────────────────┘              │
│                                                           │
│  🎯 복합 메트릭 (EIGRP)                                   │
│  ┌────────────────────────────────────────┐              │
│  │  메트릭 = 256 × (K1×대역폭 +          │              │
│  │                  K2×대역폭/로드 +      │              │
│  │                  K3×지연 +             │              │
│  │                  K4×신뢰성)            │              │
│  │                                        │              │
│  │  • 여러 요소 종합 고려                 │              │
│  │  • 네트워크 특성에 맞게 조정 가능      │              │
│  │  • 가장 정교한 메트릭                  │              │
│  └────────────────────────────────────────┘              │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

#### 📈 메트릭 계산 방식 비교

| 프로토콜 | 메트릭 유형 | 계산 방식 | 특징 |
|----------|-------------|-----------|------|
| **RIP** | 단일 (홉 수) | 라우터 개수만 카운트 | ✅ 간단<br>❌ 부정확 |
| **OSPF** | 단일 (비용) | `10^8 / 대역폭` | ✅ 대역폭 고려<br>✅ 확장 가능 |
| **EIGRP** | 복합 | 대역폭+지연+신뢰성+로드 | ✅ 매우 정확<br>✅ 튜닝 가능 |
| **BGP** | 경로 속성 | AS 경로+정책 | ✅ 정책 기반<br>✅ 대규모 적합 |

#### 🎯 메트릭 선택 예시

```
목적지까지 3개의 경로가 있을 때:

┌─────────────────────────────────────────────┐
│  경로 1: 홉 2, 1Gbps,  지연 10ms           │
│  경로 2: 홉 1, 10Mbps, 지연 50ms           │
│  경로 3: 홉 3, 100Mbps, 지연 20ms          │
└─────────────────────────────────────────────┘

프로토콜별 선택:
  RIP:    경로 2 (홉 수가 가장 적음)
  OSPF:   경로 1 (대역폭이 가장 큼)
  EIGRP:  경로 1 (복합 메트릭 최적)

💡 같은 목적지라도 프로토콜에 따라 다른 경로 선택!
```

## 3. 라우팅 프로토콜

### 3.1 라우팅 프로토콜 분류

```
┌──────────────────────────────────────────────────────────┐
│              라우팅 프로토콜 분류 체계                   │
└──────────────────────────────────────────────────────────┘

                    라우팅 프로토콜
                          │
         ┌────────────────┴────────────────┐
         │                                  │
    🔧 정적 라우팅                     🔄 동적 라우팅
  (Static Routing)              (Dynamic Routing)
         │                                  │
         │                    ┌─────────────┼─────────────┐
         │                    │             │             │
   수동 설정           IGP (내부)    EGP (외부)    알고리즘별
         │              │             │              │
         │         ┌────┴────┐        │         ┌────┴────┐
         │         │         │        │         │         │
    • 소규모    거리벡터  링크상태   BGP    Distance  Link
    • 단순      │         │              Vector    State
    • 관리     RIP     OSPF
              EIGRP
```

---

#### 📋 관리 방식에 따른 분류

```
┌────────────────────────────────────────────────────────┐
│  1️⃣  정적 라우팅 (Static Routing)                      │
├────────────────────────────────────────────────────────┤
│                                                         │
│  관리자가 수동으로 경로를 설정                          │
│                                                         │
│  ┌──────────────────────────────────────────┐          │
│  │  # ip route add 10.0.0.0/24 via 192.168.1.1│        │
│  │  # ip route add 172.16.0.0/16 via 192.168.1.2│      │
│  └──────────────────────────────────────────┘          │
│                                                         │
│  ✅ 장점:                                               │
│    • 설정이 간단하고 명확                               │
│    • CPU/메모리 사용 최소화                             │
│    • 네트워크 트래픽 발생 없음                          │
│    • 보안성 우수 (정보 교환 없음)                       │
│                                                         │
│  ❌ 단점:                                               │
│    • 수동 관리 필요                                     │
│    • 확장성 제한                                        │
│    • 장애 시 자동 복구 불가                             │
│    • 대규모 네트워크 관리 어려움                        │
│                                                         │
│  📍 적용 사례:                                          │
│    • 소규모 네트워크                                    │
│    • 기본 게이트웨이 설정                               │
│    • 백업 경로 설정                                     │
│                                                         │
└────────────────────────────────────────────────────────┘

┌────────────────────────────────────────────────────────┐
│  2️⃣  동적 라우팅 (Dynamic Routing)                     │
├────────────────────────────────────────────────────────┤
│                                                         │
│  프로토콜을 통해 자동으로 경로 학습 및 업데이트         │
│                                                         │
│  ┌──────────────────────────────────┐                  │
│  │   Router A  ←→  Router B        │                  │
│  │      │             │             │                  │
│  │   라우팅 정보 교환               │                  │
│  │   (Hello, LSA, Update...)        │                  │
│  │      │             │             │                  │
│  │   자동 경로 학습 및 업데이트      │                  │
│  └──────────────────────────────────┘                  │
│                                                         │
│  ✅ 장점:                                               │
│    • 자동 경로 학습 및 업데이트                         │
│    • 장애 시 자동 복구                                  │
│    • 대규모 네트워크 관리 용이                          │
│    • 네트워크 변화에 동적 대응                          │
│                                                         │
│  ❌ 단점:                                               │
│    • CPU/메모리 사용 증가                               │
│    • 네트워크 트래픽 발생                               │
│    • 복잡한 설정 필요                                   │
│    • 학습 시간(수렴 시간) 필요                          │
│                                                         │
│  📍 적용 사례:                                          │
│    • 대규모 기업 네트워크                               │
│    • ISP 네트워크                                       │
│    • 데이터 센터                                        │
│                                                         │
└────────────────────────────────────────────────────────┘
```

---

#### 🔄 알고리즘에 따른 분류

```
┌──────────────────────────────────────────────────────────┐
│  🗺️ 거리 벡터 (Distance Vector)                          │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  개념: "이웃에게서 들은 정보를 믿는다"                    │
│                                                           │
│  ┌────────┐  "A는 3홉"   ┌────────┐  "A는 2홉"  ┌────┐  │
│  │Router A│ ←────────── │Router B│ ←────────── │ C  │  │
│  └────────┘              └────────┘              └────┘  │
│      ▲                       │                            │
│      │                       │                            │
│      └───────────────────────┘                            │
│          "C는 A까지 2홉 + 1 = 3홉"                        │
│                                                           │
│  동작 방식:                                               │
│  1️⃣  주기적으로 전체 라우팅 테이블 교환                  │
│  2️⃣  인접 라우터의 정보를 기반으로 경로 계산             │
│  3️⃣  Bellman-Ford 알고리즘 사용                          │
│                                                           │
│  특징:                                                    │
│  ✅ 구현 간단                                             │
│  ✅ 메모리 사용 적음                                      │
│  ❌ 수렴 속도 느림                                        │
│  ❌ 라우팅 루프 가능성                                    │
│  ❌ 전체 토폴로지 파악 불가                               │
│                                                           │
│  프로토콜: RIP, EIGRP (Advanced DV)                      │
│                                                           │
└──────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────┐
│  🔗 링크 상태 (Link State)                                │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  개념: "전체 지도를 보고 최단 경로를 직접 계산"           │
│                                                           │
│  각 라우터가 전체 네트워크 토폴로지 맵을 가짐:            │
│                                                           │
│          [Router A의 네트워크 맵]                         │
│          ┌───────────────────────┐                       │
│          │    A ─── B            │                       │
│          │    │   / │            │                       │
│          │    │  /  │            │                       │
│          │    │ /   │            │                       │
│          │    C ─── D            │                       │
│          └───────────────────────┘                       │
│           ↑                                               │
│           │ LSA 교환으로 구축                             │
│                                                           │
│  동작 방식:                                               │
│  1️⃣  LSA (Link State Advertisement) 교환                 │
│  2️⃣  전체 네트워크 토폴로지 데이터베이스 구축            │
│  3️⃣  Dijkstra 알고리즘으로 SPF 트리 계산                 │
│  4️⃣  라우팅 테이블 생성                                  │
│                                                           │
│  특징:                                                    │
│  ✅ 빠른 수렴 속도                                        │
│  ✅ 라우팅 루프 없음                                      │
│  ✅ 전체 토폴로지 파악                                    │
│  ❌ 메모리 사용 많음                                      │
│  ❌ CPU 사용 많음                                         │
│  ❌ 구현 복잡                                             │
│                                                           │
│  프로토콜: OSPF, IS-IS                                    │
│                                                           │
└──────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────┐
│  🛣️ 경로 벡터 (Path Vector)                              │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  개념: "거쳐온 전체 경로를 보고 루프 방지"                │
│                                                           │
│  ┌─────┐   AS-Path:     ┌─────┐   AS-Path:    ┌─────┐  │
│  │AS100│   [100, 200]    │AS200│   [200, 300]  │AS300│  │
│  └──┬──┘  ────────────> └──┬──┘  ────────────> └─────┘  │
│     │                       │                             │
│     │     AS-Path:          │                             │
│     └──────[100, 200, 300]──┘                             │
│                                                           │
│  특징:                                                    │
│  • BGP에서 사용                                           │
│  • AS 경로 정보 교환                                      │
│  • 루프 감지 (자신의 AS가 경로에 있으면 거부)            │
│  • 정책 기반 라우팅 가능                                  │
│                                                           │
│  장점:                                                    │
│  ✅ 확장성 우수 (인터넷 규모)                             │
│  ✅ 정책 적용 가능                                        │
│  ✅ 루프 자동 방지                                        │
│                                                           │
│  프로토콜: BGP                                            │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

#### 📊 알고리즘 비교

| 특성 | 거리 벡터 | 링크 상태 | 경로 벡터 |
|------|-----------|-----------|-----------|
| **알고리즘** | Bellman-Ford | Dijkstra | Path Vector |
| **교환 정보** | 라우팅 테이블 | 링크 상태 | AS 경로 |
| **교환 범위** | 인접 라우터 | 모든 라우터 | 인접 AS |
| **수렴 속도** | ⚠️ 느림 | ✅ 빠름 | ⚠️ 매우 느림 |
| **메모리** | ✅ 적음 | ❌ 많음 | 🔶 중간 |
| **CPU** | ✅ 적음 | ❌ 많음 | 🔶 중간 |
| **확장성** | ❌ 제한적 | ✅ 우수 | ✅ 매우 우수 |
| **대표 프로토콜** | RIP | OSPF | BGP |

### 3.2 주요 라우팅 프로토콜

---

#### 🌐 BGP (Border Gateway Protocol)

> **핵심 역할**: 인터넷의 백본을 구성하는 AS 간 라우팅 프로토콜

```
┌──────────────────────────────────────────────────────────┐
│              BGP 동작 방식                               │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  AS 100              AS 200              AS 300          │
│  ┌─────┐            ┌─────┐            ┌─────┐          │
│  │ ISP │ eBGP       │ ISP │ eBGP       │ ISP │          │
│  │  A  │←──────────→│  B  │←──────────→│  C  │          │
│  └──┬──┘            └──┬──┘            └──┬──┘          │
│     │                  │                  │              │
│     │iBGP              │iBGP              │iBGP          │
│     │                  │                  │              │
│  ┌──┴──────┐       ┌──┴──────┐       ┌──┴──────┐       │
│  │내부     │       │내부     │       │내부     │       │
│  │라우터들 │       │라우터들 │       │라우터들 │       │
│  └─────────┘       └─────────┘       └─────────┘       │
│                                                           │
│  eBGP: AS 간 BGP (External BGP)                          │
│  iBGP: AS 내부 BGP (Internal BGP)                        │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

**📋 주요 특징**
```
┌────────────────────────────────────────────────┐
│ 🎯 프로토콜 특성                               │
├────────────────────────────────────────────────┤
│ • 타입: 경로 벡터 프로토콜                     │
│ • 포트: TCP 179 (연결 지향, 신뢰성)            │
│ • 알고리즘: Path Vector                        │
│ • 메트릭: AS_PATH, MED, LOCAL_PREF 등          │
│ • 사용 환경: 인터넷 백본, ISP                  │
└────────────────────────────────────────────────┘

┌────────────────────────────────────────────────┐
│ ✅ 장점                                        │
├────────────────────────────────────────────────┤
│ • 정책 기반 라우팅 (비즈니스 정책 반영)       │
│ • 대규모 네트워크 지원 (인터넷 전체)           │
│ • 루프 자동 방지 (AS_PATH 확인)               │
│ • 안정성 우수                                  │
└────────────────────────────────────────────────┘

┌────────────────────────────────────────────────┐
│ ⚠️ 단점                                        │
├────────────────────────────────────────────────┤
│ • 매우 느린 수렴 시간 (몇 분 ~ 몇 시간)       │
│ • 복잡한 설정                                  │
│ • 메모리 사용 큼 (전체 인터넷 라우팅 정보)    │
└────────────────────────────────────────────────┘
```

**🔄 BGP 경로 선택 과정**
```
목적지까지 여러 경로가 있을 때:

1️⃣  가장 높은 Weight (Cisco 전용)
2️⃣  가장 높은 LOCAL_PREF
3️⃣  로컬에서 시작된 경로
4️⃣  가장 짧은 AS_PATH      ← 주요 기준!
5️⃣  가장 낮은 ORIGIN
6️⃣  가장 낮은 MED
7️⃣  eBGP > iBGP
8️⃣  가장 낮은 IGP 메트릭
9️⃣  가장 오래된 경로
```

---

#### 🔗 OSPF (Open Shortest Path First)

> **핵심 역할**: 대규모 기업 네트워크를 위한 링크 상태 프로토콜

```
┌──────────────────────────────────────────────────────────┐
│              OSPF 계층 구조 (Area 개념)                 │
├──────────────────────────────────────────────────────────┤
│                                                           │
│              Area 0 (Backbone Area)                      │
│  ┌───────────────────────────────────────────┐          │
│  │  ┌──────┐      ┌──────┐      ┌──────┐    │          │
│  │  │ ABR  │──────│ ABR  │──────│ ABR  │    │          │
│  │  └───┬──┘      └───┬──┘      └───┬──┘    │          │
│  └──────┼─────────────┼─────────────┼────────┘          │
│         │             │             │                    │
│    ┌────▼───┐    ┌───▼────┐    ┌──▼─────┐              │
│    │ Area 1 │    │ Area 2 │    │ Area 3 │              │
│    │        │    │        │    │        │              │
│    │ Internal│   │Internal│    │Internal│              │
│    │ Routers│    │Routers │    │Routers │              │
│    └────────┘    └────────┘    └────────┘              │
│                                                           │
│  ABR: Area Border Router (영역 경계 라우터)              │
│  모든 Area는 Area 0과 연결되어야 함                       │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

**📋 주요 특징**
```
┌────────────────────────────────────────────────┐
│ 🎯 프로토콜 특성                               │
├────────────────────────────────────────────────┤
│ • 타입: 링크 상태 프로토콜                     │
│ • 알고리즘: Dijkstra SPF                       │
│ • 메트릭: Cost (10^8 / 대역폭)                 │
│ • Area 기반 계층 구조                          │
│ • 빠른 수렴 (초 단위)                          │
│ • VLSM 지원                                    │
└────────────────────────────────────────────────┘
```

**🔄 OSPF 동작 과정**
```
1️⃣  Neighbor Discovery (이웃 발견)
    Hello 패킷 교환 (10초마다)
    ↓
2️⃣  Adjacency 형성 (인접 관계 수립)
    DBD (Database Description) 교환
    ↓
3️⃣  LSA 교환 (Link State Advertisement)
    네트워크 토폴로지 정보 수집
    ↓
4️⃣  LSDB 구축 (Link State Database)
    전체 네트워크 지도 생성
    ↓
5️⃣  SPF 알고리즘 실행
    최단 경로 트리 계산
    ↓
6️⃣  라우팅 테이블 업데이트
    계산된 경로 적용
```

---

#### 📡 RIP (Routing Information Protocol)

> **핵심 역할**: 소규모 네트워크를 위한 간단한 프로토콜

```
┌──────────────────────────────────────────────────────────┐
│              RIP 동작 방식                               │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  Router A          Router B          Router C            │
│  ┌──────┐          ┌──────┐          ┌──────┐           │
│  │ 홉:0 │──────────│ 홉:1 │──────────│ 홉:2 │           │
│  └──┬───┘          └──┬───┘          └──┬───┘           │
│     │                 │                 │                │
│     │ 30초마다        │ 30초마다        │                │
│     │ 테이블 전송     │ 테이블 전송     │                │
│     ▼                 ▼                 ▼                │
│  전체 라우팅 테이블을 인접 라우터에 브로드캐스트         │
│                                                           │
│  ⚠️ Count to Infinity 문제:                              │
│  - 경로 장애 시 홉 수가 무한히 증가                      │
│  - 해결책: 최대 홉 수 15로 제한                          │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

**📋 버전 비교**
| 특성 | RIPv1 | RIPv2 |
|------|-------|-------|
| 클래스 | 클래스풀 | 클래스리스 (CIDR) |
| 전송 방식 | 브로드캐스트 | 멀티캐스트 (224.0.0.9) |
| 인증 | ❌ 없음 | ✅ MD5/텍스트 |
| VLSM | ❌ 미지원 | ✅ 지원 |
| 사용 권장 | ❌ 구식 | ✅ 권장 |

---

#### ⚡ EIGRP (Enhanced Interior Gateway Routing Protocol)

> **핵심 역할**: Cisco 환경을 위한 고급 거리 벡터 프로토콜

```
┌──────────────────────────────────────────────────────────┐
│              EIGRP 고급 기능                             │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  🎯 DUAL 알고리즘 (Diffusing Update Algorithm)           │
│                                                           │
│     Successor (주 경로)                                   │
│  A ─────────────────────────> B                          │
│  │                             ↑                          │
│  │                             │                          │
│  └─→ Feasible Successor ──────┘                          │
│      (백업 경로, 미리 계산됨)                             │
│                                                           │
│  장애 발생 시 즉시 백업 경로로 전환!                      │
│  (재계산 불필요 = 매우 빠른 수렴)                         │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

**📋 주요 특징**
```
✅ Distance Vector + Link State 장점 결합
✅ 빠른 수렴 (1초 미만 가능)
✅ 복합 메트릭 (대역폭, 지연, 신뢰성, 로드)
✅ 대역폭 효율적 (증분 업데이트만 전송)
✅ 로드 밸런싱 (Unequal Cost 지원)
⚠️  Cisco 전용 (호환성 제한)
```

---

### 3.3 라우팅 프로토콜 비교

```
┌──────────────────────────────────────────────────────────────┐
│           라우팅 프로토콜 종합 비교표                        │
└──────────────────────────────────────────────────────────────┘
```

| 항목 | RIP | OSPF | EIGRP | BGP |
|------|-----|------|-------|-----|
| **타입** | 거리 벡터 | 링크 상태 | 고급 거리 벡터 | 경로 벡터 |
| **알고리즘** | Bellman-Ford | Dijkstra | DUAL | Path Vector |
| **메트릭** | 홉 수 | Cost (대역폭) | 복합 | AS_PATH |
| **최대 홉** | 15 | 무제한 | 255 | 무제한 |
| **수렴 속도** | 🐌 느림 (분) | ⚡ 빠름 (초) | ⚡⚡ 매우 빠름 | 🐌🐌 매우 느림 (분~시간) |
| **업데이트** | 주기적 (30초) | 변화 시 | 변화 시 | 변화 시 |
| **프로토콜** | UDP 520 | IP 89 | IP 88 | TCP 179 |
| **CPU 사용** | ✅ 낮음 | ⚠️ 높음 | 🔶 중간 | 🔶 중간 |
| **메모리 사용** | ✅ 낮음 | ⚠️ 높음 | 🔶 중간 | ⚠️ 매우 높음 |
| **확장성** | ❌ 소규모 | ✅ 대규모 | ✅ 대규모 | ✅✅ 인터넷 규모 |
| **계층 구조** | ❌ 없음 | ✅ Area | ✅ AS | ✅ AS |
| **로드 밸런싱** | ✅ Equal | ✅ Equal | ✅✅ Unequal | ✅ Equal |
| **인증** | RIPv2만 | ✅ MD5 | ✅ MD5 | ✅ MD5 |
| **VLSM 지원** | RIPv2만 | ✅ 지원 | ✅ 지원 | ✅ 지원 |
| **적용 환경** | 소규모 | 기업 네트워크 | Cisco 환경 | ISP/인터넷 |

#### 🎯 프로토콜 선택 가이드

```
┌────────────────────────────────────────────────────┐
│  네트워크 규모별 권장 프로토콜                     │
├────────────────────────────────────────────────────┤
│                                                     │
│  🏠 소규모 (라우터 < 10대)                         │
│     → RIPv2 또는 정적 라우팅                       │
│                                                     │
│  🏢 중규모 (라우터 10~50대)                        │
│     → OSPF 또는 EIGRP                              │
│                                                     │
│  🏭 대규모 기업 (라우터 > 50대)                    │
│     → OSPF (멀티 벤더) or EIGRP (Cisco만)         │
│                                                     │
│  🌐 ISP / 인터넷                                   │
│     → BGP (필수)                                   │
│     → 내부는 OSPF 또는 IS-IS 사용                  │
│                                                     │
└────────────────────────────────────────────────────┘
```

## 4. 라우터의 기능과 구성

### 4.1 라우터의 기본 기능

```
┌──────────────────────────────────────────────────────────┐
│              라우터의 4대 핵심 기능                      │
└──────────────────────────────────────────────────────────┘

     ┌────────────────────────────────────────────┐
     │           📥 패킷 수신                     │
     │         (Physical Layer)                   │
     └──────────────────┬─────────────────────────┘
                        │
                        ▼
     ┌────────────────────────────────────────────┐
     │  1️⃣  패킷 포워딩 (Packet Forwarding)        │
     ├────────────────────────────────────────────┤
     │  • 수신 패킷 검증                          │
     │  • 라우팅 테이블 조회                      │
     │  • 적절한 인터페이스로 전달                │
     │  • MAC 주소 변경 (ARP 사용)                │
     │  • TTL 감소 및 체크섬 재계산               │
     └──────────────────┬─────────────────────────┘
                        │
                        ▼
     ┌────────────────────────────────────────────┐
     │  2️⃣  경로 결정 (Path Determination)        │
     ├────────────────────────────────────────────┤
     │  • 라우팅 프로토콜 실행                    │
     │  • 최적 경로 계산                          │
     │  • 라우팅 테이블 업데이트                  │
     │  • 토폴로지 변화 감지 및 대응              │
     └──────────────────┬─────────────────────────┘
                        │
                        ▼
     ┌────────────────────────────────────────────┐
     │  3️⃣  네트워크 분할 (Segmentation)          │
     ├────────────────────────────────────────────┤
     │  • 브로드캐스트 도메인 분리                │
     │  • 충돌 도메인 분리                        │
     │  • VLAN 간 라우팅                          │
     │  • 네트워크 보안 경계 설정                 │
     └──────────────────┬─────────────────────────┘
                        │
                        ▼
     ┌────────────────────────────────────────────┐
     │  4️⃣  트래픽 제어 (Traffic Control)         │
     ├────────────────────────────────────────────┤
     │  • QoS 정책 적용                           │
     │  • 대역폭 관리 및 쉐이핑                   │
     │  • 우선순위 큐 관리                        │
     │  • 트래픽 분류 및 마킹                     │
     └────────────────────────────────────────────┘
```

#### 📊 패킷 포워딩 상세 프로세스

```
┌──────────────────────────────────────────────────────────┐
│           패킷이 라우터를 통과하는 과정                  │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  입력                                            출력     │
│  ┌────┐                                        ┌────┐    │
│  │eth0│                                        │eth1│    │
│  └─┬──┘                                        └─▲──┘    │
│    │                                             │        │
│    │ ① 프레임 수신                               │        │
│    ▼                                             │        │
│  ┌──────────────────┐                           │        │
│  │ Layer 2 처리     │                           │        │
│  │ - MAC 주소 확인  │                           │        │
│  │ - 프레임 검증    │                           │        │
│  └────────┬─────────┘                           │        │
│           │                                      │        │
│           │ ② IP 헤더 추출                       │        │
│           ▼                                      │        │
│  ┌──────────────────┐                  ┌────────┴──────┐ │
│  │ Layer 3 처리     │                  │ Layer 3 처리  │ │
│  │ - 목적지 IP 확인 │──→ 라우팅 ──→    │ - TTL 감소    │ │
│  │ - TTL 확인       │    테이블       │ - 체크섬 재계산│ │
│  │ - 체크섬 검증    │    조회         │ - IP 헤더 수정 │ │
│  └──────────────────┘                  └────────┬──────┘ │
│                                                  │        │
│                                         ③ ARP 조회       │
│                                                  │        │
│                                         ┌────────▼──────┐ │
│                                         │ Layer 2 처리  │ │
│                                         │ - MAC 주소    │ │
│                                         │   변경        │ │
│                                         │ - 프레임 생성 │ │
│                                         └────────┬──────┘ │
│                                                  │        │
│                                         ④ 프레임 전송     │
│                                                  │        │
└──────────────────────────────────────────────────┼────────┘
                                                   ▼
                                             다음 홉으로 전송
```

#### 🔄 경로 결정 메커니즘

```
┌──────────────────────────────────────────────────────────┐
│           라우터의 지능적 경로 선택                      │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  1. 라우팅 정보 수집                                      │
│  ┌────────────────────────────────────────┐              │
│  │  • 정적 라우팅: 관리자 설정            │              │
│  │  • 동적 라우팅: 프로토콜 교환          │              │
│  │  • 직접 연결: Connected 경로           │              │
│  └────────────────┬───────────────────────┘              │
│                   │                                       │
│  2. 라우팅 테이블 구성                                    │
│                   ▼                                       │
│  ┌────────────────────────────────────────┐              │
│  │ 목적지   | 다음홉 | 메트릭 | 출처      │              │
│  │──────────┼────────┼────────┼──────────│              │
│  │10.0.0.0/8│10.0.0.1│   10   │ OSPF     │              │
│  │10.0.1.0  │10.0.0.2│   5    │ OSPF     │  ← 선택!     │
│  │10.0.1.0  │10.0.0.3│   15   │ RIP      │              │
│  │0.0.0.0/0 │10.0.0.1│   1    │ Static   │  (기본 경로) │
│  └────────────────┬───────────────────────┘              │
│                   │                                       │
│  3. 최적 경로 선택 원칙                                   │
│                   ▼                                       │
│  ┌────────────────────────────────────────┐              │
│  │ ① Longest Prefix Match                │              │
│  │    (가장 구체적인 경로 우선)           │              │
│  │                                        │              │
│  │ ② Administrative Distance             │              │
│  │    (프로토콜 신뢰도)                   │              │
│  │    Connected: 0                        │              │
│  │    Static: 1                           │              │
│  │    EIGRP: 90                           │              │
│  │    OSPF: 110                           │              │
│  │    RIP: 120                            │              │
│  │                                        │              │
│  │ ③ Metric (경로 비용)                   │              │
│  │    낮을수록 우선                       │              │
│  └────────────────────────────────────────┘              │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

#### 🔒 네트워크 분할 효과

```
┌──────────────────────────────────────────────────────────┐
│           라우터를 통한 네트워크 분할                    │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  브로드캐스트 도메인 1      │     브로드캐스트 도메인 2  │
│  ┌────────────────────┐     │     ┌────────────────────┐│
│  │ VLAN 10            │     │     │ VLAN 20            ││
│  │ 192.168.10.0/24    │     │     │ 192.168.20.0/24    ││
│  │                    │     │     │                    ││
│  │  PC1 ←→ PC2 ←→ PC3│     │     │  PC4 ←→ PC5 ←→ PC6││
│  │                    │     │     │                    ││
│  │  브로드캐스트      │     │     │  브로드캐스트      ││
│  │  이 도메인 내에서만│     │     │  이 도메인 내에서만││
│  │  전파됨 ✅         │     │     │  전파됨 ✅         ││
│  └──────────┬─────────┘     │     └──────────┬─────────┘│
│             │                │                │          │
│             └────────────────┼────────────────┘          │
│                              │                            │
│                        ┌─────▼─────┐                     │
│                        │  Router   │                     │
│                        │  Layer 3  │                     │
│                        └───────────┘                     │
│                                                           │
│  장점:                                                    │
│  ✅ 브로드캐스트 트래픽 격리 → 네트워크 효율 증가        │
│  ✅ 보안 경계 설정 가능 → ACL 적용                       │
│  ✅ 장애 격리 → 한 세그먼트 문제가 다른 곳에 영향 X      │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

### 4.2 라우터의 고급 기능

#### 🎯 QoS (Quality of Service)

> **목적**: 중요한 트래픽에 우선순위를 부여하여 서비스 품질 보장

```
┌──────────────────────────────────────────────────────────┐
│              QoS 트래픽 처리 메커니즘                    │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  1️⃣  트래픽 분류 (Classification)                        │
│  ┌────────────────────────────────────────┐              │
│  │ Voice (VoIP)    → Priority Queue       │              │
│  │ Video           → High Priority        │              │
│  │ Business Apps   → Normal Priority      │              │
│  │ Web/Email       → Low Priority         │              │
│  │ File Transfer   → Best Effort          │              │
│  └────────────────┬───────────────────────┘              │
│                   │                                       │
│  2️⃣  트래픽 마킹 (Marking)                               │
│                   ▼                                       │
│  ┌────────────────────────────────────────┐              │
│  │ DSCP/ToS 값 설정                       │              │
│  │ • EF (Expedited Forwarding) - Voice    │              │
│  │ • AF (Assured Forwarding) - Video      │              │
│  │ • BE (Best Effort) - Data              │              │
│  └────────────────┬───────────────────────┘              │
│                   │                                       │
│  3️⃣  큐잉 (Queuing)                                      │
│                   ▼                                       │
│  ┌────────────────────────────────────────┐              │
│  │  ┌──────┐  Priority Queue              │              │
│  │  │VoIP  │  (Low Latency)                │              │
│  │  └──────┘  ────────────> 출력 ➤         │              │
│  │  ┌──────┐  High Queue                  │              │
│  │  │Video │                              │              │
│  │  └──────┘  ──────────────> 출력 ➤       │              │
│  │  ┌──────┐  Normal Queue                │              │
│  │  │Data  │                              │              │
│  │  └──────┘  ───────────────> 출력 ➤      │              │
│  └────────────────────────────────────────┘              │
│                                                           │
│  4️⃣  대역폭 관리 (Policing & Shaping)                    │
│  ┌────────────────────────────────────────┐              │
│  │ • Policing: 초과 트래픽 드롭           │              │
│  │ • Shaping: 초과 트래픽 버퍼링          │              │
│  │ • 보장 대역폭: 최소 대역폭 예약        │              │
│  └────────────────────────────────────────┘              │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

#### 🛡️ 보안 기능

```
┌──────────────────────────────────────────────────────────┐
│              라우터 보안 기능                            │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  🔥 방화벽 (Firewall)                                     │
│  ┌────────────────────────────────────────┐              │
│  │ ACL (Access Control List)              │              │
│  │                                        │              │
│  │ permit tcp 192.168.1.0 0.0.0.255       │              │
│  │        any eq 80                       │              │
│  │ deny ip any any log                    │              │
│  │                                        │              │
│  │ ✅ 패킷 필터링                         │              │
│  │ ✅ 상태 기반 검사                      │              │
│  │ ✅ 침입 탐지/방지                      │              │
│  └────────────────────────────────────────┘              │
│                                                           │
│  🔐 VPN (Virtual Private Network)                        │
│  ┌────────────────────────────────────────┐              │
│  │  본사            인터넷            지사 │              │
│  │  ┌───┐  암호화   ~~~~   암호화   ┌───┐│              │
│  │  │RTR│═══════════════════════════│RTR││              │
│  │  └───┘   IPSec 터널              └───┘│              │
│  │                                        │              │
│  │ ✅ 데이터 암호화                       │              │
│  │ ✅ 인증 및 무결성 검증                 │              │
│  │ ✅ 안전한 원격 접속                    │              │
│  └────────────────────────────────────────┘              │
│                                                           │
│  🌐 NAT (Network Address Translation)                    │
│  ┌────────────────────────────────────────┐              │
│  │ 사설 IP          Router          공인 IP│              │
│  │ 192.168.1.10  ──────────>  203.0.113.1 │              │
│  │ 192.168.1.20  ──────────>  203.0.113.1 │              │
│  │ 192.168.1.30  ──────────>  203.0.113.1 │              │
│  │                                        │              │
│  │ ✅ IP 주소 절약                        │              │
│  │ ✅ 내부 네트워크 숨김                  │              │
│  │ ✅ 보안 강화                           │              │
│  └────────────────────────────────────────┘              │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

---

### 4.3 라우터 구성 요소

```
┌──────────────────────────────────────────────────────────┐
│              라우터 아키텍처                             │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  ┌────────────────────────────────────────────────────┐  │
│  │             Hardware Components                    │  │
│  ├────────────────────────────────────────────────────┤  │
│  │                                                     │  │
│  │  🧮 CPU                                            │  │
│  │    • 라우팅 프로세스 실행                          │  │
│  │    • 패킷 포워딩 결정                              │  │
│  │    • 프로토콜 처리                                 │  │
│  │                                                     │  │
│  │  💾 Memory                                         │  │
│  │    ┌─────────────────────────────────┐            │  │
│  │    │ RAM (휘발성)                    │            │  │
│  │    │ • Running Config               │            │  │
│  │    │ • Routing Table                │            │  │
│  │    │ • ARP Cache                    │            │  │
│  │    └─────────────────────────────────┘            │  │
│  │    ┌─────────────────────────────────┐            │  │
│  │    │ NVRAM (비휘발성)                │            │  │
│  │    │ • Startup Config               │            │  │
│  │    └─────────────────────────────────┘            │  │
│  │    ┌─────────────────────────────────┐            │  │
│  │    │ Flash (플래시)                  │            │  │
│  │    │ • IOS Image                    │            │  │
│  │    │ • Backup Config                │            │  │
│  │    └─────────────────────────────────┘            │  │
│  │    ┌─────────────────────────────────┐            │  │
│  │    │ ROM (읽기 전용)                 │            │  │
│  │    │ • Bootstrap Program            │            │  │
│  │    │ • POST (Power-On Self-Test)   │            │  │
│  │    └─────────────────────────────────┘            │  │
│  │                                                     │  │
│  │  🔌 Interfaces                                     │  │
│  │    • Ethernet (FastEthernet, GigabitEthernet)     │  │
│  │    • Serial (WAN 연결)                            │  │
│  │    • Console (관리용)                             │  │
│  │    • Aux (보조 관리)                              │  │
│  │                                                     │  │
│  └─────────────────────────────────────────────────────┘  │
│                                                           │
│  ┌────────────────────────────────────────────────────┐  │
│  │             Software Components                    │  │
│  ├────────────────────────────────────────────────────┤  │
│  │                                                     │  │
│  │  🖥️ IOS (Internetwork Operating System)           │  │
│  │    • 라우터 운영체제                               │  │
│  │    • 모든 기능 제어                                │  │
│  │                                                     │  │
│  │  📡 Routing Protocols                              │  │
│  │    • RIP, OSPF, EIGRP, BGP                        │  │
│  │                                                     │  │
│  │  🛠️ Management Tools                               │  │
│  │    • CLI (Command Line Interface)                 │  │
│  │    • SNMP (Simple Network Management Protocol)    │  │
│  │    • Syslog                                        │  │
│  │                                                     │  │
│  └─────────────────────────────────────────────────────┘  │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

---

### 4.4 라우터 유형

| 유형 | 특징 | 성능 | 적용 환경 | 예시 |
|------|------|------|-----------|------|
| 🏢 **엔터프라이즈** | 기업 내부용 | 중간 | 중소기업 네트워크 | Cisco ISR 4000 |
| 🌐 **서비스 제공자** | ISP 백본용 | 매우 높음 | ISP, 대규모 DC | Cisco ASR 9000 |
| 📡 **무선** | WiFi 통합 | 낮음~중간 | 가정, SOHO | TP-Link, Netgear |
| 💻 **소프트웨어** | VM 기반 | 가변적 | 클라우드, NFV | Linux Router, VyOS |
| 🏠 **홈** | 단순 기능 | 낮음 | 가정용 | 공유기 |

```
┌──────────────────────────────────────────────────────────┐
│           성능별 라우터 분류                             │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  처리 능력 (패킷/초)                                      │
│                                                           │
│  100+ Tbps  ┌─────────────────────┐                      │
│             │ 코어 라우터          │  ISP 백본            │
│             └─────────────────────┘                      │
│                                                           │
│  10-100 Tbps┌─────────────────────┐                      │
│             │ 서비스 제공자        │  대형 네트워크       │
│             └─────────────────────┘                      │
│                                                           │
│  1-10 Gbps  ┌─────────────────────┐                      │
│             │ 엔터프라이즈         │  기업 네트워크       │
│             └─────────────────────┘                      │
│                                                           │
│  < 1 Gbps   ┌─────────────────────┐                      │
│             │ 소규모/홈 라우터     │  가정/소규모         │
│             └─────────────────────┘                      │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

## 5. 라우팅 최적화 및 고급 기법

### 5.1 로드 밸런싱 (Load Balancing)

> **핵심 개념**: 동일한 목적지에 대한 **다중 경로를 활용**하여 트래픽을 분산시키는 기법

```
┌──────────────────────────────────────────────────────────┐
│              로드 밸런싱 시나리오                        │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  출발지 A                                     목적지 B   │
│  ┌────┐                                       ┌────┐     │
│  │    │                                       │    │     │
│  │ PC │                                       │SVR │     │
│  └─┬──┘                                       └─▲──┘     │
│    │                                            │         │
│    │                                            │         │
│    │    ┌───────── 경로 1 (50%) ──────────┐   │         │
│    │    │   100Mbps, 지연 10ms            │   │         │
│    ├────┼─────────────────────────────────┼───┤         │
│    │    └─────────────────────────────────┘   │         │
│    │                                            │         │
│    │    ┌───────── 경로 2 (50%) ──────────┐   │         │
│    │    │   100Mbps, 지연 10ms            │   │         │
│    └────┼─────────────────────────────────┼───┘         │
│         └─────────────────────────────────┘             │
│                                                           │
│  트래픽 분산 효과:                                        │
│  • 총 대역폭: 200Mbps (100+100)                          │
│  • 장애 대응: 한 경로 장애 시 다른 경로 사용             │
│  • 성능 향상: 부하 분산으로 지연 감소                    │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

#### 📊 로드 밸런싱 유형

```
┌──────────────────────────────────────────────────────────┐
│  1️⃣  Equal-Cost Load Balancing (등비 로드 밸런싱)        │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  메트릭이 동일한 경로에 균등 분산                         │
│                                                           │
│  ┌─────────────────────────────────┐                     │
│  │ 경로 1: 메트릭 10 → 50% 트래픽  │                     │
│  │ 경로 2: 메트릭 10 → 50% 트래픽  │                     │
│  └─────────────────────────────────┘                     │
│                                                           │
│  ✅ 구현 간단                                             │
│  ✅ 대부분의 프로토콜 지원 (RIP, OSPF, EIGRP)            │
│  ❌ 경로 품질 차이 고려 불가                              │
│                                                           │
└──────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────┐
│  2️⃣  Unequal-Cost Load Balancing (가중 로드 밸런싱)      │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  메트릭에 비례하여 트래픽 분산 (EIGRP 지원)              │
│                                                           │
│  ┌─────────────────────────────────┐                     │
│  │ 경로 1: 메트릭 10 → 67% 트래픽  │  (비율 2:1)        │
│  │ 경로 2: 메트릭 20 → 33% 트래픽  │                     │
│  └─────────────────────────────────┘                     │
│                                                           │
│  ✅ 경로 품질 고려                                        │
│  ✅ 효율적인 대역폭 활용                                  │
│  ⚠️  EIGRP 전용 기능                                      │
│                                                           │
└──────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────┐
│  3️⃣  Per-Packet vs Per-Flow                              │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  Per-Packet (패킷 단위):                                  │
│  ┌─────────────────────────────────┐                     │
│  │ PKT1 → 경로 1                   │                     │
│  │ PKT2 → 경로 2                   │                     │
│  │ PKT3 → 경로 1                   │                     │
│  └─────────────────────────────────┘                     │
│  ❌ 패킷 순서 뒤바뀜 가능                                 │
│  ❌ TCP 성능 저하                                         │
│                                                           │
│  Per-Flow (플로우 단위) - 권장!                          │
│  ┌─────────────────────────────────┐                     │
│  │ Flow A (전체) → 경로 1          │                     │
│  │ Flow B (전체) → 경로 2          │                     │
│  └─────────────────────────────────┘                     │
│  ✅ 패킷 순서 유지                                        │
│  ✅ TCP 성능 최적                                         │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

#### ✅ 로드 밸런싱 장점

```
┌────────────────────────────────────────┐
│ 🚀 대역폭 활용도 향상                  │
│    여러 경로의 대역폭 동시 사용        │
│                                        │
│ 🛡️ 장애 대응                           │
│    일부 경로 장애 시에도 연속성 보장   │
│                                        │
│ ⚡ 성능 향상                            │
│    부하 분산으로 전체 성능 개선        │
│                                        │
│ 💰 비용 효율                            │
│    저가 링크 여러 개로 고가 링크 대체  │
└────────────────────────────────────────┘
```

### 5.2 라우팅 정책 (Routing Policy)

#### 트래픽 우선순위 설정
- **비즈니스 중요도**: 중요한 트래픽에 높은 우선순위 부여
- **애플리케이션 유형**: 실시간 애플리케이션 우선 처리
- **사용자 그룹**: VIP 사용자 트래픽 우선 처리

#### 보안 정책 적용
- **트래픽 필터링**: 특정 트래픽의 차단 또는 허용
- **경로 제한**: 특정 경로를 통한 트래픽 제한
- **암호화**: 민감한 트래픽의 암호화 처리

#### 비용 최적화
- **경로 비용 분석**: 각 경로의 비용을 분석하여 최적 경로 선택
- **트래픽 엔지니어링**: 비용 효율적인 경로로 트래픽 유도
- **리소스 활용**: 네트워크 자원의 효율적 활용

### 5.3 장애 복구 (Fault Recovery)

#### 백업 경로 설정
- **주 경로와 백업 경로**: 주요 경로와 대체 경로를 미리 설정
- **자동 전환**: 주 경로 장애 시 자동으로 백업 경로로 전환
- **복구 시 복원**: 주 경로 복구 시 자동으로 복원

#### 빠른 수렴 프로토콜 사용
- **OSPF**: 링크 상태 프로토콜로 빠른 수렴
- **EIGRP**: DUAL 알고리즘으로 매우 빠른 수렴
- **BFD (Bidirectional Forwarding Detection)**: 링크 장애 빠른 감지

#### 자동 경로 전환
- **즉시 전환**: 장애 감지 즉시 대체 경로로 전환
- **무중단 서비스**: 서비스 중단 없이 경로 전환
- **자동 복구**: 장애 해결 시 자동으로 원래 경로로 복구

### 5.4 라우팅 최적화 기법

#### 경로 최적화
- **SPF 알고리즘**: 최단 경로 우선 알고리즘 사용
- **메트릭 튜닝**: 네트워크 특성에 맞는 메트릭 설정
- **경로 캐싱**: 자주 사용되는 경로 정보 캐싱

#### 트래픽 엔지니어링
- **MPLS**: Multi-Protocol Label Switching을 통한 트래픽 제어
- **TE 터널**: Traffic Engineering 터널 구성
- **경로 다양화**: 트래픽을 여러 경로로 분산

#### 네트워크 모니터링
- **성능 모니터링**: 네트워크 성능 지속적 모니터링
- **장애 감지**: 네트워크 장애 조기 감지
- **자동 알림**: 장애 발생 시 자동 알림 시스템

## 6. 라우팅의 실제 적용

### 6.1 기업 네트워크에서의 라우팅

#### 🏢 계층적 네트워크 구조

```
┌──────────────────────────────────────────────────────────┐
│           3-Layer 기업 네트워크 아키텍처                 │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  ┌────────────────────────────────────────────────────┐  │
│  │          Core Layer (핵심 계층)                    │  │
│  │  ┌──────────┐           ┌──────────┐              │  │
│  │  │ Core     │═══════════│ Core     │              │  │
│  │  │ Router 1 │  고속연결  │ Router 2 │              │  │
│  │  └────┬─────┘           └─────┬────┘              │  │
│  │       │    고성능, 고가용성    │                   │  │
│  └───────┼─────────────────────────┼──────────────────┘  │
│          │                         │                     │
│  ┌───────┼─────────────────────────┼──────────────────┐  │
│  │       │  Distribution Layer     │                  │  │
│  │  ┌────▼─────┐           ┌──────▼───┐              │  │
│  │  │ Dist     │───────────│ Dist     │              │  │
│  │  │ Router 1 │  VLAN     │ Router 2 │              │  │
│  │  └────┬─────┘  라우팅    └─────┬────┘              │  │
│  │       │    정책 적용, ACL       │                   │  │
│  └───────┼─────────────────────────┼──────────────────┘  │
│          │                         │                     │
│  ┌───────┼─────────────────────────┼──────────────────┐  │
│  │       │  Access Layer           │                  │  │
│  │  ┌────▼─────┐           ┌──────▼───┐              │  │
│  │  │ L3       │           │ L3       │              │  │
│  │  │ Switch 1 │           │ Switch 2 │              │  │
│  │  └────┬─────┘           └─────┬────┘              │  │
│  │       │    사용자 접속          │                   │  │
│  └───────┼─────────────────────────┼──────────────────┘  │
│          │                         │                     │
│       Devices               Devices                      │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

#### 🔀 VLAN 간 라우팅

```
┌──────────────────────────────────────────────────────────┐
│              Inter-VLAN Routing 방식                     │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  방식 1: Router-on-a-Stick                                │
│  ┌────────────────────────────────────┐                  │
│  │        Router                      │                  │
│  │  ┌──────────────────┐              │                  │
│  │  │ eth0.10 (VLAN 10)│              │                  │
│  │  │ 192.168.10.1     │              │                  │
│  │  │ eth0.20 (VLAN 20)│              │                  │
│  │  │ 192.168.20.1     │              │                  │
│  │  └────────┬─────────┘              │                  │
│  └───────────┼────────────────────────┘                  │
│              │ Trunk (802.1Q)                            │
│  ┌───────────▼────────────────────────┐                  │
│  │        Layer 2 Switch              │                  │
│  │  VLAN 10  │  VLAN 20               │                  │
│  └───────────┴────────────────────────┘                  │
│                                                           │
│  방식 2: Layer 3 Switch (권장!)                           │
│  ┌────────────────────────────────────┐                  │
│  │     Layer 3 Switch                 │                  │
│  │  ┌──────────────────┐              │                  │
│  │  │ SVI VLAN 10      │              │                  │
│  │  │ 192.168.10.1     │              │                  │
│  │  │ SVI VLAN 20      │              │                  │
│  │  │ 192.168.20.1     │              │                  │
│  │  └──────────────────┘              │                  │
│  │  라우팅 + 스위칭 통합               │                  │
│  │  ✅ 빠른 성능                       │                  │
│  │  ✅ 간편한 관리                     │                  │
│  └────────────────────────────────────┘                  │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

---

### 6.2 인터넷에서의 라우팅

#### 🌐 AS 간 라우팅 계층 구조

```
┌──────────────────────────────────────────────────────────┐
│              인터넷 ISP 계층 구조                        │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  🌍 Tier 1 ISP (최상위)                                   │
│  ┌────────────────────────────────────────────────────┐  │
│  │  • 전 세계 네트워크와 직접 연결 (Peering)          │  │
│  │  • Transit 비용 없음                               │  │
│  │  • 인터넷 백본 구성                                │  │
│  │                                                     │  │
│  │  예: AT&T, Verizon, NTT, Deutsche Telekom         │  │
│  └─────────────┬──────────────┬───────────────────────┘  │
│                │              │                           │
│                ▼              ▼                           │
│  🌎 Tier 2 ISP (중간)                                     │
│  ┌────────────────────────────────────────────────────┐  │
│  │  • Tier 1과 피어링 + Transit 구매                  │  │
│  │  • 지역 ISP들과 피어링                             │  │
│  │  • 전국/대륙 규모 서비스                           │  │
│  │                                                     │  │
│  │  예: KT, SK Broadband, Cogent                      │  │
│  └─────────────┬──────────────┬───────────────────────┘  │
│                │              │                           │
│                ▼              ▼                           │
│  🏢 Tier 3 ISP (말단)                                     │
│  ┌────────────────────────────────────────────────────┐  │
│  │  • Tier 2로부터 Transit 구매                       │  │
│  │  • 최종 고객에게 인터넷 서비스 제공                │  │
│  │  • 지역/소규모 ISP                                 │  │
│  │                                                     │  │
│  │  예: 지역 케이블 회사, 소규모 ISP                  │  │
│  └─────────────────────────────────────────────────────┘  │
│                │                                          │
│                ▼                                          │
│  👤 End Users (최종 사용자)                               │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

#### 📡 BGP를 통한 AS 간 라우팅

```
┌──────────────────────────────────────────────────────────┐
│           AS 간 경로 교환 예시                           │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  AS 100 (KT)     AS 200 (SK)      AS 300 (LG)           │
│  ┌─────────┐    ┌─────────┐      ┌─────────┐           │
│  │         │ eBGP│         │ eBGP │         │           │
│  │  BGP    │←───→│  BGP    │←────→│  BGP    │           │
│  │ Router  │     │ Router  │      │ Router  │           │
│  └─────────┘     └─────────┘      └─────────┘           │
│      │               │                  │                │
│      │               │                  │                │
│  ┌───▼────┐      ┌──▼─────┐        ┌──▼─────┐          │
│  │Internal│      │Internal│        │Internal│          │
│  │Network │      │Network │        │Network │          │
│  └────────┘      └────────┘        └────────┘          │
│                                                           │
│  경로 광고:                                               │
│  AS 100: "10.0.0.0/8에 도달하려면 나(AS 100)를 거쳐"     │
│  AS 200: "20.0.0.0/8에 도달하려면 나(AS 200)를 거쳐"     │
│  AS 300: "30.0.0.0/8에 도달하려면 나(AS 300)를 거쳐"     │
│                                                           │
│  정책 기반 라우팅:                                        │
│  • 상업적 관계에 따른 경로 선택                           │
│  • Customer > Peer > Provider 우선순위                   │
│  • 트래픽 엔지니어링                                      │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

### 6.3 클라우드 환경에서의 라우팅

클라우드 환경은 **가상화된 네트워크 인프라**를 기반으로 하며, 전통적인 물리적 라우터와는 다른 방식으로 라우팅이 구현됩니다.

---

#### 📊 클라우드 네트워크 아키텍처

```
┌─────────────────────────────────────────────────────────────┐
│                    🌐 인터넷                                 │
└───────────────────────┬─────────────────────────────────────┘
                        │
                        ▼
        ┌───────────────────────────────┐
        │    Internet Gateway (IGW)     │
        │    - 퍼블릭 IP 할당            │
        │    - NAT 기능 제공             │
        └───────────────┬───────────────┘
                        │
        ┌───────────────▼───────────────────────────┐
        │         Virtual Private Cloud             │
        │           (VPC: 10.0.0.0/16)              │
        │                                           │
        │  ┌─────────────────────────────────────┐ │
        │  │  Public Subnet (10.0.1.0/24)        │ │
        │  │  ┌──────────┐    ┌──────────┐       │ │
        │  │  │  Web     │    │  Web     │       │ │
        │  │  │ Server 1 │    │ Server 2 │       │ │
        │  │  └──────────┘    └──────────┘       │ │
        │  └────────────────┬────────────────────┘ │
        │                   │                       │
        │       ┌───────────▼─────────┐            │
        │       │   Route Table 1     │            │
        │       │  0.0.0.0/0 → IGW    │            │
        │       └─────────────────────┘            │
        │                   │                       │
        │  ┌────────────────▼────────────────────┐ │
        │  │  Private Subnet (10.0.2.0/24)       │ │
        │  │  ┌──────────┐    ┌──────────┐       │ │
        │  │  │  App     │    │ Database │       │ │
        │  │  │ Server   │    │  Server  │       │ │
        │  │  └──────────┘    └──────────┘       │ │
        │  └─────────────────────────────────────┘ │
        │                                           │
        └───────────────────────────────────────────┘
                        │
                        ▼
        ┌───────────────────────────────┐
        │    VPN Gateway / Direct       │
        │    Connect Gateway            │
        └───────────────┬───────────────┘
                        │
                        ▼
        ┌───────────────────────────────┐
        │    온프레미스 데이터센터       │
        └───────────────────────────────┘
```

---

#### 🔹 1. VPC (Virtual Private Cloud) 라우팅

> **개념**: 클라우드 내에서 논리적으로 격리된 가상 네트워크 공간

##### 📌 핵심 구성 요소

**Route Table (라우팅 테이블)**
```
목적지 CIDR        타겟              설명
───────────────────────────────────────────────
10.0.0.0/16        local            VPC 내부 통신
0.0.0.0/0          igw-xxxxx        인터넷 경로
192.168.0.0/16     vgw-xxxxx        온프레미스 경로
10.1.0.0/16        pcx-xxxxx        VPC 피어링
```

**주요 특징**:
- ✅ **서브넷별 독립적인 라우팅 테이블**: 각 서브넷에 서로 다른 라우팅 규칙 적용 가능
- ✅ **자동 로컬 라우팅**: 같은 VPC 내 서브넷 간 통신은 자동으로 라우팅
- ✅ **정책 기반 라우팅**: 보안 그룹과 ACL을 통한 세밀한 트래픽 제어

##### 📌 서브넷 라우팅 유형

```
┌─────────────────────────────────────────────────────────┐
│                     VPC 라우팅 유형                      │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  1️⃣  Public Subnet (퍼블릭 서브넷)                       │
│     ┌────────────────────────────────────────┐          │
│     │  • Internet Gateway로 직접 라우팅      │          │
│     │  • 퍼블릭 IP 할당 가능                 │          │
│     │  • 외부 인터넷 접근 가능               │          │
│     └────────────────────────────────────────┘          │
│                                                          │
│  2️⃣  Private Subnet (프라이빗 서브넷)                    │
│     ┌────────────────────────────────────────┐          │
│     │  • NAT Gateway를 통해 인터넷 접근     │          │
│     │  • 퍼블릭 IP 없음                      │          │
│     │  • 외부에서 직접 접근 불가             │          │
│     └────────────────────────────────────────┘          │
│                                                          │
│  3️⃣  Isolated Subnet (격리된 서브넷)                     │
│     ┌────────────────────────────────────────┐          │
│     │  • 인터넷 접근 불가                    │          │
│     │  • VPC 내부 통신만 가능                │          │
│     │  • 데이터베이스 서버 배치              │          │
│     └────────────────────────────────────────┘          │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

---

#### 🔹 2. 클라우드 라우팅 게이트웨이

##### 📌 Internet Gateway (IGW)

```
┌──────────────────────────────────────────────────┐
│          Internet Gateway 동작 방식              │
├──────────────────────────────────────────────────┤
│                                                   │
│  인터넷 ← → IGW ← → VPC                          │
│                                                   │
│  [외부 요청]                                      │
│  1. 퍼블릭 IP: 54.123.45.67                      │
│     ↓                                             │
│  2. IGW에서 NAT 수행                              │
│     ↓                                             │
│  3. 프라이빗 IP: 10.0.1.10으로 변환               │
│     ↓                                             │
│  4. EC2 인스턴스로 전달                           │
│                                                   │
│  [응답]                                           │
│  1. EC2에서 응답 (10.0.1.10)                     │
│     ↓                                             │
│  2. IGW에서 NAT 수행                              │
│     ↓                                             │
│  3. 퍼블릭 IP: 54.123.45.67로 변환               │
│     ↓                                             │
│  4. 인터넷으로 전송                               │
│                                                   │
└──────────────────────────────────────────────────┘
```

##### 📌 NAT Gateway

```
Private Subnet의 인스턴스들이 아웃바운드 인터넷 접근

┌────────────────┐
│ Private EC2    │
│ 10.0.2.10      │
└────────┬───────┘
         │ 아웃바운드 요청
         ▼
┌────────────────┐
│  NAT Gateway   │
│  Public Subnet │
│  10.0.1.5      │
└────────┬───────┘
         │ NAT 수행
         ▼
┌────────────────┐
│      IGW       │
└────────┬───────┘
         │
         ▼
    🌐 인터넷

특징:
✅ 인바운드 차단: 외부에서 Private 인스턴스로 직접 접근 불가
✅ 아웃바운드 허용: Private 인스턴스에서 인터넷으로 요청 가능
✅ 고가용성: AWS 관리형 서비스로 자동 이중화
```

##### 📌 VPN Gateway & Transit Gateway

```
┌─────────────────────────────────────────────────────┐
│           Transit Gateway 아키텍처                  │
│                                                      │
│         VPC 1                VPC 2                   │
│      10.0.0.0/16         10.1.0.0/16                │
│           │                   │                      │
│           └─────────┬─────────┘                      │
│                     │                                │
│           ┌─────────▼──────────┐                     │
│           │  Transit Gateway   │                     │
│           │   (중앙 허브)      │                     │
│           └─────────┬──────────┘                     │
│                     │                                │
│         ┌───────────┼───────────┐                    │
│         │           │           │                    │
│    ┌────▼───┐  ┌───▼────┐  ┌──▼─────┐              │
│    │ VPC 3  │  │VPN GW  │  │Direct  │              │
│    │        │  │        │  │Connect │              │
│    └────────┘  └───┬────┘  └────────┘              │
│                    │                                 │
│                    ▼                                 │
│          ┌──────────────────┐                        │
│          │  온프레미스 DC    │                        │
│          └──────────────────┘                        │
│                                                      │
│  장점:                                               │
│  ✅ 중앙 집중식 라우팅 관리                           │
│  ✅ VPC 간 전이적 라우팅 지원                         │
│  ✅ 하이브리드 클라우드 구축 용이                     │
│  ✅ 확장성 및 관리 편의성                             │
└─────────────────────────────────────────────────────┘
```

---

#### 🔹 3. 소프트웨어 정의 네트워킹 (SDN)

> **핵심 개념**: 네트워크의 제어 평면과 데이터 평면을 분리하여 중앙에서 프로그래밍 방식으로 관리

##### 📌 전통적 라우팅 vs SDN 라우팅

```
┌──────────────────────────┬──────────────────────────┐
│   전통적 라우팅           │    SDN 라우팅             │
├──────────────────────────┼──────────────────────────┤
│                          │                          │
│  ┌──────────────┐        │  ┌──────────────────┐   │
│  │   Router 1   │        │  │   SDN Controller │   │
│  │ ┌──────────┐ │        │  │  (중앙 제어)     │   │
│  │ │제어 평면 │ │        │  │                  │   │
│  │ │데이터평면│ │        │  └────────┬─────────┘   │
│  │ └──────────┘ │        │           │             │
│  └──────────────┘        │     ┌─────┴──────┐      │
│                          │     │  OpenFlow  │      │
│  ┌──────────────┐        │     │  Protocol  │      │
│  │   Router 2   │        │     └─────┬──────┘      │
│  │ ┌──────────┐ │        │           │             │
│  │ │제어 평면 │ │        │  ┌────────▼────────┐   │
│  │ │데이터평면│ │        │  │  Switch 1       │   │
│  │ └──────────┘ │        │  │ ┌────────────┐  │   │
│  └──────────────┘        │  │ │ 데이터평면 │  │   │
│                          │  │ └────────────┘  │   │
│  각 라우터가 독립적으로  │  └─────────────────┘   │
│  라우팅 결정 수행        │                          │
│                          │  ┌─────────────────┐   │
│  • 분산 제어             │  │  Switch 2       │   │
│  • 복잡한 관리           │  │ ┌────────────┐  │   │
│  • 정적 구성             │  │ │ 데이터평면 │  │   │
│                          │  │ └────────────┘  │   │
│                          │  └─────────────────┘   │
│                          │                          │
│                          │  • 중앙 집중식 제어      │
│                          │  • 간편한 관리           │
│                          │  • 동적 프로그래밍       │
└──────────────────────────┴──────────────────────────┘
```

##### 📌 SDN의 핵심 기능

```
┌─────────────────────────────────────────────────────┐
│              SDN 계층 구조                          │
├─────────────────────────────────────────────────────┤
│                                                      │
│  🎯 Application Layer (응용 계층)                    │
│  ┌────────────────────────────────────────────┐    │
│  │  • 로드 밸런싱                              │    │
│  │  • 방화벽                                   │    │
│  │  • 트래픽 최적화                            │    │
│  │  • 네트워크 모니터링                        │    │
│  └────────────────────┬───────────────────────┘    │
│                       │ REST API                    │
│                       ▼                             │
│  🎮 Control Layer (제어 계층)                        │
│  ┌────────────────────────────────────────────┐    │
│  │         SDN Controller                     │    │
│  │  ┌──────────────────────────────────┐     │    │
│  │  │  • 토폴로지 관리                 │     │    │
│  │  │  • 경로 계산                     │     │    │
│  │  │  • 플로우 테이블 관리            │     │    │
│  │  │  • 정책 적용                     │     │    │
│  │  └──────────────────────────────────┘     │    │
│  └────────────────────┬───────────────────────┘    │
│                       │ OpenFlow                    │
│                       ▼                             │
│  📡 Infrastructure Layer (인프라 계층)               │
│  ┌────────────────────────────────────────────┐    │
│  │  Switch 1  │  Switch 2  │  Switch 3       │    │
│  │  ┌──────┐  │  ┌──────┐  │  ┌──────┐      │    │
│  │  │ Flow │  │  │ Flow │  │  │ Flow │      │    │
│  │  │ Table│  │  │ Table│  │  │ Table│      │    │
│  │  └──────┘  │  └──────┘  │  └──────┘      │    │
│  └────────────────────────────────────────────┘    │
│                                                      │
└─────────────────────────────────────────────────────┘
```

##### 📌 SDN 라우팅 동작 과정

```
1️⃣  패킷 도착
    ↓
    Switch가 Flow Table 확인
    ↓
    ┌─────────────┐
    │ 매칭 규칙   │
    │ 있음?       │
    └──────┬──────┘
           │
     Yes ──┴── No
     │           │
     ▼           ▼
2️⃣  액션 수행    3️⃣  Controller에 문의
    - Forward      ┌─────────────────┐
    - Drop         │ SDN Controller  │
    - Modify       │  경로 계산 및   │
                   │  정책 적용      │
                   └────────┬────────┘
                            │
                            ▼
                   4️⃣  Flow 규칙 전송
                      Switch에 설치
                            │
                            ▼
                   5️⃣  패킷 전달 수행
```

##### 📌 클라우드에서의 SDN 활용 사례

| 기능 | 설명 | 장점 |
|------|------|------|
| **🔀 동적 로드 밸런싱** | 트래픽 상황에 따라 실시간으로 경로 변경 | 성능 최적화, 자원 효율성 |
| **🛡️ 보안 정책 적용** | 중앙에서 통합 보안 정책 관리 | 일관된 보안, 빠른 대응 |
| **📊 트래픽 분석** | 전체 네트워크 가시성 확보 | 문제 진단, 용량 계획 |
| **🔧 자동화** | 네트워크 구성 자동화 | 운영 효율성, 오류 감소 |
| **🌐 멀티 테넌시** | 여러 테넌트의 네트워크 격리 | 자원 공유, 보안 격리 |

---

#### 🔹 4. 클라우드 라우팅의 주요 특징

```
┌──────────────────────────────────────────────────┐
│           클라우드 라우팅의 장점                 │
├──────────────────────────────────────────────────┤
│                                                   │
│  ✨ 탄력성 (Elasticity)                           │
│     └─ 트래픽에 따라 자동으로 확장/축소          │
│                                                   │
│  🎯 프로그래머빌리티 (Programmability)            │
│     └─ API를 통한 자동화 및 IaC 구현             │
│                                                   │
│  🔒 보안 (Security)                               │
│     └─ 네트워크 계층의 격리 및 암호화            │
│                                                   │
│  💰 비용 효율성 (Cost Efficiency)                 │
│     └─ 사용한 만큼만 비용 지불                   │
│                                                   │
│  🔄 고가용성 (High Availability)                  │
│     └─ 다중 AZ 및 리전 간 자동 장애 조치         │
│                                                   │
│  📈 확장성 (Scalability)                          │
│     └─ 무제한 확장 가능한 네트워크 인프라        │
│                                                   │
└──────────────────────────────────────────────────┘
```

---

#### 🔹 5. 클라우드 라우팅 실전 예시

##### 📌 다중 계층 웹 애플리케이션

```
┌─────────────────────────────────────────────────────────┐
│            3-Tier 아키텍처 라우팅                       │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  🌐 인터넷                                               │
│      ↓                                                   │
│  ┌──────────────────────┐                               │
│  │   Internet Gateway   │                               │
│  └──────────┬───────────┘                               │
│             │                                            │
│  ┌──────────▼────────────────────────────┐              │
│  │  Application Load Balancer (ALB)      │              │
│  │  - 라우팅 규칙: /api → API 서버       │              │
│  │  - 라우팅 규칙: / → Web 서버          │              │
│  └──────────┬────────────────────────────┘              │
│             │                                            │
│  ┌──────────▼──────────────────────────────┐            │
│  │  Web Tier (Public Subnet)               │            │
│  │  10.0.1.0/24                            │            │
│  │  ┌─────────┐       ┌─────────┐          │            │
│  │  │ Web 1   │       │ Web 2   │          │            │
│  │  └────┬────┘       └────┬────┘          │            │
│  └───────┼─────────────────┼───────────────┘            │
│          │                 │                             │
│          └────────┬────────┘                             │
│                   ▼                                      │
│  ┌─────────────────────────────────────────┐            │
│  │  App Tier (Private Subnet)              │            │
│  │  10.0.2.0/24                            │            │
│  │  ┌─────────┐       ┌─────────┐          │            │
│  │  │ App 1   │       │ App 2   │          │            │
│  │  └────┬────┘       └────┬────┘          │            │
│  └───────┼─────────────────┼───────────────┘            │
│          │                 │                             │
│          └────────┬────────┘                             │
│                   ▼                                      │
│  ┌─────────────────────────────────────────┐            │
│  │  DB Tier (Isolated Subnet)              │            │
│  │  10.0.3.0/24                            │            │
│  │  ┌─────────────────────────┐            │            │
│  │  │   RDS Database          │            │            │
│  │  │   (Multi-AZ)            │            │            │
│  │  └─────────────────────────┘            │            │
│  └─────────────────────────────────────────┘            │
│                                                          │
│  라우팅 규칙:                                            │
│  • Web → App: VPC 내부 라우팅 (로컬)                    │
│  • App → DB: VPC 내부 라우팅 (로컬)                     │
│  • Web → Internet: NAT Gateway 경유                     │
│  • Internet → Web: IGW → ALB 경유                       │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

## 7. 라우팅 보안

### 7.1 라우팅 공격 유형

```
┌──────────────────────────────────────────────────────────┐
│              주요 라우팅 보안 위협                       │
└──────────────────────────────────────────────────────────┘
```

#### ⚠️ 1. 라우팅 테이블 공격

```
┌──────────────────────────────────────────────────────────┐
│  🎭 라우팅 테이블 오염 (Route Poisoning)                 │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  공격자가 잘못된 라우팅 정보를 주입                       │
│                                                           │
│  정상 경로:                                               │
│  User → ISP A → 목적지 (최단 경로)                        │
│                                                           │
│  공격 후:                                                 │
│  User → ISP A → 공격자 → 목적지 (트래픽 도청)            │
│         ↑                                                 │
│         └─ 공격자가 "더 짧은 경로" 광고                   │
│                                                           │
│  ⚠️  위험:                                                │
│  • 트래픽 도청                                            │
│  • 중간자 공격 (Man-in-the-Middle)                       │
│  • 데이터 변조                                            │
│                                                           │
└──────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────┐
│  🚨 BGP 하이재킹 (BGP Hijacking)                          │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  실제 사례: 2008년 YouTube BGP 하이재킹                   │
│                                                           │
│  1. 파키스탄 통신사가 YouTube IP 대역 광고                │
│     (더 구체적인 프리픽스 사용)                           │
│                                                           │
│  2. 전 세계 트래픽이 파키스탄으로 유입                    │
│                                                           │
│  3. YouTube 전 세계적으로 접속 불가 (약 2시간)           │
│                                                           │
│  🛡️ 방어:                                                 │
│  • ROA (Route Origin Authorization)                      │
│  • RPKI (Resource Public Key Infrastructure)             │
│  • AS-PATH 필터링                                         │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

#### ⚠️ 2. DoS 공격

```
┌──────────────────────────────────────────────────────────┐
│  💣 라우팅 테이블 플러딩                                  │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  공격자 → 대량의 가짜 라우팅 정보 전송                    │
│            ↓                                              │
│  라우터 메모리 포화 → 서비스 불가                         │
│                                                           │
│  🔄 라우팅 루프                                           │
│  ┌─────┐    ┌─────┐    ┌─────┐                          │
│  │  A  │───→│  B  │───→│  C  │                          │
│  └──▲──┘    └─────┘    └──┬──┘                          │
│     │                      │                             │
│     └──────────────────────┘                             │
│           무한 루프!                                      │
│                                                           │
│  결과: 패킷이 무한히 순환하며 네트워크 마비               │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

---

### 7.2 라우팅 보안 대책

```
┌──────────────────────────────────────────────────────────┐
│              다층 방어 전략                              │
└──────────────────────────────────────────────────────────┘
```

#### 🔐 1. 인증 및 암호화

```
┌──────────────────────────────────────────────────────────┐
│  라우팅 프로토콜 인증                                     │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  OSPF MD5 인증:                                           │
│  ┌────────────────────────────────────┐                  │
│  │ Router A                           │                  │
│  │  interface ethernet0               │                  │
│  │   ip ospf authentication           │                  │
│  │   ip ospf message-digest-key 1     │                  │
│  │        md5 SecretKey123             │                  │
│  └────────────────────────────────────┘                  │
│                                                           │
│  ✅ 메시지 무결성 보장                                    │
│  ✅ 위조 방지                                             │
│  ✅ 재전송 공격 방지                                      │
│                                                           │
│  IPSec을 통한 BGP 보안:                                   │
│  ┌────────────────────────────────────┐                  │
│  │ BGP 세션을 IPSec 터널로 보호      │                  │
│  │  • 암호화: AES-256                 │                  │
│  │  • 인증: SHA-256                   │                  │
│  │  • 무결성: HMAC                    │                  │
│  └────────────────────────────────────┘                  │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

#### 🛡️ 2. 접근 제어

```
┌──────────────────────────────────────────────────────────┐
│  필터링 및 정책                                           │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  Prefix-List 필터링:                                      │
│  ┌────────────────────────────────────┐                  │
│  │ # 허용할 프리픽스만 수용           │                  │
│  │ ip prefix-list CUSTOMER permit     │                  │
│  │   10.0.0.0/8                       │                  │
│  │ ip prefix-list CUSTOMER deny       │                  │
│  │   0.0.0.0/0 le 32                  │                  │
│  └────────────────────────────────────┘                  │
│                                                           │
│  AS-PATH 필터링:                                          │
│  ┌────────────────────────────────────┐                  │
│  │ # 특정 AS만 허용                   │                  │
│  │ ip as-path access-list 1 permit    │                  │
│  │   ^100_                            │                  │
│  │ ip as-path access-list 1 deny      │                  │
│  │   .*                               │                  │
│  └────────────────────────────────────┘                  │
│                                                           │
│  TTL 보안:                                                │
│  • BGP TTL Security (GTSM)                               │
│  • 직접 연결된 피어만 허용                                │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

#### 📊 3. 모니터링 및 감지

```
┌──────────────────────────────────────────────────────────┐
│  실시간 모니터링 시스템                                   │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  감시 항목:                                               │
│  ┌────────────────────────────────────┐                  │
│  │ 1. 라우팅 테이블 변화 추적         │                  │
│  │    • 예상치 못한 경로 출현         │                  │
│  │    • 기존 경로 소실                │                  │
│  │                                    │                  │
│  │ 2. BGP 피어 상태 모니터링          │                  │
│  │    • 비정상적인 세션 종료          │                  │
│  │    • 과도한 업데이트               │                  │
│  │                                    │                  │
│  │ 3. 프리픽스 광고 감시              │                  │
│  │    • 무단 IP 대역 광고             │                  │
│  │    • More-Specific 광고            │                  │
│  │                                    │                  │
│  │ 4. 성능 메트릭                     │                  │
│  │    • CPU/메모리 사용률             │                  │
│  │    • 패킷 드롭률                   │                  │
│  └────────────────────────────────────┘                  │
│                                                           │
│  자동 대응:                                               │
│  ⚡ 이상 탐지 시 자동 알림                                 │
│  ⚡ 의심 경로 자동 차단                                    │
│  ⚡ 백업 경로 자동 활성화                                  │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

## 8. 라우팅의 미래 동향

```
┌──────────────────────────────────────────────────────────┐
│           차세대 라우팅 기술 트렌드                      │
└──────────────────────────────────────────────────────────┘
```

### 8.1 🚀 소프트웨어 정의 네트워킹 (SDN)

> **혁신**: 네트워크의 **제어 평면과 데이터 평면을 분리**하여 중앙 집중식 관리

```
┌──────────────────────────────────────────────────────────┐
│          SDN이 가져올 변화                               │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  전통 방식 → SDN 방식                                     │
│                                                           │
│  ❌ 각 라우터 개별 설정      ✅ 중앙 컨트롤러 통합 관리   │
│  ❌ 정적 구성                ✅ 동적 프로그래밍           │
│  ❌ 벤더 종속적              ✅ 오픈 표준                 │
│  ❌ 복잡한 관리              ✅ 자동화된 운영             │
│                                                           │
│  적용 분야:                                               │
│  🏢 데이터 센터 - 대규모 가상화 환경                     │
│  ☁️  클라우드 - 탄력적 네트워크 구성                      │
│  📱 5G - 네트워크 슬라이싱                                │
│  🎮 Gaming - 낮은 지연 경로 보장                          │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

### 8.2 💻 네트워크 기능 가상화 (NFV)

```
┌──────────────────────────────────────────────────────────┐
│          하드웨어 → 소프트웨어 전환                      │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  전통적 방식:                                             │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐              │
│  │ 물리      │  │ 물리      │  │ 물리      │              │
│  │ 라우터    │  │ 방화벽    │  │ 로드      │              │
│  │          │  │          │  │ 밸런서    │              │
│  └──────────┘  └──────────┘  └──────────┘              │
│  비용 ⬆️  유연성 ⬇️                                        │
│                                                           │
│  NFV 방식:                                                │
│  ┌────────────────────────────────────┐                  │
│  │       범용 서버 (x86)              │                  │
│  │  ┌────────┐ ┌────────┐ ┌────────┐ │                  │
│  │  │vRouter │ │vFirewall│ │  vLB   │ │                  │
│  │  └────────┘ └────────┘ └────────┘ │                  │
│  │         Hypervisor                 │                  │
│  └────────────────────────────────────┘                  │
│  비용 ⬇️  유연성 ⬆️                                        │
│                                                           │
│  장점:                                                    │
│  ✅ 빠른 배포 (분 단위)                                   │
│  ✅ 동적 확장                                             │
│  ✅ 비용 효율적                                           │
│  ✅ 자동화 가능                                           │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

### 8.3 🤖 AI 기반 라우팅

```
┌──────────────────────────────────────────────────────────┐
│          인공지능이 만드는 지능형 네트워크               │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  🧠 머신러닝 활용:                                        │
│  ┌────────────────────────────────────────────────────┐  │
│  │ 1. 트래픽 예측                                     │  │
│  │    과거 패턴 분석 → 미래 트래픽 예측 →           │  │
│  │    사전 대역폭 확보                                │  │
│  │                                                    │  │
│  │ 2. 최적 경로 학습                                  │  │
│  │    실시간 네트워크 상태 → AI 모델 →              │  │
│  │    동적 경로 최적화                                │  │
│  │                                                    │  │
│  │ 3. 장애 예측 및 예방                               │  │
│  │    성능 메트릭 분석 → 이상 징후 감지 →           │  │
│  │    사전 조치                                       │  │
│  │                                                    │  │
│  │ 4. 자율 복구                                       │  │
│  │    장애 감지 → 원인 분석 → 자동 복구 →           │  │
│  │    학습 및 개선                                    │  │
│  └────────────────────────────────────────────────────┘  │
│                                                           │
│  기대 효과:                                               │
│  ⚡ 99.999% 가용성                                         │
│  🎯 최적 성능 자동 유지                                   │
│  💰 운영 비용 50% 절감                                    │
│  🔧 무인 운영 가능                                        │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

### 8.4 📡 5G 및 IoT 환경

```
┌──────────────────────────────────────────────────────────┐
│          초연결 시대의 라우팅                            │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  🌐 5G 네트워크 요구사항:                                 │
│  ┌────────────────────────────────────┐                  │
│  │ ⚡ 초저지연: 1ms 이하               │                  │
│  │    → 실시간 게임, 자율주행          │                  │
│  │                                    │                  │
│  │ 🚀 초고속: 10Gbps+                 │                  │
│  │    → 4K/8K 스트리밍, VR            │                  │
│  │                                    │                  │
│  │ 🔗 초연결: 100만 기기/km²          │                  │
│  │    → IoT, 스마트시티                │                  │
│  └────────────────────────────────────┘                  │
│                                                           │
│  🏭 IoT 라우팅 특성:                                      │
│  ┌────────────────────────────────────┐                  │
│  │        Cloud                       │                  │
│  │          ▲                         │                  │
│  │          │ 집계된 데이터            │                  │
│  │          │                         │                  │
│  │     ┌────┴────┐                    │                  │
│  │     │  Edge   │ ← 로컬 처리        │                  │
│  │     │Gateway  │                    │                  │
│  │     └────┬────┘                    │                  │
│  │          │                         │                  │
│  │  ┌───┬───┴───┬───┐                │                  │
│  │  │IoT│IoT│IoT│IoT│                │                  │
│  │  └───┴───────┴───┘                │                  │
│  │   센서, 액추에이터                  │                  │
│  └────────────────────────────────────┘                  │
│                                                           │
│  핵심 기술:                                               │
│  ✅ 에지 컴퓨팅 - 지연 최소화                             │
│  ✅ 메시 네트워크 - 직접 통신                             │
│  ✅ 저전력 라우팅 - 배터리 수명 연장                      │
│  ✅ 적응형 라우팅 - 동적 토폴로지 대응                    │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

### 🔮 라우팅 기술의 미래

```
┌──────────────────────────────────────────────────────────┐
│          2025-2030년 전망                                │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  🎯 핵심 트렌드:                                          │
│                                                           │
│  1. 완전 자동화                                           │
│     인간 개입 없는 자율 네트워크 운영                     │
│                                                           │
│  2. 양자 내성 암호화                                      │
│     양자 컴퓨터 시대 대비 보안 강화                       │
│                                                           │
│  3. 우주 인터넷                                           │
│     위성 기반 글로벌 라우팅 (Starlink 등)                │
│                                                           │
│  4. 홀로그램 통신                                         │
│     초저지연, 초고대역폭 요구                             │
│                                                           │
│  5. 뇌-컴퓨터 인터페이스                                  │
│     직접 신경 신호 라우팅                                 │
│                                                           │
│  💡 라우팅은 계속 진화합니다!                             │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

---

## 참조

> [1] [네트워크 라우팅 기본 개념](https://www.cloudflare.com/ko-kr/learning/network-layer/what-is-routing/)
> [2] [Cisco 라우팅 프로토콜 가이드](https://www.cisco.com/c/en/us/support/docs/ip/routing-information-protocol-rip/13788-3.html)
> [3] [OSPF 프로토콜 상세 설명](https://www.cisco.com/c/en/us/support/docs/ip/open-shortest-path-first-ospf/7039-1.html)
> [4] [BGP 프로토콜 완전 가이드](https://www.cisco.com/c/en/us/support/docs/ip/border-gateway-protocol-bgp/13754-26.html)
> [5] [EIGRP 프로토콜 설명](https://www.cisco.com/c/en/us/support/docs/ip/enhanced-interior-gateway-routing-protocol-eigrp/16406-eigrp-toc.html)
> [6] [라우팅 테이블 관리](https://www.cisco.com/c/en/us/support/docs/ip/routing/13788-4.html)
> [7] [QoS 및 트래픽 관리](https://www.cisco.com/c/en/us/support/docs/quality-of-service-qos/qos-policies/10103-qos-overview.html)
> [8] [SDN 및 NFV 기술](https://www.cisco.com/c/en/us/solutions/software-defined-networking/overview.html)
> [9] [네트워크 보안 및 라우팅](https://www.cisco.com/c/en/us/support/docs/security/ios-nat/13772-12.html)
> [10] [5G 네트워크 아키텍처](https://www.3gpp.org/technologies/keywords-acronyms/101-the-evolved-packet-core)