
# 웹 통신의 큰 흐름

### 1. 브라우저의 요청 생성(API 호출)
- 사용자가 웹 브라우저에 URL을 입력하면, 브라우저는 URL을 해석하여 요청 메시지를 생성합니다.
- 요청 메시지에는 HTTP 메서드(GET, POST, 등)와 함께 요청할 리소스의 경로와 추가적인 정보(헤더, 바디 등)가 포함됩니다.

### 2. DNS Lookup
- 브라우저는 요청할 도메인의 IP 주소를 알아야 합니다.
- DNS(Domain Name System) 서버에 도메인 이름을 보내 IP 주소를 받아오는 과정이 필요합니다.
- 브라우저는 먼저 로컬 캐시, hosts 파일, 이전에 방문한 도메인의 캐시 등을 확인합니다.
- 그 후에 DNS 서버에 도메인 이름을 요청하여 IP 주소를 얻습니다.

### 3. TCP/IP 연결
- 브라우저는 서버와의 네트워크 연결을 위해 TCP/IP 프로토콜을 사용합니다.
- TCP/IP 프로토콜은 신뢰성 있는 데이터 전송을 담당합니다.
- 브라우저는 서버의 IP 주소와 포트 번호를 사용하여 연결을 시도합니다.
- TCP/IP 연결이 성공하면 브라우저와 서버 간의 데이터 전송이 가능해집니다.

### 4. 서버 요청 처리
- 서버는 요청을 받으면 해당 요청을 처리하기 위해 웹 서버 애플리케이션으로 전달합니다.
- 웹 서버 애플리케이션은 요청을 분석하고 필요한 데이터를 처리하거나 데이터베이스와 상호작용합니다.
- 애플리케이션은 요청에 대한 적절한 로직을 실행하여 요청에 필요한 데이터를 가져오거나 생성합니다.

### 5. 응답 생성
- 애플리케이션은 처리 결과를 기반으로 응답을 생성합니다.
- 응답에는 상태 코드, 헤더, 본문 등이 포함됩니다.
- 상태 코드는 요청의 성공 여부를 나타내며, 예를 들어 200은 성공, 404는 페이지를 찾을 수 없음을 의미합니다.
- 헤더에는 응답의 메타 정보가 포함되며, 본문에는 실제 데이터가 포함됩니다.

### 6. 응답 전송
- 생성된 응답은 TCP/IP 연결을 통해 클라이언트인 브라우저로 전송됩니다.
- 브라우저는 응답을 받아서 필요한 처리를 수행하고, 화면에 콘텐츠를 표시하거나 스크립트를 실행합니다.
- 필요한 경우, 브라우저는 추가적인 리소스(이미지, CSS, JavaScript 파일 등)를 요청할 수 있습니다.

---

# 쉬운정리

### 1. 클라이언트 요청
- 사용자가 웹 브라우저나 모바일 앱을 통해 웹 서비스에 접속하고 원하는 작업을 요청합니다.
- 이 요청은 일반적으로 HTTP(S) 프로토콜을 사용하여 전송됩니다.

### 2. 서버 라우팅
- 서버는 클라이언트 요청을 받아들이고 해당 요청을 처리할 적절한 핸들러(Handler)로 라우팅

### 3. 비즈니스 로직 처리
- 핸들러는 비즈니스 로직을 수행하여 요청에 필요한 데이터를 가져오거나 변경.
- 이 단계에서 데이터베이스나 외부 API와 상호작용이 필요한 경우가 많습니다.

### 4. 데이터 처리와 저장
- 필요한 데이터를 가져왔다면, 핸들러는 해당 데이터를 처리하고 필요한 변경 사항을 데이터베이스에 저장합니다.

### 5. 응답생성
- 핸들러는 처리된 결과를 클라이언트에게 반환하기 위해 응답을 생성합니다.
- 응답은 일반적으로 JSON, XML 또는 HTML과 같은 형식으로 구성됩니다.
- 응답에는 클라이언트에게 전달할 데이터와 상태 코드가 포함될 수 있습니다.

### 6. 클라이언트 응답 처리
- 클라리언트는 받은 응답을 해석ㅎ고 필요한 처리를 수행


---

# 개념정리

### DNS Lookup에 대해 알아보자.


#### DNS Lookup
- 도메인 이름과 IP 주소 간의 매핑 정보르를 조회하는 과정입니다.
- 이 과정은 도메인 이름을 IP 주소로 변환하거나, IP 주소를 도메인 이름으로 변환하는데 사용됩니다.
- DNS Lookup은 다음과 같은 단계로 이루어집니다.

#### 1. Recursive DNS Lookup
- 클라리언트(예: 웹 브라우저)는 DNS Lookup을 시작하기 위해 로컬 DNS 리졸버에 도메인 이름을 제공합니다.
- 로컬 DNS 리졸버는 클라리언트를 대신하여 DNS Lookup을 수행합니다.
- 로컬 DNS 리졸버는 먼저 자신의 캐시에 도메인 이름에 대한 IP 주소가 있는지 확인합니다.
- 캐시에 정보가 없거나 캐시 만료된 경우, 리졸버는 루트 DNS 서버에 질의를 보냅니다.

#### 2. Root DNS Servers
- 루트 DNS 서버는 DNS계층 구조의 최상위에 위치하며, 전 세계에 여러 대의 루트 DNS 서버가 분산되어 있습니다.
- 로컬 DNS 리졸버는 루트 DNS 서버의 IP 주소를 미리 알고 있습니다.
- 리졸버는 도메인 이름의 최상위 도메인에 해당하는 루트 DNS 서버에 도메인 이름을 질의 합니다.

#### 3. Top-Level Domain (TLD) DNS Servers
- 루트 DNS 서버는 TLD DNS 서버의 IP 주소를 응답으로 반환합니다.
- TLD DNS 서버는 도메인 이름의 최상위 도메인(예: .com, .net, .ort)을 관리합니다.
- 리졸버는 이제 도메인 이름의 TLD DNS 서버에 다시 질의를 보냅니다.

#### 4. Authoriative DNS Servers
- TLD DNS 서버는 도메인 이름의 권한 있는 DNS 서버(예: 도메인을 소유한 호스팅 서비스 제공업체의 DNS 서버)의
  IP 주소를 응답으로 확인합니다.
- 리졸버는 권한 있는 DNS 서버에 질의를 보내 도메인 이름과 관련된 IP 주소 정보를 요청합니다.

#### 5. IP Address Ressolution
- 권한 있는 DNS 서버는 도메인 이름과 관련된 IP 주소 정보를 제공합니다.
- 리졸버는 이 정보를 받아서 로컬 DNS 캐시에 저장하고, 도메인 이름에 대한 IP 주소를 클라이언트에 반환합니다.
- 클라이언트(예: 웹 브라우저)는 해당 IP 주소로 서버와의 통신을 수행할 수 있습니다.

---

### 서버 라우팅에 대해 알아보자.


#### 서버 라우팅
- 클라이언트의 요청이 도달한 서버로 효율적으로 전달되는 과정을 의미합니다. 
- 서버 라우팅은 네트워크 환경에서 데이터 패킷을 적절한 목적지로 전송하는 데 사용되며, 웹 서버, 애플리케이션 서버, 로드 밸런서 등 다양한 서버 환경에서 적용될 수 있습니다.

