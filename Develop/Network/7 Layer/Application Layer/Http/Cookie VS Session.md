---
title: Cookie VS Session
tags: [network, 7-layer, application-layer, http, cookie-vs-session]
updated: 2025-08-10
---

## 배경
- HTTP 프로토콜의 특징이자 약점을 보완하기 위해서 사용한다.
- HTTP는 Stateless(무상태) 프로토콜로, 서버가 클라이언트의 상태를 기억하지 못한다는 한계가 있다.
- 이를 보완하기 위해 쿠키와 세션을 사용하여 클라이언트의 상태 정보를 저장하고 관리한다.

---

1. **세션 쿠키 (Session Cookie)**
   - 브라우저를 닫으면 자동으로 삭제되는 임시 쿠키
   - 메모리에만 저장되며, 디스크에는 저장되지 않음
   - 주로 로그인 세션 관리에 사용

2. **영구 쿠키 (Persistent Cookie)**
   - 만료일이 설정되어 있어 브라우저를 닫아도 유지됨
   - 디스크에 저장되어 브라우저를 재시작해도 유지
   - 자동 로그인, 사용자 선호도 저장 등에 사용

3. **보안 쿠키 (Secure Cookie)**
   - HTTPS 연결에서만 전송되는 쿠키
   - 암호화된 통신에서만 사용되어 보안성 향상

- 이름, 값, 만료일(저장기간), 경로 정보로 구성되어 있다.
- 클라이언트에 총 300개의 쿠키를 저장할 수 있다.
- 하나의 도메인 당 20개의 쿠키를 가질 수 있다.
- 하나의 쿠키는 4KB(=4096byte)까지 저장 가능하다.
- 쿠키는 도메인별로 구분되어 저장된다.
- 쿠키는 자동으로 서버에 전송되므로, 불필요한 데이터 전송을 피해야 한다.

1. 클라이언트가 페이지를 요청한다. (사용자가 웹사이트에 접근)
2. 웹 서버는 쿠키를 생성한다.
3. 생성한 쿠키에 정보를 담아 HTTP 화면을 돌려줄 때, 같이 클라이언트에게 돌려준다.
4. 넘겨받은 쿠키는 클라이언트가 가지고 있다가(로컬 PC에 저장) 다시 서버에 요청할 때 요청과 함께 쿠키를 전송한다. 
5. 동일 사이트 재방문 시 클라이언트의 PC에 해당 쿠키가 있는 경우, 요청 페이지와 함께 쿠키를 전송한다.

1. **XSS(Cross-Site Scripting) 공격**
   - 악의적인 스크립트를 통해 쿠키 정보 탈취 가능
   - HttpOnly 플래그를 설정하여 JavaScript 접근 차단 필요

2. **CSRF(Cross-Site Request Forgery) 공격**
   - SameSite 속성을 사용하여 방어 가능
   - Strict, Lax, None 옵션으로 보안 수준 설정 가능

3. **쿠키 스니핑**
   - 네트워크 상에서 쿠키 정보 탈취 가능
   - Secure 플래그를 설정하여 HTTPS에서만 전송되도록 설정

--- 

1. **메모리 기반 세션**
   - 서버의 메모리에 세션 데이터 저장
   - 빠른 접근 속도
   - 서버 재시작 시 데이터 손실

2. **파일 기반 세션**
   - 파일 시스템에 세션 데이터 저장
   - 영구적인 데이터 보존
   - 상대적으로 느린 접근 속도

3. **데이터베이스 기반 세션**
   - DB에 세션 데이터 저장
   - 확장성과 안정성 확보
   - 추가적인 DB 부하 발생

- 웹 서버에 웹 컨테이너의 상태를 유지하기 위한 정보를 저장한다.
- 웹 서버의 저장되는 쿠키(=세션 쿠키)
- 브라우저를 닫거나, 서버에서 세션을 삭제했을 때만 삭제가 되므로, 쿠키보다 비교적 보안이 좋다.
- 저장 데이터에 제한이 없다. (서버 용량이 허용하는 한에서)
- 각 클라이언트에 고유 Session ID를 부여한다. Session ID로 클라이언트를 구분해 각 요구에 맞는 서비스를 제공
- 세션 타임아웃 설정 가능 (일정 시간 동안 요청이 없으면 세션 만료)

1. 클라이언트가 페이지에 요청한다.
2. 서버는 접근한 클라이언트의 Request-Header 필드인 Cookie를 확인하여, 클라이언트가 해당 session-id를 보냈는지 확인한다.
3. session-id가 존재하지 않는다면 서버는 session-id를 생성해 클라이언트에게 넘겨준다.
4. 클라이언트는 서버로부터 받은 session-id를 쿠키에 저장한다.
5. 클라이언트는 서버에 요청시 이 쿠키의 session-id 값을 같이 서버에 전달한다.
6. 서버는 전달받은 session-id로 session에 있는 클라이언트 정보를 가지고 요청을 처리 후 응답한다.

1. **세션 하이재킹 방지**
   - 세션 ID의 복잡성 확보
   - HTTPS 사용
   - 세션 타임아웃 설정

2. **세션 고정 공격 방지**
   - 로그인 성공 시 세션 ID 재생성
   - IP 바인딩
   - User-Agent 검증

3. **세션 관리**
   - 적절한 세션 타임아웃 설정
   - 불필요한 세션 데이터 제거
   - 세션 저장소 보안

### 쿠키와 세션의 차이점
1. **저장 위치**
   - 쿠키: 클라이언트 측에 저장
   - 세션: 서버 측에 저장

2. **보안**
   - 쿠키: 클라이언트에 저장되어 변조 가능
   - 세션: 서버에 저장되어 상대적으로 안전

3. **용량 제한**
   - 쿠키: 도메인당 20개, 총 300개, 개당 4KB
   - 세션: 서버 용량에 따라 제한 없음

4. **라이프사이클**
   - 쿠키: 만료 기간 설정 가능
   - 세션: 브라우저 종료 또는 서버에서 삭제 시 종료

5. **서버 자원**
   - 쿠키: 서버 자원 사용하지 않음
   - 세션: 서버 메모리 사용

#### Q. 세션을 사용하면 좋은데 왜 쿠키를 사용할까?
#### A. 세션이 쿠키에 비해 보안이 높은 편이나 쿠키를 사용하는 이유는 다음과 같다:

1. **서버 자원 효율성**
   - 세션은 서버 메모리를 사용하므로, 많은 사용자가 동시에 접속할 경우 서버 부하 발생
   - 쿠키는 클라이언트 측에 저장되어 서버 자원을 사용하지 않음

2. **확장성**
   - 세션은 서버 메모리에 의존하므로, 서버 확장 시 세션 공유 문제 발생
   - 쿠키는 클라이언트 측에서 관리되므로 확장성 문제 없음

3. **성능**
   - 세션은 서버에서 데이터를 조회해야 하므로 상대적으로 느림
   - 쿠키는 클라이언트에서 바로 접근 가능하여 빠름

4. **용도에 따른 선택**
   - 보안이 중요한 정보는 세션으로 관리
   - 사용자 편의성 관련 정보는 쿠키로 관리
   - 두 기술을 적절히 조합하여 사용하는 것이 바람직

---

```
출처
https://dev-coco.tistory.com/61#recentComments [슬기로운 개발생활:티스토리]
https://code-lab1.tistory.com/298
https://developer.mozilla.org/ko/docs/Web/HTTP/Cookies
https://owasp.org/www-community/attacks/Session_Management_Cheat_Sheet
```

1. **저장 위치**
   - 쿠키: 클라이언트 측에 저장
   - 세션: 서버 측에 저장

2. **보안**
   - 쿠키: 클라이언트에 저장되어 변조 가능
   - 세션: 서버에 저장되어 상대적으로 안전

3. **용량 제한**
   - 쿠키: 도메인당 20개, 총 300개, 개당 4KB
   - 세션: 서버 용량에 따라 제한 없음

4. **라이프사이클**
   - 쿠키: 만료 기간 설정 가능
   - 세션: 브라우저 종료 또는 서버에서 삭제 시 종료

5. **서버 자원**
   - 쿠키: 서버 자원 사용하지 않음
   - 세션: 서버 메모리 사용

#### Q. 세션을 사용하면 좋은데 왜 쿠키를 사용할까?
#### A. 세션이 쿠키에 비해 보안이 높은 편이나 쿠키를 사용하는 이유는 다음과 같다:

1. **서버 자원 효율성**
   - 세션은 서버 메모리를 사용하므로, 많은 사용자가 동시에 접속할 경우 서버 부하 발생
   - 쿠키는 클라이언트 측에 저장되어 서버 자원을 사용하지 않음

2. **확장성**
   - 세션은 서버 메모리에 의존하므로, 서버 확장 시 세션 공유 문제 발생
   - 쿠키는 클라이언트 측에서 관리되므로 확장성 문제 없음

3. **성능**
   - 세션은 서버에서 데이터를 조회해야 하므로 상대적으로 느림
   - 쿠키는 클라이언트에서 바로 접근 가능하여 빠름

4. **용도에 따른 선택**
   - 보안이 중요한 정보는 세션으로 관리
   - 사용자 편의성 관련 정보는 쿠키로 관리
   - 두 기술을 적절히 조합하여 사용하는 것이 바람직

---

```
출처
https://dev-coco.tistory.com/61#recentComments [슬기로운 개발생활:티스토리]
https://code-lab1.tistory.com/298
https://developer.mozilla.org/ko/docs/Web/HTTP/Cookies
https://owasp.org/www-community/attacks/Session_Management_Cheat_Sheet
```






1. **저장 위치**
   - 쿠키: 클라이언트 측에 저장
   - 세션: 서버 측에 저장

2. **보안**
   - 쿠키: 클라이언트에 저장되어 변조 가능
   - 세션: 서버에 저장되어 상대적으로 안전

3. **용량 제한**
   - 쿠키: 도메인당 20개, 총 300개, 개당 4KB
   - 세션: 서버 용량에 따라 제한 없음

4. **라이프사이클**
   - 쿠키: 만료 기간 설정 가능
   - 세션: 브라우저 종료 또는 서버에서 삭제 시 종료

5. **서버 자원**
   - 쿠키: 서버 자원 사용하지 않음
   - 세션: 서버 메모리 사용

#### Q. 세션을 사용하면 좋은데 왜 쿠키를 사용할까?
#### A. 세션이 쿠키에 비해 보안이 높은 편이나 쿠키를 사용하는 이유는 다음과 같다:

1. **서버 자원 효율성**
   - 세션은 서버 메모리를 사용하므로, 많은 사용자가 동시에 접속할 경우 서버 부하 발생
   - 쿠키는 클라이언트 측에 저장되어 서버 자원을 사용하지 않음

2. **확장성**
   - 세션은 서버 메모리에 의존하므로, 서버 확장 시 세션 공유 문제 발생
   - 쿠키는 클라이언트 측에서 관리되므로 확장성 문제 없음

3. **성능**
   - 세션은 서버에서 데이터를 조회해야 하므로 상대적으로 느림
   - 쿠키는 클라이언트에서 바로 접근 가능하여 빠름

4. **용도에 따른 선택**
   - 보안이 중요한 정보는 세션으로 관리
   - 사용자 편의성 관련 정보는 쿠키로 관리
   - 두 기술을 적절히 조합하여 사용하는 것이 바람직

---

```
출처
https://dev-coco.tistory.com/61#recentComments [슬기로운 개발생활:티스토리]
https://code-lab1.tistory.com/298
https://developer.mozilla.org/ko/docs/Web/HTTP/Cookies
https://owasp.org/www-community/attacks/Session_Management_Cheat_Sheet
```

1. **저장 위치**
   - 쿠키: 클라이언트 측에 저장
   - 세션: 서버 측에 저장

2. **보안**
   - 쿠키: 클라이언트에 저장되어 변조 가능
   - 세션: 서버에 저장되어 상대적으로 안전

3. **용량 제한**
   - 쿠키: 도메인당 20개, 총 300개, 개당 4KB
   - 세션: 서버 용량에 따라 제한 없음

4. **라이프사이클**
   - 쿠키: 만료 기간 설정 가능
   - 세션: 브라우저 종료 또는 서버에서 삭제 시 종료

5. **서버 자원**
   - 쿠키: 서버 자원 사용하지 않음
   - 세션: 서버 메모리 사용

#### Q. 세션을 사용하면 좋은데 왜 쿠키를 사용할까?
#### A. 세션이 쿠키에 비해 보안이 높은 편이나 쿠키를 사용하는 이유는 다음과 같다:

1. **서버 자원 효율성**
   - 세션은 서버 메모리를 사용하므로, 많은 사용자가 동시에 접속할 경우 서버 부하 발생
   - 쿠키는 클라이언트 측에 저장되어 서버 자원을 사용하지 않음

2. **확장성**
   - 세션은 서버 메모리에 의존하므로, 서버 확장 시 세션 공유 문제 발생
   - 쿠키는 클라이언트 측에서 관리되므로 확장성 문제 없음

3. **성능**
   - 세션은 서버에서 데이터를 조회해야 하므로 상대적으로 느림
   - 쿠키는 클라이언트에서 바로 접근 가능하여 빠름

4. **용도에 따른 선택**
   - 보안이 중요한 정보는 세션으로 관리
   - 사용자 편의성 관련 정보는 쿠키로 관리
   - 두 기술을 적절히 조합하여 사용하는 것이 바람직

---

```
출처
https://dev-coco.tistory.com/61#recentComments [슬기로운 개발생활:티스토리]
https://code-lab1.tistory.com/298
https://developer.mozilla.org/ko/docs/Web/HTTP/Cookies
https://owasp.org/www-community/attacks/Session_Management_Cheat_Sheet
```






- HTTP 프로토콜의 특징이자 약점을 보완하기 위해서 사용한다.
- HTTP는 Stateless(무상태) 프로토콜로, 서버가 클라이언트의 상태를 기억하지 못한다는 한계가 있다.
- 이를 보완하기 위해 쿠키와 세션을 사용하여 클라이언트의 상태 정보를 저장하고 관리한다.

---





# 쿠키(Cookie)
- HTTP의 일종으로 사용자가 어떠한 웹 사이트를 방문할 경우,
- 그 사이트가 사용하고 있는 서버에서 사용자의 컴퓨터에 저장하는 작은 기록 정보 파일이다.
- HTTP에서 클라이언트의 상태 정보를 클라이언트의 PC에 저장하였다가 필요시 정보를 참조하거나 재사용할 수 있다.

> HTTP 헤더에 set-cookie 옵션을 통해 쿠키를 포함해 응답을 보낸다.

# 세션(Session)
- 일정 시간 동안 같은 사용자(브라우저)로부터 들어오는 일련의 요구를 하나의 상태로 보고, 그 상태를 유지시키는 기술이다.
- 여기서 일정 시간은 방문자가 웹 브라우저를 통해 웹 서버에 접속한 시점부터 웹 브라우저를 종료하여 연결을 끝내는 시점을 말한다.
- 즉, 방문자가 웹 서버에 접속해 있는 상태를 하나의 단위로 보고 그것을 세션이라고 한다.

