
# 우선 Http 요청에 대해 알아보자

## HTTP 요청
- HTTP는 HTML 문서와 같은 리소스들을 가져올 수 있도록 해주는 프로토콜
- 클라이언트-서버 프로토콜




---

## HTTP 기반 시스템의 구성요소
- 요청은 하나의 개체, 사용자 에이전트(또는 그것을 대신하는 프록시)에 의해 전송됩니다. 
- 대부분의 경우, 사용자 에이전트는 브라우저지만, 무엇이든 될 수 있습니다. 
- 예를 들어, 검색 엔진 인덱스를 채워넣고 유지하기 위해 웹을 돌아다니는 로봇이 그러한 경우입니다.



---

## HTTP 프로토콜의 특징
### Connectionless 프로토콜 (비연결 지향)
- 클라이언트가 서버에 요청(Request)을 했을 때, 그 요청에 맞는 응답(Response)을 보낸 후 연결을 끊는 처리방식이다.

### Stateless 프로토콜
- 커넥션을 끊는 순간 클라이언트와 서버의 통신이 끝나며 상태 정보는 유지하지 않는 특성이 있다.

```
클라이언트와 첫 번째 통신에서 데이터를 주고받았다 해도, 두 번째 통신에서 이전 데이터를 유지하지 않는다.
 하지만, 실제로는 데이터 유지가 필요한 경우가 많다.
 
예를 들어,  매번 페이지를 이동할 때마다 로그인을 다시 하거나 상품을 선택했는데,
구매 페이지에서 선택한 상품의 정보가 없거나 하는 등의 일이 발생할 수 있다.
 ``` 

### <span style="color: pink;">앱에서 세션을 Http 특성상, 사용하지 않는다. 어떤 특성이길래?</span>
- HTTP는 stateless 프로토콜입니다. 즉, 요청과 응답이 한 번만 이루어지고, 그 이후에는 연결이 끊어집니다.
  때문에 세션을 유지하기 위해서는 서버에서 세션을 관리해야 합니다.
- 하지만 앱의 경우, 서버와 연결이 끊어지는 경우가 많기 때문에 세션이 유지되지 않을 수 있습니다.
- 예를 들어, 앱이 해킹당하거나, 사용자가 앱을 탈옥하면 세션 정보가 노출될 수 있습니다.

---

# HTTP 흐름
- 클라이언트가 서버와 통신하고자 할 때, 최종 서버가 됐든 중간 프록시가 됐든 다음 단계의 과정을 수행

#### 1. TCP 연결을 엽니다. TCP 연결은 요청을 보내거나(혹은 여러 개의 요청) 응답을 받는데 사용됩니다. 클라이언트는 새 연결을 열거나, 기존 연결을 재사용하거나, 서버에 대한 여러 TCP 연결을 열 수 있습니다.
<br>

#### 2. HTTP 메시지를 전송합니다. HTTP 메시지(HTTP/2 이전)는 인간이 읽을 수 있습니다. HTTP/2에서는 이런 간단한 메시지가 프레임 속으로 캡슐화되어 직접 읽는게 불가능하지만 원칙은 동일합니다.


#### 3. 서버에 의해 전송된 응답을 읽어들입니다


#### 4. 연결을 닫거나 다른 요청들을 위해 재사용합니다.
- HTTP 파이프라이닝이 활성화되면, 첫번째 응답을 완전히 수신할 때까지 기다리지 않고 여러 요청을 보낼 수 있습니다.
- HTTP 파이프라이닝은 오래된 소프트웨어와 최신 버전이 공존하고 있는, 기존의 네트워크 상에서 구현하기 어렵다는게 입증되었으며, 프레임안에서 보다 활발한 다중 요청을 보내는 HTTP/2로 교체되고 있습니다.

---




> 출처 : https://developer.mozilla.org/ko/docs/Web/HTTP/Overview

