---
title: Subnet
tags: [network, 7-layer, network-layer, ip, subnet]
updated: 2025-12-19
---

# 서브넷(Subnet)

## 서브넷이란?

서브넷(Subnet)은 큰 네트워크를 더 작은 네트워크로 나눈 것이다.

### 왜 서브넷을 사용할까?

**회사 예시:**
- 회사에 영업부(50명), 회계부(50명), 관리부(50명)가 있다고 가정
- 모든 부서를 하나의 네트워크로 묶으면 150명이 같은 네트워크를 공유
- 이렇게 되면 브로드캐스트 도메인이 너무 커져서 네트워크 속도가 느려짐

### 브로드캐스트 도메인이란?

네트워크에서 한 호스트가 보낸 메시지가 같은 네트워크의 모든 호스트에게 전달되는 영역이다. 너무 크면 불필요한 트래픽이 많아져서 네트워크 성능이 저하된다.

**실무 팁:**
브로드캐스트 도메인을 줄이기 위해 서브넷을 사용한다. 일반적으로 /24 서브넷(254개 호스트)이 적절하다.

## IP 주소의 구조

### IP 주소는 32비트로 구성

IP 주소는 총 32비트(4바이트)로 구성되어 있으며, 각 바이트는 점(.)으로 구분된다.

```
192.168.001.056
│   │   │   │
│   │   │   └── 4번째 바이트 (8비트)
│   │   └────── 3번째 바이트 (8비트)  
│   └────────── 2번째 바이트 (8비트)
└────────────── 1번째 바이트 (8비트)
```

### 2진수 표현

IP 주소는 2진수로 표현할 수 있다:
- 192.168.1.56 = 11000000.10101000.00000001.00111000

## IP 클래스별 구분

IP 주소는 사용 목적에 따라 A, B, C, D, E 클래스로 나뉜다.

| 클래스 | IP 범위 | 기본 서브넷 마스크 | 용도 |
|--------|---------|-------------------|------|
| A | 1.0.0.0 ~ 126.255.255.255 | 255.0.0.0 | 대규모 네트워크 |
| B | 128.0.0.0 ~ 191.255.255.255 | 255.255.0.0 | 중간 규모 네트워크 |
| C | 192.0.0.0 ~ 223.255.255.255 | 255.255.255.0 | 소규모 네트워크 |
| D | 224.0.0.0 ~ 239.255.255.255 | - | 멀티캐스트 |
| E | 240.0.0.0 ~ 255.255.255.255 | - | 실험용 |

### 클래스 구분 방법

- A클래스: 첫 번째 바이트가 1~126
- B클래스: 첫 번째 바이트가 128~191
- C클래스: 첫 번째 바이트가 192~223

**실무 팁:**
현재는 CIDR 표기법을 사용하므로 클래스 구분보다는 서브넷 마스크를 기준으로 네트워크를 구분한다.

## 서브넷 마스크란?

서브넷 마스크는 IP 주소에서 네트워크 부분과 호스트 부분을 구분하는 32비트 숫자다.

### 서브넷 마스크의 특징

- 1의 비트: 네트워크 주소 부분
- 0의 비트: 호스트 주소 부분
- 연속된 1과 0으로만 구성 (중간에 끊어지면 안 됨)

### 올바른 서브넷 마스크 예시

**올바른 형태:**
```
255.255.255.0   = 11111111.11111111.11111111.00000000
255.255.252.0   = 11111111.11111111.11111100.00000000
```

**잘못된 형태:**
```
255.255.243.0   = 11111111.11111111.11110011.00000000 (중간에 0이 끊어짐)
```

**실무 팁:**
서브넷 마스크는 연속된 1과 0으로만 구성된다. 중간에 끊어지면 잘못된 마스크다.

## CIDR 표기법

CIDR(Classless Inter-Domain Routing)은 IP 주소와 서브넷 마스크를 간단하게 표기하는 방법이다.

### CIDR 표기법 이해하기

```
192.168.1.56/24

192.168.1.56  ← IP 주소
         /24  ← 서브넷 마스크의 1의 개수
```

### /24가 의미하는 것

- 서브넷 마스크에서 1이 24개 있다는 뜻
- 2진수로: `11111111.11111111.11111111.00000000`
- 10진수로: `255.255.255.0`

### 주요 CIDR 표기법

| CIDR | 서브넷 마스크 | 사용 가능한 호스트 수 |
|------|---------------|---------------------|
| /24 | 255.255.255.0 | 254개 |
| /25 | 255.255.255.128 | 126개 |
| /26 | 255.255.255.192 | 62개 |
| /27 | 255.255.255.224 | 30개 |
| /28 | 255.255.255.240 | 14개 |

**실무 팁:**
CIDR 표기법은 서브넷 마스크를 간단하게 표현한다. `/24`는 255.255.255.0을 의미한다.

## 서브네팅(Sub-netting)

서브네팅은 큰 네트워크를 여러 개의 작은 네트워크로 나누는 과정이다.

### 네트워크 주소 vs 호스트 주소

| 구분 | 설명 | 예시 |
|------|------|------|
| 네트워크 주소 | 호스트들을 모은 네트워크를 지칭하는 주소 | 192.168.1.0 |
| 호스트 주소 | 네트워크 내 개별 호스트를 구분하는 주소 | 192.168.1.56 |

### AND 연산으로 네트워크 주소 구하기

IP 주소와 서브넷 마스크를 AND 연산하면 해당 IP가 속한 네트워크 주소를 알 수 있다.

#### 2진수 계산 과정

```
IP 주소:        192.168.1.56  = 11000000.10101000.00000001.00111000
서브넷 마스크:  255.255.255.0  = 11111111.11111111.11111111.00000000
AND 연산:      ──────────────────────────────────────────────────
네트워크 주소:  192.168.1.0    = 11000000.10101000.00000001.00000000
```

**실무 팁:**
네트워크 주소는 IP 주소와 서브넷 마스크를 AND 연산하면 구할 수 있다.

## 실제 계산 예시

### IP 주소와 서브넷 마스크 호환성 이해하기

**핵심 질문:** "192.168.1.56"은 서브넷 마스크 /16과 /24 중 어느 것과 호환될까?

#### /16 서브넷 마스크 (255.255.0.0)로 분석

```
IP:        11000000.10101000.00000001.00111000
마스크:    11111111.11111111.00000000.00000000
AND 연산:  11000000.10101000.00000000.00000000
결과:      192.168.0.0
```

**의미:** 192.168.1.56은 192.168.0.0/16 네트워크에 속함
- 네트워크 범위: 192.168.0.0 ~ 192.168.255.255
- 사용 가능한 호스트: 65,534개 (65,536 - 2)

#### /24 서브넷 마스크 (255.255.255.0)로 분석

```
IP:        11000000.10101000.00000001.00111000
마스크:    11111111.11111111.11111111.00000000
AND 연산:  11000000.10101000.00000001.00000000
결과:      192.168.1.0
```

**의미:** 192.168.1.56은 192.168.1.0/24 네트워크에 속함
- 네트워크 범위: 192.168.1.0 ~ 192.168.1.255
- 사용 가능한 호스트: 254개 (256 - 2)

### 결론: 어떤 서브넷 마스크를 사용해야 할까?

192.168.1.56은 두 서브넷 마스크 모두와 호환된다.

| 서브넷 마스크 | 네트워크 주소 | 호스트 범위 | 용도 |
|---------------|---------------|-------------|------|
| /16 (255.255.0.0) | 192.168.0.0 | 192.168.0.1 ~ 192.168.255.254 | 대규모 네트워크 |
| /24 (255.255.255.0) | 192.168.1.0 | 192.168.1.1 ~ 192.168.1.254 | 소규모 네트워크 |

### 실제 사용 시나리오

#### 회사 네트워크 예시

회사 전체 네트워크를 192.168.0.0/16으로 설정하고, 각 부서별로 /24 서브넷을 할당:

- 영업부: 192.168.1.0/24 (192.168.1.1 ~ 192.168.1.254)
- 개발부: 192.168.2.0/24 (192.168.2.1 ~ 192.168.2.254)
- 관리부: 192.168.3.0/24 (192.168.3.1 ~ 192.168.3.254)
- 기타부서: 192.168.4.0/24 (192.168.4.1 ~ 192.168.4.254)

#### 가정용 네트워크 예시

가정용 네트워크를 192.168.1.0/24로 설정:

- 공유기: 192.168.1.1
- 노트북: 192.168.1.56
- 스마트폰: 192.168.1.100
- 스마트TV: 192.168.1.200

### 서브넷 마스크 선택 기준

| 기준 | 권장 서브넷 마스크 | 이유 |
|------|-------------------|------|
| 호스트 수 | | |
| 1~254개 | /24 | 효율적인 IP 사용 |
| 255~65,534개 | /16 | 충분한 호스트 수 확보 |
| 네트워크 분리 | | |
| 부서별 분리 | /24 | 브로드캐스트 도메인 최소화 |
| 전체 통합 | /16 | 단순한 관리 |

**실무 팁:**
호스트 수에 따라 적절한 서브넷 마스크를 선택한다. 일반적으로 /24가 가장 많이 사용된다.

## 특수 주소의 이해

### 네트워크 주소

네트워크 주소는 서브넷 내에서 호스트 비트가 모두 0인 주소다.

```
192.168.1.0/24에서:
- 네트워크 주소: 192.168.1.0
- 2진수 표현: 11000000.10101000.00000001.00000000
- 호스트 비트가 모두 0
```

**역할:**
- 네트워크 자체를 식별하는 주소
- 호스트에 할당할 수 없음
- 라우팅 테이블에서 목적지 네트워크를 나타낼 때 사용

### 브로드캐스트 주소

브로드캐스트 주소는 서브넷 내에서 호스트 비트가 모두 1인 주소다.

```
192.168.1.0/24에서:
- 브로드캐스트 주소: 192.168.1.255
- 2진수 표현: 11000000.10101000.00000001.11111111
- 호스트 비트가 모두 1
```

**역할:**
- 네트워크 내 모든 호스트에게 동시에 패킷을 전송할 때 사용
- 호스트에 할당할 수 없음
- ARP 요청, DHCP 디스커버리 등에서 사용

### 사용 가능한 호스트 주소 계산

전체 주소 공간에서 네트워크 주소와 브로드캐스트 주소를 제외한 나머지가 실제 호스트에 할당 가능하다.

**계산 공식:**
```
사용 가능한 호스트 수 = 2^(호스트 비트 수) - 2
```

**/24 서브넷의 경우:**
- 호스트 비트: 32 - 24 = 8비트
- 전체 주소 수: 2^8 = 256개
- 사용 가능한 호스트 수: 256 - 2 = 254개
- 192.168.1.1 ~ 192.168.1.254

**실무 팁:**
네트워크 주소와 브로드캐스트 주소는 호스트에 할당할 수 없다. 사용 가능한 호스트 수는 항상 2개를 빼야 한다.

### 서브넷별 사용 가능한 주소 수

| CIDR | 서브넷 마스크 | 전체 주소 | 사용 가능 주소 | 주소 범위 예시 |
|------|---------------|-----------|----------------|----------------|
| /30 | 255.255.255.252 | 4 | 2 | .0, .1, .2, .3 → 사용: .1, .2 |
| /29 | 255.255.255.248 | 8 | 6 | .0 ~ .7 → 사용: .1 ~ .6 |
| /28 | 255.255.255.240 | 16 | 14 | .0 ~ .15 → 사용: .1 ~ .14 |
| /27 | 255.255.255.224 | 32 | 30 | .0 ~ .31 → 사용: .1 ~ .30 |
| /26 | 255.255.255.192 | 64 | 62 | .0 ~ .63 → 사용: .1 ~ .62 |
| /25 | 255.255.255.128 | 128 | 126 | .0 ~ .127 → 사용: .1 ~ .126 |
| /24 | 255.255.255.0 | 256 | 254 | .0 ~ .255 → 사용: .1 ~ .254 |

### /30 서브넷의 활용 - Point-to-Point 링크

/30 서브넷은 사용 가능한 호스트가 2개뿐이므로 주로 라우터 간 연결에 사용된다.

```
예: 10.0.0.0/30

10.0.0.0   → 네트워크 주소 (사용 불가)
10.0.0.1   → 라우터 A의 인터페이스
10.0.0.2   → 라우터 B의 인터페이스
10.0.0.3   → 브로드캐스트 주소 (사용 불가)
```

**장점:**
- IP 주소 낭비 최소화
- 라우터 간 연결에 최적화
- WAN 링크나 백본 네트워크에 적합

**실무 팁:**
라우터 간 연결에는 /30 서브넷을 사용한다. IP 주소를 최소한으로 사용할 수 있다.

## VLSM과 CIDR

### VLSM이란?

VLSM(Variable Length Subnet Mask)은 하나의 네트워크를 서로 다른 크기의 서브넷으로 나누는 기법이다.

### VLSM이 필요한 이유

**기존 클래스 기반 주소 할당의 문제점:**
```
C 클래스 할당 시:
- 호스트 50개 필요 → 254개 주소 할당 (204개 낭비)
- 호스트 10개 필요 → 254개 주소 할당 (244개 낭비)
```

**VLSM을 사용하면:**
```
- 호스트 50개 필요 → /26 사용 (62개 주소)
- 호스트 10개 필요 → /28 사용 (14개 주소)
```

**실무 팁:**
VLSM을 사용하면 필요한 만큼만 IP 주소를 할당할 수 있어 낭비를 줄일 수 있다.

### VLSM 설계 예시

192.168.1.0/24 네트워크를 다음과 같이 분할:

```
부서별 요구사항:
1. 영업부: 100명
2. 개발부: 50명
3. 관리부: 25명
4. 라우터 간 연결: 2개
```

**단계별 할당**:

1. **영업부 (100명 필요)**
   - 필요한 주소: 100개 → 2^7 = 128개 (/25)
   - 할당: 192.168.1.0/25
   - 범위: 192.168.1.0 ~ 192.168.1.127
   - 사용 가능: 192.168.1.1 ~ 192.168.1.126 (126개)

2. **개발부 (50명 필요)**
   - 필요한 주소: 50개 → 2^6 = 64개 (/26)
   - 할당: 192.168.1.128/26
   - 범위: 192.168.1.128 ~ 192.168.1.191
   - 사용 가능: 192.168.1.129 ~ 192.168.1.190 (62개)

3. **관리부 (25명 필요)**
   - 필요한 주소: 25개 → 2^5 = 32개 (/27)
   - 할당: 192.168.1.192/27
   - 범위: 192.168.1.192 ~ 192.168.1.223
   - 사용 가능: 192.168.1.193 ~ 192.168.1.222 (30개)

4. **라우터 간 연결 (2개 필요)**
   - 필요한 주소: 2개 → 2^2 = 4개 (/30)
   - 할당: 192.168.1.224/30
   - 범위: 192.168.1.224 ~ 192.168.1.227
   - 사용 가능: 192.168.1.225 ~ 192.168.1.226 (2개)

**결과**:
- 총 사용: 192.168.1.0 ~ 192.168.1.227 (228개 주소)
- 남은 주소: 192.168.1.228 ~ 192.168.1.255 (28개, 향후 확장 가능)

### VLSM 설계 원칙

1. 큰 서브넷부터 할당: 호스트가 많이 필요한 곳부터 시작
2. 2의 제곱수로 생각: 필요한 호스트 수보다 큰 가장 작은 2의 제곱수 선택
3. 연속된 주소 블록 사용: 효율적인 라우팅 집약을 위해
4. 성장 여지 고려: 향후 확장을 위한 여유 공간 확보

### CIDR의 등장 배경

1990년대 초반, 인터넷의 급속한 성장으로 인한 문제:
- IP 주소 고갈 위기
- 라우팅 테이블의 폭발적 증가
- 비효율적인 클래스 기반 주소 할당

**CIDR의 해결책:**
- 클래스 개념 제거
- 임의의 비트 수로 네트워크 구분
- 라우트 집약(Route Aggregation) 가능

### 라우트 집약 예시

여러 개의 서브넷을 하나의 라우트로 요약:

```
원래 라우팅 테이블:
192.168.0.0/24
192.168.1.0/24
192.168.2.0/24
192.168.3.0/24

↓ 집약 후

192.168.0.0/22  (하나의 라우트로 통합)
```

**집약 조건:**
- 연속된 주소 블록
- 공통 네트워크 비트 존재
- 동일한 라우팅 정책 적용

**실무 팁:**
라우트 집약을 사용하면 라우팅 테이블 크기를 줄일 수 있다. 연속된 주소 블록을 사용한다.

## 서브넷 설계 시 고려사항

### 현재와 미래의 호스트 수 예측

**잘못된 예:**
```
현재 호스트: 50개
할당: /26 (62개)
→ 6개월 후 60개로 증가 시 재설계 필요
```

**올바른 예:**
```
현재 호스트: 50개
예상 성장률: 50% (3년 내)
할당: /25 (126개)
→ 향후 확장 가능
```

### 브로드캐스트 도메인 크기

브로드캐스트 트래픽이 네트워크 성능에 미치는 영향:

| 호스트 수 | 권장 서브넷 | 이유 |
|-----------|-------------|------|
| ~50개 | /26 | 브로드캐스트 트래픽 최소화 |
| 50~100개 | /25 | 적절한 성능 유지 |
| 100~250개 | /24 | 일반적인 사무실 네트워크 |
| 250개 이상 | VLAN 분할 고려 | 성능 저하 방지 |

**실무 팁:**
브로드캐스트 도메인을 작게 유지하기 위해 /24 서브넷을 권장한다.

### 지역적/논리적 분리

네트워크를 어떻게 나눌 것인가?

**지역적 분리:**
```
본사 네트워크: 10.0.0.0/16
- 1층: 10.0.1.0/24
- 2층: 10.0.2.0/24
- 3층: 10.0.3.0/24

지사 네트워크: 10.1.0.0/16
- 강남점: 10.1.1.0/24
- 판교점: 10.1.2.0/24
```

**논리적 분리:**
```
- 사용자 네트워크: 192.168.0.0/22
- 서버 네트워크: 192.168.4.0/24
- 관리 네트워크: 192.168.5.0/26
- DMZ 네트워크: 192.168.6.0/24
```

### 보안 경계 설정

서브넷을 보안 구역으로 활용:

```
퍼블릭 DMZ: 10.0.1.0/24
├─ 웹 서버: 10.0.1.10
├─ 메일 서버: 10.0.1.20
└─ DNS 서버: 10.0.1.30

프라이빗 DMZ: 10.0.2.0/24
├─ 앱 서버: 10.0.2.10
└─ API 서버: 10.0.2.20

내부 네트워크: 10.0.10.0/23
├─ DB 서버: 10.0.10.10
└─ 백업 서버: 10.0.10.20
```

**방화벽 정책 예시:**
- 인터넷 → 퍼블릭 DMZ: HTTP/HTTPS만 허용
- 퍼블릭 DMZ → 프라이빗 DMZ: 특정 포트만 허용
- 프라이빗 DMZ → 내부: 인증된 요청만 허용
- 내부 → 외부: 제한적 허용

**실무 팁:**
서브넷을 보안 구역으로 분리하면 방화벽 정책을 쉽게 적용할 수 있다.

### IP 주소 낭비 최소화

**비효율적인 설계:**
```
지점 A (5명): 192.168.1.0/24 (254개 할당)
지점 B (8명): 192.168.2.0/24 (254개 할당)
지점 C (3명): 192.168.3.0/24 (254개 할당)

→ 총 낭비: (254-5) + (254-8) + (254-3) = 746개
```

**효율적인 설계 (VLSM):**
```
지점 A (5명): 192.168.1.0/28 (14개 할당)
지점 B (8명): 192.168.1.16/28 (14개 할당)
지점 C (3명): 192.168.1.32/29 (6개 할당)

→ 총 낭비: (14-5) + (14-8) + (6-3) = 18개
→ 나머지 주소 블록은 다른 용도로 활용 가능
```

**실무 팁:**
VLSM을 사용하면 필요한 만큼만 IP 주소를 할당할 수 있어 낭비를 줄일 수 있다.

### 관리 용이성

**좋은 주소 체계:**
```
서버 IP는 .10부터 시작:
- 웹 서버: x.x.x.10
- DB 서버: x.x.x.11
- 앱 서버: x.x.x.12

네트워크 장비는 .1부터:
- 게이트웨이: x.x.x.1
- DNS: x.x.x.2
- DHCP: x.x.x.3

DHCP 풀: .100부터 .200까지
사용자 PC: .100 ~ .200
```

**실무 팁:**
일관된 주소 체계를 사용하면 관리가 쉬워진다.

### DHCP 고려사항

```
네트워크: 192.168.1.0/24

고정 IP 영역 (예약):
192.168.1.1 ~ 192.168.1.99

DHCP 풀:
192.168.1.100 ~ 192.168.1.200 (100개 주소)

향후 확장용:
192.168.1.201 ~ 192.168.1.254
```

**실무 팁:**
고정 IP와 DHCP 풀을 분리하면 관리가 쉬워진다.

## 실무에서의 서브넷 활용

### AWS VPC 서브넷 설계

AWS에서는 가용 영역(AZ)별로 서브넷을 분리하는 것이 일반적이다.

```
VPC: 10.0.0.0/16

가용 영역 A:
- Public Subnet:  10.0.1.0/24
- Private Subnet: 10.0.10.0/24
- DB Subnet:      10.0.20.0/24

가용 영역 B:
- Public Subnet:  10.0.2.0/24
- Private Subnet: 10.0.11.0/24
- DB Subnet:      10.0.21.0/24
```

**Public Subnet:**
- 인터넷 게이트웨이를 통한 외부 통신 가능
- ELB, NAT Gateway, Bastion Host 배치
- 라우팅 테이블: 0.0.0.0/0 → IGW

**Private Subnet:**
- NAT Gateway를 통해서만 외부 통신
- 애플리케이션 서버, 내부 서비스 배치
- 라우팅 테이블: 0.0.0.0/0 → NAT

**DB Subnet:**
- 외부 통신 불가
- RDS, ElastiCache 등 데이터베이스 배치
- Private Subnet에서만 접근 가능

**실무 팁:**
AWS VPC에서는 가용 영역별로 서브넷을 분리하고, Public/Private/DB 서브넷을 구분한다.

### 쿠버네티스 네트워크

쿠버네티스는 여러 종류의 IP 주소를 사용합니다:

```
Node Network: 10.0.0.0/16
- 실제 물리/가상 서버 IP
- 10.0.1.10, 10.0.1.11, ...

Pod Network: 100.64.0.0/16
- Pod에 할당되는 가상 IP
- 100.64.1.10, 100.64.2.20, ...

Service Network: 10.96.0.0/16
- 클러스터 내부 서비스 IP
- 10.96.0.1 (kubernetes API)
- 10.96.0.10 (kube-dns)
```

### 대규모 기업 네트워크

```
전체 주소 공간: 10.0.0.0/8

리전별 할당:
- 서울: 10.0.0.0/12   (10.0.0.0 ~ 10.15.255.255)
- 부산: 10.16.0.0/12  (10.16.0.0 ~ 10.31.255.255)
- 제주: 10.32.0.0/12  (10.32.0.0 ~ 10.47.255.255)

서울 리전 내 세부 분할:
- 사용자: 10.0.0.0/14   (1,048,576개 주소)
- 서버:   10.4.0.0/16   (65,536개 주소)
- 관리:   10.5.0.0/18   (16,384개 주소)
- DMZ:    10.5.64.0/18  (16,384개 주소)
```

### 데이터센터 네트워크

**3-Tier 아키텍처**:

```
Core Layer: 10.0.0.0/30, 10.0.0.4/30 (라우터 간 연결)

Distribution Layer:
- VLAN 10 (영업): 10.10.0.0/16
- VLAN 20 (개발): 10.20.0.0/16
- VLAN 30 (관리): 10.30.0.0/16

Access Layer:
각 층별 스위치가 해당 VLAN 할당
```

**Spine-Leaf 아키텍처**:

```
Loopback (라우터 ID):
- Spine1: 10.255.0.1/32
- Spine2: 10.255.0.2/32
- Leaf1:  10.255.1.1/32
- Leaf2:  10.255.1.2/32

Point-to-Point 링크:
- Spine1-Leaf1: 10.0.0.0/31
- Spine1-Leaf2: 10.0.0.2/31
- Spine2-Leaf1: 10.0.0.4/31
- Spine2-Leaf2: 10.0.0.6/31
```

### 서브넷 간 통신과 라우팅

서로 다른 서브넷 간 통신은 라우터를 거쳐야 합니다:

```
서브넷 A: 192.168.1.0/24 (게이트웨이: 192.168.1.1)
서브넷 B: 192.168.2.0/24 (게이트웨이: 192.168.2.1)

Host A (192.168.1.10)에서 Host B (192.168.2.20)로 패킷 전송:

1. Host A: "192.168.2.20은 내 서브넷이 아니네"
2. Host A: 기본 게이트웨이(192.168.1.1)로 패킷 전송
3. 라우터: 라우팅 테이블 확인
4. 라우터: 192.168.2.0/24는 192.168.2.1 인터페이스로 전달
5. Host B: 패킷 수신
```

**라우터의 라우팅 테이블**:
```
Destination       Gateway         Interface
192.168.1.0/24    직접 연결       eth0
192.168.2.0/24    직접 연결       eth1
0.0.0.0/0         203.0.113.1     eth2 (기본 경로)
```

### IP 주소 충돌 방지

**사설 IP 주소 범위**:
- 10.0.0.0/8 (10.0.0.0 ~ 10.255.255.255) - 대규모 네트워크
- 172.16.0.0/12 (172.16.0.0 ~ 172.31.255.255) - 중규모 네트워크
- 192.168.0.0/16 (192.168.0.0 ~ 192.168.255.255) - 소규모 네트워크

**VPN 연결 시 주의사항**:
```
잘못된 예:
본사: 192.168.1.0/24
지사: 192.168.1.0/24
→ VPN 연결 시 주소 충돌 발생!

올바른 예:
본사: 192.168.1.0/24
지사: 192.168.2.0/24
→ 주소 충돌 없음
```

---

## 서브넷의 장점

1. 브로드캐스트 도메인 크기 감소
   - 브로드캐스트 트래픽은 같은 서브넷 내에서만 전파
   - ARP 요청, DHCP 디스커버리 등의 트래픽이 서브넷 경계에서 차단됨
   - 대규모 네트워크를 여러 서브넷으로 분할하면 전체적인 네트워크 효율 증가

2. IP 주소 효율적 사용
   - VLSM을 활용하여 필요한 만큼만 주소 할당
   - 퍼블릭 IP 절약 (NAT와 함께 사용)
   - IPv4 고갈 문제 완화

3. 보안 강화
   - 서브넷 단위로 방화벽 정책 적용 가능
   - DMZ, 내부 네트워크, 관리 네트워크 등을 물리적/논리적으로 분리
   - 침입 발생 시 피해 범위를 해당 서브넷으로 제한

4. 관리 효율성
   - 부서별, 층별, 용도별로 네트워크 구분
   - 문제 발생 시 원인 파악 및 대응이 신속
   - 네트워크 모니터링 및 트러블슈팅 간소화

5. 라우팅 최적화
   - 라우트 집약을 통한 라우팅 테이블 크기 감소
   - 라우터의 부하 감소 및 성능 향상
   - 네트워크 토폴로지 변경에 유연하게 대응

**실무 팁:**
서브넷을 사용하면 브로드캐스트 도메인을 줄이고, 보안을 강화하며, 관리 효율성을 높일 수 있다.

## 참조

- RFC 950 - Internet Standard Subnetting Procedure
- RFC 1878 - Variable Length Subnet Table For IPv4