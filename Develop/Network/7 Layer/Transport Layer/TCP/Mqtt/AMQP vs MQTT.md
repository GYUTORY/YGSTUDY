---
title: AMQP vs MQTT ë¹„êµ ë¶„ì„
tags: [network, 7-layer, transport-layer, tcp, mqtt, amqp, messaging, protocol-comparison]
updated: 2025-12-05
---

# AMQP vs MQTT ë¹„êµ ë¶„ì„

## ðŸ“‹ ëª©ì°¨
- [ê¸°ë³¸ ê°œë… ì´í•´](#-ê¸°ë³¸-ê°œë…-ì´í•´)
- [MQTT ìƒì„¸ ë¶„ì„](#-mqtt-ìƒì„¸-ë¶„ì„)
- [AMQP ìƒì„¸ ë¶„ì„](#-amqp-ìƒì„¸-ë¶„ì„)
- [ì•„í‚¤í…ì²˜ ë¹„êµ](#-ì•„í‚¤í…ì²˜-ë¹„êµ)
- [ì„±ëŠ¥ ë° íŠ¹ì„± ë¹„êµ](#-ì„±ëŠ¥-ë°-íŠ¹ì„±-ë¹„êµ)
- [ì‹¤ì œ êµ¬í˜„ ì˜ˆì‹œ](#-ì‹¤ì œ-êµ¬í˜„-ì˜ˆì‹œ)
- [ì‚¬ìš© ì‚¬ë¡€ë³„ ì„ íƒ](#-ì‚¬ìš©-ì‚¬ë¡€ë³„-ì„ íƒ)
- [í†µí•© ì‹œë‚˜ë¦¬ì˜¤](#-í†µí•©-ì‹œë‚˜ë¦¬ì˜¤)
- [íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#-íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)
- [ë¯¸ëž˜ ì „ë§](#-ë¯¸ëž˜-ì „ë§)

---

## ê¸°ë³¸ ê°œë… ì´í•´

### ðŸ“® ë©”ì‹œì§€ ë¸Œë¡œì»¤ ì‹œìŠ¤í…œì´ëž€?

**ë©”ì‹œì§€ ë¸Œë¡œì»¤**ëŠ” ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ **ì¤‘ì•™ ì§‘ì¤‘ì‹ ë©”ì‹œì§€ í—ˆë¸Œ** ì—­í• ì„ í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ìž…ë‹ˆë‹¤.

#### ë©”ì‹œì§€ ë¸Œë¡œì»¤ì˜ í•µì‹¬ ì—­í• 

ë©”ì‹œì§€ ë¸Œë¡œì»¤ëŠ” ë‹¨ìˆœížˆ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒ ì´ìƒì˜ ì—­í• ì„ í•©ë‹ˆë‹¤:

**1. ë©”ì‹œì§€ ì¤‘ê³„ (Message Relay)**
- ë°œì‹ ìžì™€ ìˆ˜ì‹ ìž ì‚¬ì´ì—ì„œ ë©”ì‹œì§€ë¥¼ ë°›ì•„ ì „ë‹¬í•˜ëŠ” ì¤‘ê°„ ê³„ì¸µ ì—­í• 
- ì§ì ‘ í†µì‹ ì´ ì•„ë‹Œ ê°„ì ‘ í†µì‹ ìœ¼ë¡œ ì‹œìŠ¤í…œ ê°„ ê²°í•©ë„ë¥¼ ë‚®ì¶¤
- ì˜ˆ: A ì„œë¹„ìŠ¤ê°€ B ì„œë¹„ìŠ¤ì˜ IPë‚˜ í¬íŠ¸ë¥¼ ëª°ë¼ë„ ë¸Œë¡œì»¤ë¥¼ í†µí•´ í†µì‹  ê°€ëŠ¥

**2. ë¹„ë™ê¸° í†µì‹  (Asynchronous Communication)**
- **ë™ê¸° ë°©ì‹ì˜ ë¬¸ì œì **: ìš”ì²­í•œ ìª½ì´ ì‘ë‹µì„ ë°›ì„ ë•Œê¹Œì§€ ëŒ€ê¸°(blocking)í•´ì•¼ í•¨
- **ë¹„ë™ê¸° ë°©ì‹ì˜ ìž¥ì **: ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê³  ì¦‰ì‹œ ë‹¤ë¥¸ ìž‘ì—… ìˆ˜í–‰ ê°€ëŠ¥
- ë°œì‹ ìžì™€ ìˆ˜ì‹ ìžê°€ ë™ì‹œì— ì˜¨ë¼ì¸ ìƒíƒœì¼ í•„ìš”ê°€ ì—†ìŒ
- ì˜ˆ: ì£¼ë¬¸ ì‹œìŠ¤í…œì´ ê²°ì œ ì‹œìŠ¤í…œì˜ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ë‹¤ìŒ ì£¼ë¬¸ì„ ë°›ì„ ìˆ˜ ìžˆìŒ

**3. ë©”ì‹œì§€ ë²„í¼ë§ (Message Buffering)**
- ìˆ˜ì‹ ìžê°€ ì²˜ë¦¬í•  ìˆ˜ ìžˆëŠ” ì†ë„ë³´ë‹¤ ë¹ ë¥´ê²Œ ë©”ì‹œì§€ê°€ ë“¤ì–´ì˜¬ ë•Œ ìž„ì‹œ ì €ìž¥
- **ë°±í”„ë ˆì…”(Backpressure) í•´ê²°**: ì‹œìŠ¤í…œ ê³¼ë¶€í•˜ ë°©ì§€
- **ë©”ì‹œì§€ ì†ì‹¤ ë°©ì§€**: ë„¤íŠ¸ì›Œí¬ ìž¥ì• ë‚˜ ìˆ˜ì‹ ìž ìž¥ì•  ì‹œì—ë„ ë©”ì‹œì§€ ë³´ì¡´
- ì˜ˆ: 1ì´ˆì— 1000ê°œì˜ ì£¼ë¬¸ì´ ë“¤ì–´ì™€ë„ ì²˜ë¦¬ ì‹œìŠ¤í…œì´ ì´ˆë‹¹ 100ê°œì”©ë§Œ ì²˜ë¦¬ ê°€ëŠ¥í•œ ê²½ìš°, ë‚˜ë¨¸ì§€ 900ê°œë¥¼ ë²„í¼ì— ì €ìž¥

**4. ë¼ìš°íŒ… (Routing)**
- ë©”ì‹œì§€ì˜ ëª©ì ì§€ë¥¼ ê²°ì •í•˜ê³  ì ì ˆí•œ ìˆ˜ì‹ ìžì—ê²Œ ì „ë‹¬
- ë‹¨ìˆœí•œ 1:1 ì „ë‹¬ë¶€í„° ë³µìž¡í•œ ì¡°ê±´ë¶€ ë¼ìš°íŒ…ê¹Œì§€ ì§€ì›
- í•˜ë‚˜ì˜ ë©”ì‹œì§€ë¥¼ ì—¬ëŸ¬ ìˆ˜ì‹ ìžì—ê²Œ ë™ì‹œ ì „ë‹¬ ê°€ëŠ¥ (ë©€í‹°ìºìŠ¤íŠ¸)
- ì˜ˆ: "ì£¼ë¬¸ ìƒì„±" ë©”ì‹œì§€ë¥¼ ìž¬ê³  ì‹œìŠ¤í…œ, ê²°ì œ ì‹œìŠ¤í…œ, ë°°ì†¡ ì‹œìŠ¤í…œì— ë™ì‹œ ì „ë‹¬

#### ðŸ  ìš°ì²´êµ­ìœ¼ë¡œ ì´í•´í•˜ëŠ” ë©”ì‹œì§€ ë¸Œë¡œì»¤

ë©”ì‹œì§€ ë¸Œë¡œì»¤ë¥¼ ìš°ì²´êµ­ì— ë¹„ìœ í•˜ë©´ ì´í•´ê°€ ì‰½ìŠµë‹ˆë‹¤:

**ì „í†µì ì¸ ì§ì ‘ í†µì‹  (Without Broker)**
```
Aê°€ Bì˜ ì§‘ ì£¼ì†Œë¥¼ ì•Œê³  ìžˆì–´ì•¼ í•¨ â†’ Aê°€ ì§ì ‘ Bì˜ ì§‘ì— ë°©ë¬¸ â†’ Bê°€ ì§‘ì— ì—†ìœ¼ë©´ ì‹¤íŒ¨
```

**ë©”ì‹œì§€ ë¸Œë¡œì»¤ë¥¼ í†µí•œ í†µì‹  (With Broker)**
```
Aê°€ ìš°ì²´êµ­ì— íŽ¸ì§€ë¥¼ ë§¡ê¹€ â†’ ìš°ì²´êµ­ì´ íŽ¸ì§€ë¥¼ ë³´ê´€ â†’ Bê°€ íŽ¸ì§€í•¨ì„ í™•ì¸í•  ë•Œ ì „ë‹¬
```

ì´ ë°©ì‹ì˜ ìž¥ì :
- **ë°œì‹ ìž**: íŽ¸ì§€ë¥¼ ë³´ë‚´ëŠ” ì‚¬ëžŒ (Publisher/Producer)
  - ìˆ˜ì‹ ìžì˜ ì •í™•í•œ ì£¼ì†Œë‚˜ ìƒíƒœë¥¼ ëª°ë¼ë„ ë¨
  - ìš°ì²´êµ­ì— ë§¡ê¸°ë©´ ìžì‹ ì˜ ì¼ì€ ë
  
- **ìš°ì²´êµ­**: íŽ¸ì§€ë¥¼ ì¤‘ê³„í•˜ëŠ” ê³³ (Message Broker)
  - íŽ¸ì§€ë¥¼ ì•ˆì „í•˜ê²Œ ë³´ê´€
  - ì˜¬ë°”ë¥¸ ì£¼ì†Œë¡œ ë°°ë‹¬
  - ìˆ˜ì·¨ì¸ì´ ë¶€ìž¬ì¤‘ì´ë©´ ë³´ê´€ í›„ ìž¬ë°°ë‹¬
  
- **ìˆ˜ì‹ ìž**: íŽ¸ì§€ë¥¼ ë°›ëŠ” ì‚¬ëžŒ (Subscriber/Consumer)
  - ìžì‹ ì´ ì›í•˜ëŠ” ì‹œê°„ì— íŽ¸ì§€ ìˆ˜ë ¹
  - ë°œì‹ ìžê°€ ëˆ„êµ¬ì¸ì§€ ëª°ë¼ë„ ë¨
  
- **ì£¼ì†Œ**: íŽ¸ì§€ì˜ ëª©ì ì§€ (Topic/Routing Key)
  - ì–´ë–¤ ì¢…ë¥˜ì˜ íŽ¸ì§€ì¸ì§€ ë¶„ë¥˜
  - ê°™ì€ ì£¼ì†Œì˜ íŽ¸ì§€ë¥¼ êµ¬ë…í•˜ëŠ” ëª¨ë“  ì‚¬ëžŒì—ê²Œ ë°°ë‹¬ ê°€ëŠ¥

#### ðŸŽ­ ë””ì»¤í”Œë§(Decoupling)ì˜ ì¤‘ìš”ì„±

ë©”ì‹œì§€ ë¸Œë¡œì»¤ê°€ ì œê³µí•˜ëŠ” ê°€ìž¥ í° ê°€ì¹˜ëŠ” **ë””ì»¤í”Œë§**ìž…ë‹ˆë‹¤:

**1. ì‹œê°„ì  ë””ì»¤í”Œë§ (Temporal Decoupling)**
- ë°œì‹ ìžì™€ ìˆ˜ì‹ ìžê°€ ê°™ì€ ì‹œê°„ì— ë™ìž‘í•  í•„ìš” ì—†ìŒ
- ìˆ˜ì‹ ìžê°€ ì˜¤í”„ë¼ì¸ì´ì–´ë„ ë©”ì‹œì§€ ì „ì†¡ ê°€ëŠ¥
- ë‚˜ì¤‘ì— ìˆ˜ì‹ ìžê°€ ì˜¨ë¼ì¸ ìƒíƒœê°€ ë˜ë©´ ë©”ì‹œì§€ ìˆ˜ì‹ 

**2. ê³µê°„ì  ë””ì»¤í”Œë§ (Spatial Decoupling)**
- ë°œì‹ ìžê°€ ìˆ˜ì‹ ìžì˜ ìœ„ì¹˜(IP, í¬íŠ¸)ë¥¼ ì•Œ í•„ìš” ì—†ìŒ
- ìˆ˜ì‹ ìžì˜ ê°œìˆ˜ë¥¼ ë°œì‹ ìžê°€ ì•Œ í•„ìš” ì—†ìŒ
- ìˆ˜ì‹ ìžë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì œê±°í•´ë„ ë°œì‹ ìž ì½”ë“œ ë³€ê²½ ë¶ˆí•„ìš”

**3. ë™ê¸°í™” ë””ì»¤í”Œë§ (Synchronization Decoupling)**
- ë°œì‹ ìžê°€ ìˆ˜ì‹ ìžì˜ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ì§€ ì•ŠìŒ
- ë°œì‹ ìžëŠ” ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê³  ì¦‰ì‹œ ë‹¤ë¥¸ ìž‘ì—… ìˆ˜í–‰ ê°€ëŠ¥
- ì‹œìŠ¤í…œ ì „ì²´ì˜ ì²˜ë¦¬ëŸ‰(throughput) í–¥ìƒ

### ðŸ“¦ ë©”ì‹œì§€ íìž‰ì˜ í•µì‹¬ ê°œë…

#### 1. **ë¹„ë™ê¸° í†µì‹  (Asynchronous Communication)**

**ë™ê¸° í†µì‹ ì˜ ìž‘ë™ ë°©ì‹**
```
í´ë¼ì´ì–¸íŠ¸ â†’ ìš”ì²­ ì „ì†¡ â†’ [ëŒ€ê¸°...] â†’ ì„œë²„ ì²˜ë¦¬ â†’ ì‘ë‹µ ìˆ˜ì‹  â†’ ë‹¤ìŒ ìž‘ì—…
```
- ì „í™” í†µí™”ì™€ ê°™ìŒ: ìƒëŒ€ë°©ì´ ë°›ì„ ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼ í•¨
- **ë¬¸ì œì **:
  - ì‘ë‹µì´ ì˜¬ ë•Œê¹Œì§€ ë‹¤ë¥¸ ìž‘ì—…ì„ í•  ìˆ˜ ì—†ìŒ (blocking)
  - ì„œë²„ê°€ ëŠë¦¬ë©´ í´ë¼ì´ì–¸íŠ¸ë„ ëŠë ¤ì§
  - ì„œë²„ê°€ ë‹¤ìš´ë˜ë©´ í´ë¼ì´ì–¸íŠ¸ë„ ë©ˆì¶¤
  - ë™ì‹œì— ë§Žì€ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ì–´ë ¤ì›€

**ë¹„ë™ê¸° í†µì‹ ì˜ ìž‘ë™ ë°©ì‹**
```
í´ë¼ì´ì–¸íŠ¸ â†’ ë©”ì‹œì§€ ì „ì†¡ â†’ ì¦‰ì‹œ ë‹¤ìŒ ìž‘ì—… â†’ ... â†’ (ë‚˜ì¤‘ì—) ì‘ë‹µ ì²˜ë¦¬
```
- ì´ë©”ì¼ê³¼ ê°™ìŒ: ë³´ë‚´ê³  ë°”ë¡œ ë‹¤ë¥¸ ì¼ì„ í•  ìˆ˜ ìžˆìŒ
- **ìž¥ì **:
  - ë©”ì‹œì§€ë¥¼ ë³´ë‚¸ í›„ ì¦‰ì‹œ ë‹¤ë¥¸ ìž‘ì—… ê°€ëŠ¥ (non-blocking)
  - ì„œë²„ì˜ ì²˜ë¦¬ ì†ë„ì™€ ë¬´ê´€í•˜ê²Œ ë™ìž‘
  - ì„œë²„ê°€ ì¼ì‹œì ìœ¼ë¡œ ë‹¤ìš´ë˜ì–´ë„ ë©”ì‹œì§€ëŠ” ë¸Œë¡œì»¤ì— ë³´ê´€
  - ëŒ€ëŸ‰ì˜ ìš”ì²­ì„ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬ ê°€ëŠ¥

**ì‹¤ì œ ì˜ˆì‹œ: ì£¼ë¬¸ ì²˜ë¦¬ ì‹œìŠ¤í…œ**
```
ë™ê¸° ë°©ì‹:
ì£¼ë¬¸ ì ‘ìˆ˜(3ì´ˆ) â†’ ìž¬ê³  í™•ì¸(2ì´ˆ) â†’ ê²°ì œ ì²˜ë¦¬(5ì´ˆ) â†’ ë°°ì†¡ ë“±ë¡(3ì´ˆ) = ì´ 13ì´ˆ ì†Œìš”
ê° ë‹¨ê³„ê°€ ëë‚  ë•Œê¹Œì§€ ëŒ€ê¸°í•´ì•¼ í•¨

ë¹„ë™ê¸° ë°©ì‹:
ì£¼ë¬¸ ì ‘ìˆ˜(3ì´ˆ) â†’ ë©”ì‹œì§€ íì— ì „ë‹¬ â†’ ì¦‰ì‹œ ë‹¤ìŒ ì£¼ë¬¸ ì ‘ìˆ˜ ê°€ëŠ¥
ë°±ê·¸ë¼ìš´ë“œì—ì„œ ìž¬ê³ , ê²°ì œ, ë°°ì†¡ì´ ë…ë¦½ì ìœ¼ë¡œ ì²˜ë¦¬ë¨
ì‚¬ìš©ìžëŠ” 3ì´ˆ ë§Œì— ì‘ë‹µ ë°›ìŒ
```

#### 2. **ë©”ì‹œì§€ ì§€ì†ì„± (Message Persistence)**

ë©”ì‹œì§€ë¥¼ ì–´ë””ì— ì €ìž¥í•˜ëŠëƒì— ë”°ë¼ ì„±ëŠ¥ê³¼ ì•ˆì •ì„±ì´ ë‹¬ë¼ì§‘ë‹ˆë‹¤.

**ë©”ëª¨ë¦¬ ê¸°ë°˜ (In-Memory)**
```
[ë©”ì‹œì§€] â†’ RAMì— ì €ìž¥ â†’ ë¹ ë¥¸ ì½ê¸°/ì“°ê¸° â†’ ì „ì› êº¼ì§€ë©´ ì‚¬ë¼ì§
```
- **ìž¥ì **:
  - ë§¤ìš° ë¹ ë¥¸ ì²˜ë¦¬ ì†ë„ (ë‚˜ë…¸ì´ˆ ë‹¨ìœ„)
  - ë””ìŠ¤í¬ I/O ì—†ì–´ì„œ ì‹œìŠ¤í…œ ë¶€í•˜ ì ìŒ
  - ì‹¤ì‹œê°„ ì²˜ë¦¬ì— ìœ ë¦¬
  
- **ë‹¨ì **:
  - ë¸Œë¡œì»¤ ìž¬ì‹œìž‘ ì‹œ ëª¨ë“  ë©”ì‹œì§€ ì†ì‹¤
  - ì „ì› ìž¥ì•  ì‹œ ë°ì´í„° ìœ ì‹¤
  - RAM ìš©ëŸ‰ì— ì œí•œë¨
  
- **ì í•©í•œ ì‚¬ìš© ì‚¬ë¡€**:
  - ì‹¤ì‹œê°„ ì„¼ì„œ ë°ì´í„° (ìµœì‹  ê°’ë§Œ ì¤‘ìš”)
  - ë¡œê·¸ ìˆ˜ì§‘ (ì¼ë¶€ ì†ì‹¤ í—ˆìš©)
  - ì‹¤ì‹œê°„ ê²Œìž„ ìƒíƒœ ë™ê¸°í™”

**ë””ìŠ¤í¬ ê¸°ë°˜ (Persistent)**
```
[ë©”ì‹œì§€] â†’ ë¨¼ì € ë””ìŠ¤í¬ì— ì €ìž¥ â†’ ë©”ëª¨ë¦¬ì— ìºì‹œ â†’ ëŠë¦° ì“°ê¸°, ì•ˆì „í•¨
```
- **ìž¥ì **:
  - ë¸Œë¡œì»¤ ìž¬ì‹œìž‘ í›„ì—ë„ ë©”ì‹œì§€ ë³´ì¡´
  - ì „ì› ìž¥ì• ì—ë„ ì•ˆì „
  - ëŒ€ìš©ëŸ‰ ë©”ì‹œì§€ ì €ìž¥ ê°€ëŠ¥
  
- **ë‹¨ì **:
  - ë””ìŠ¤í¬ I/Oë¡œ ì¸í•œ ì„±ëŠ¥ ì €í•˜ (ë°€ë¦¬ì´ˆ ë‹¨ìœ„)
  - ë””ìŠ¤í¬ ê³µê°„ ê´€ë¦¬ í•„ìš”
  - ì“°ê¸° ìž‘ì—…ì´ ìƒëŒ€ì ìœ¼ë¡œ ëŠë¦¼
  
- **ì í•©í•œ ì‚¬ìš© ì‚¬ë¡€**:
  - ê¸ˆìœµ ê±°ëž˜ (ì ˆëŒ€ ì†ì‹¤ ë¶ˆê°€)
  - ì£¼ë¬¸ ì²˜ë¦¬ (ì¤‘ìš”í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë°ì´í„°)
  - ì´ë²¤íŠ¸ ì†Œì‹± (ëª¨ë“  ì´ë²¤íŠ¸ ê¸°ë¡ í•„ìš”)

**í•˜ì´ë¸Œë¦¬ë“œ ë°©ì‹**
```
[ë©”ì‹œì§€] â†’ RAMì— ë¨¼ì € ì €ìž¥ â†’ ë¹„ë™ê¸°ë¡œ ë””ìŠ¤í¬ì— ì“°ê¸° â†’ ì„±ëŠ¥ê³¼ ì•ˆì •ì„± ê· í˜•
```
- ì“°ê¸°ëŠ” ë¹ ë¥´ê²Œ ë©”ëª¨ë¦¬ì—
- ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë””ìŠ¤í¬ì— ì €ìž¥
- ì¼ì • ì‹œê°„ë§ˆë‹¤ ë˜ëŠ” ì¼ì • ê°œìˆ˜ë§ˆë‹¤ í”ŒëŸ¬ì‹œ(flush)
- **íŠ¸ë ˆì´ë“œì˜¤í”„**: ìž¥ì•  ì‹œ ë§ˆì§€ë§‰ ëª‡ ì´ˆì˜ ë©”ì‹œì§€ë§Œ ì†ì‹¤ ê°€ëŠ¥

#### 3. **í™•ìž¥ì„± (Scalability)**

ì‹œìŠ¤í…œ ë¶€í•˜ê°€ ì¦ê°€í•  ë•Œ ëŒ€ì²˜í•˜ëŠ” ë‘ ê°€ì§€ ë°©ë²•:

**ìˆ˜í‰ í™•ìž¥ (Scale-Out) - ë¸Œë¡œì»¤ í´ëŸ¬ìŠ¤í„°ë§**
```
ë‹¨ì¼ ë¸Œë¡œì»¤:
[ëª¨ë“  íŠ¸ëž˜í”½] â†’ [Broker] â†’ ë¶€í•˜ ì§‘ì¤‘

í´ëŸ¬ìŠ¤í„°ë§:
[íŠ¸ëž˜í”½ ë¶„ì‚°] â†’ [Broker 1] â†’ [Broker 2] â†’ [Broker 3] â†’ ë¶€í•˜ ë¶„ì‚°
```
- **ìž‘ë™ ì›ë¦¬**:
  - ì—¬ëŸ¬ ë¸Œë¡œì»¤ ì„œë²„ë¥¼ ì—°ê²°í•˜ì—¬ í•˜ë‚˜ì²˜ëŸ¼ ë™ìž‘
  - ë©”ì‹œì§€ì™€ íë¥¼ ì—¬ëŸ¬ ë…¸ë“œì— ë¶„ì‚°
  - í•˜ë‚˜ì˜ ë…¸ë“œê°€ ì£½ì–´ë„ ë‹¤ë¥¸ ë…¸ë“œê°€ ì„œë¹„ìŠ¤ ê³„ì†
  
- **ìž¥ì **:
  - ë¬´í•œëŒ€ë¡œ í™•ìž¥ ê°€ëŠ¥ (ë…¸ë“œë¥¼ ê³„ì† ì¶”ê°€)
  - ê³ ê°€ìš©ì„± (High Availability) í™•ë³´
  - ìž¥ì•  ëŒ€ì‘ ëŠ¥ë ¥ í–¥ìƒ
  - ë¹„ìš© íš¨ìœ¨ì  (ì¼ë°˜ ì„œë²„ ì—¬ëŸ¬ ëŒ€ ì‚¬ìš©)
  
- **ë‹¨ì **:
  - ë„¤íŠ¸ì›Œí¬ í†µì‹  ì˜¤ë²„í—¤ë“œ
  - ë…¸ë“œ ê°„ ë™ê¸°í™” ë³µìž¡ë„
  - ê´€ë¦¬ í¬ì¸íŠ¸ ì¦ê°€

**ìˆ˜ì§ í™•ìž¥ (Scale-Up) - ë‹¨ì¼ ì„œë²„ ì„±ëŠ¥ í–¥ìƒ**
```
ê¸°ì¡´: [4 Core, 8GB RAM] â†’ ì œí•œëœ ì„±ëŠ¥
ì—…ê·¸ë ˆì´ë“œ: [32 Core, 128GB RAM] â†’ ì„±ëŠ¥ í–¥ìƒ
```
- **ìž‘ë™ ì›ë¦¬**:
  - ë” ê°•ë ¥í•œ CPUë¡œ êµì²´
  - RAM ìš©ëŸ‰ ì¦ì„¤
  - ë” ë¹ ë¥¸ SSD ì„¤ì¹˜
  - ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­ ì¦ê°€
  
- **ìž¥ì **:
  - êµ¬í˜„ì´ ê°„ë‹¨ (í•˜ë“œì›¨ì–´ë§Œ ì—…ê·¸ë ˆì´ë“œ)
  - ë„¤íŠ¸ì›Œí¬ ì˜¤ë²„í—¤ë“œ ì—†ìŒ
  - ê´€ë¦¬ í¬ì¸íŠ¸ê°€ í•˜ë‚˜
  
- **ë‹¨ì **:
  - í•˜ë“œì›¨ì–´ í•œê³„ ì¡´ìž¬ (ë¬¼ë¦¬ì  í•œê³„)
  - ë¹„ìš©ì´ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì¦ê°€
  - ë‹¨ì¼ ìž¥ì• ì  (Single Point of Failure)
  - ì—…ê·¸ë ˆì´ë“œ ì‹œ ì„œë¹„ìŠ¤ ì¤‘ë‹¨ í•„ìš”

**ì‹¤ì œ ì‹œë‚˜ë¦¬ì˜¤**
```
ì´ˆê¸° ë‹¨ê³„ (ì¼ì¼ ì‚¬ìš©ìž 1ì²œëª…):
â†’ ë‹¨ì¼ ë¸Œë¡œì»¤ë¡œ ì¶©ë¶„, ìˆ˜ì§ í™•ìž¥ ê³ ë ¤

ì„±ìž¥ ë‹¨ê³„ (ì¼ì¼ ì‚¬ìš©ìž 10ë§Œëª…):
â†’ 3-5ê°œ ë…¸ë“œ í´ëŸ¬ìŠ¤í„°ë¡œ ìˆ˜í‰ í™•ìž¥

ëŒ€ê·œëª¨ ë‹¨ê³„ (ì¼ì¼ ì‚¬ìš©ìž 100ë§Œëª…):
â†’ 10ê°œ ì´ìƒ ë…¸ë“œ í´ëŸ¬ìŠ¤í„° + ê° ë…¸ë“œ ìˆ˜ì§ í™•ìž¥
```

### í”„ë¡œí† ì½œì˜ ì¤‘ìš”ì„±

í”„ë¡œí† ì½œì€ **ì»´í“¨í„° ê°„ í†µì‹ ì˜ ì–¸ì–´**ìž…ë‹ˆë‹¤:

#### ðŸ“‹ í”„ë¡œí† ì½œì˜ 3ê°€ì§€ í•µì‹¬ ìš”ì†Œ
1. **êµ¬ë¬¸ (Syntax)**: ë©”ì‹œì§€ í˜•ì‹ê³¼ êµ¬ì¡°
2. **ì˜ë¯¸ë¡  (Semantics)**: ë©”ì‹œì§€ì˜ ì˜ë¯¸ì™€ í•´ì„
3. **íƒ€ì´ë° (Timing)**: ì–¸ì œ, ì–¼ë§ˆë‚˜ ë¹ ë¥´ê²Œ ì „ì†¡í• ì§€

#### í‘œì¤€í™”ì˜ ì¤‘ìš”ì„±
- **ìƒí˜¸ ìš´ìš©ì„±**: ì„œë¡œ ë‹¤ë¥¸ ì‹œìŠ¤í…œ ê°„ í†µì‹  ê°€ëŠ¥
- **í™•ìž¥ì„±**: ìƒˆë¡œìš´ ì‹œìŠ¤í…œ ì¶”ê°€ê°€ ì‰¬ì›€
- **ìœ ì§€ë³´ìˆ˜ì„±**: í‘œì¤€ì„ ë”°ë¥´ë¯€ë¡œ ê´€ë¦¬ê°€ ìš©ì´

## MQTT ìƒì„¸ ë¶„ì„

### ðŸ“– MQTTëž€ ë¬´ì—‡ì¸ê°€?

**MQTT (Message Queuing Telemetry Transport)**ëŠ” **IoT í™˜ê²½ì— íŠ¹í™”ëœ ê²½ëŸ‰ ë©”ì‹œì§€ ì „ì†¡ í”„ë¡œí† ì½œ**ìž…ë‹ˆë‹¤.

#### MQTTì˜ ì„¤ê³„ ì² í•™
- **ê²½ëŸ‰ì„±**: ìµœì†Œí•œì˜ ì˜¤ë²„í—¤ë“œë¡œ ì œí•œëœ ë¦¬ì†ŒìŠ¤ í™˜ê²½ì—ì„œ ë™ìž‘
- **ì‹¤ì‹œê°„ì„±**: ì¦‰ì‹œ ë©”ì‹œì§€ ì „ë‹¬ë¡œ ë¹ ë¥¸ ì‘ë‹µ ë³´ìž¥
- **ì €ì „ë ¥**: ë°°í„°ë¦¬ ìˆ˜ëª…ì´ ì¤‘ìš”í•œ IoT ê¸°ê¸°ì— ìµœì í™”
- **ì•ˆì •ì„±**: ë¶ˆì•ˆì •í•œ ë„¤íŠ¸ì›Œí¬ í™˜ê²½ì—ì„œë„ ì‹ ë¢°ì„± ìžˆëŠ” í†µì‹ 

#### Telemetryì˜ ì˜ë¯¸
**Telemetry**ëŠ” **ì›ê²© ì¸¡ì •**ì„ ì˜ë¯¸í•˜ëŠ” ìš©ì–´ë¡œ:
- **Tele**: ë©€ë¦¬ (ê·¸ë¦¬ìŠ¤ì–´)
- **Metry**: ì¸¡ì • (ê·¸ë¦¬ìŠ¤ì–´)
- **ëª©ì **: ë©€ë¦¬ ë–¨ì–´ì§„ ê³³ì—ì„œ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ê³  ì „ì†¡
- **IoT í™œìš©**: ì„¼ì„œ ë°ì´í„° ìˆ˜ì§‘ ë° ì „ì†¡ì— ìµœì í™”

### MQTT ë²„ì „ë³„ íŠ¹ì§•

| ë²„ì „ | ë°œí‘œë…„ë„ | ì£¼ìš” íŠ¹ì§• | ì‚¬ìš© í˜„í™© |
|------|----------|-----------|-----------|
| **MQTT 3.1** | 2010ë…„ | ì´ˆê¸° ë²„ì „, ê¸°ë³¸ ê¸°ëŠ¥ | êµ¬í˜• ì‹œìŠ¤í…œ |
| **MQTT 3.1.1** | 2014ë…„ | OASIS í‘œì¤€, ì•ˆì •ì„± í–¥ìƒ | **ê°€ìž¥ ë„ë¦¬ ì‚¬ìš©** |
| **MQTT 5.0** | 2019ë…„ | í–¥ìƒëœ ê¸°ëŠ¥, ì„±ëŠ¥ ê°œì„  | ì‹ ê·œ í”„ë¡œì íŠ¸ |

#### MQTT 5.0ì˜ ì£¼ìš” ê°œì„ ì‚¬í•­
- **ì„¸ì…˜ ë§Œë£Œ**: í´ë¼ì´ì–¸íŠ¸ ì„¸ì…˜ ìžë™ ë§Œë£Œ
- **ì„œë²„ ìž¬ì‹œìž‘ ì•Œë¦¼**: ë¸Œë¡œì»¤ ìž¬ì‹œìž‘ ì‹œ í´ë¼ì´ì–¸íŠ¸ì— ì•Œë¦¼
- **ì‚¬ìš©ìž ì†ì„±**: ì»¤ìŠ¤í…€ ë©”íƒ€ë°ì´í„° ì§€ì›
- **ì‘ë‹µ ì£¼ì œ**: ìš”ì²­-ì‘ë‹µ íŒ¨í„´ ì§€ì›
- **ê³µìœ  êµ¬ë…**: ë¡œë“œ ë°¸ëŸ°ì‹± ì§€ì›

### MQTTì˜ í•µì‹¬ êµ¬ì„± ìš”ì†Œ

#### 1. Broker (ë¸Œë¡œì»¤)
- ë©”ì‹œì§€ì˜ ì¤‘ì•™ í—ˆë¸Œ ì—­í• 
- ëª¨ë“  ë©”ì‹œì§€ê°€ ê±°ì³ê°€ëŠ” ì¤‘ê°„ ì§€ì 
- ë§ˆì¹˜ ìš°ì²´êµ­ê³¼ ê°™ì€ ì—­í• 
- í´ë¼ì´ì–¸íŠ¸ë“¤ì´ ì—°ê²°í•˜ëŠ” ì„œë²„

#### 2. Publisher (ë°œí–‰ìž)
- ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” ìª½
- ì„¼ì„œ, ì•±, ê¸°ê¸° ë“±ì´ ë  ìˆ˜ ìžˆìŒ
- íŠ¹ì • ì£¼ì œ(topic)ë¡œ ë©”ì‹œì§€ë¥¼ ë°œí–‰

#### 3. Subscriber (êµ¬ë…ìž)
- ë©”ì‹œì§€ë¥¼ ë°›ëŠ” ìª½
- íŠ¹ì • ì£¼ì œì˜ ë©”ì‹œì§€ë¥¼ êµ¬ë…í•˜ì—¬ ë°›ìŒ
- ì—¬ëŸ¬ ì£¼ì œë¥¼ ë™ì‹œì— êµ¬ë… ê°€ëŠ¥

#### 4. Topic (í† í”½)
- ë©”ì‹œì§€ì˜ ì£¼ì œ/ì¹´í…Œê³ ë¦¬
- ê³„ì¸µ êµ¬ì¡°ë¡œ êµ¬ì„± (ì˜ˆ: `home/livingroom/temperature`)
- ì™€ì¼ë“œì¹´ë“œ ì‚¬ìš© ê°€ëŠ¥ (`home/+/temperature`)

### QoS (Quality of Service) ë ˆë²¨

MQTTëŠ” ë©”ì‹œì§€ ì „ë‹¬ì˜ ì‹ ë¢°ì„±ì„ 3ë‹¨ê³„ë¡œ ë‚˜ëˆ„ì–´ ì œê³µí•©ë‹ˆë‹¤. ê° ë ˆë²¨ì€ ì„±ëŠ¥ê³¼ ì‹ ë¢°ì„± ì‚¬ì´ì˜ íŠ¸ë ˆì´ë“œì˜¤í”„ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

#### QoS 0 - ìµœëŒ€ í•œ ë²ˆ ì „ë‹¬ (At most once) - "Fire and Forget"

**ìž‘ë™ ë°©ì‹**
```
Publisher â†’ [PUBLISH ë©”ì‹œì§€] â†’ Broker â†’ [PUBLISH ë©”ì‹œì§€] â†’ Subscriber
           (í™•ì¸ ì‘ë‹µ ì—†ìŒ)           (í™•ì¸ ì‘ë‹µ ì—†ìŒ)
```

**ìƒì„¸ ë™ìž‘ ê³¼ì •**
1. Publisherê°€ ë©”ì‹œì§€ë¥¼ ë¸Œë¡œì»¤ì— ì „ì†¡
2. ë¸Œë¡œì»¤ëŠ” ì¦‰ì‹œ Subscriberì—ê²Œ ì „ì†¡
3. **ì–´ë–¤ í™•ì¸(ACK)ë„ ì—†ìŒ**
4. ë©”ì‹œì§€ ì „ì†¡ í›„ PublisherëŠ” ë°”ë¡œ ë‹¤ìŒ ìž‘ì—… ì§„í–‰

**íŠ¹ì§•**
- TCP/IPì˜ ê¸°ë³¸ ì „ì†¡ë§Œ ì˜ì¡´ (MQTT ë ˆë²¨ì˜ ë³´ìž¥ ì—†ìŒ)
- ë„¤íŠ¸ì›Œí¬ ìž¥ì•  ì‹œ ë©”ì‹œì§€ ì†ì‹¤ ê°€ëŠ¥
- ë¸Œë¡œì»¤ë‚˜ Subscriberê°€ ë‹¤ìš´ë˜ë©´ ë©”ì‹œì§€ ìœ ì‹¤
- ë©”ì‹œì§€ ì €ìž¥í•˜ì§€ ì•ŠìŒ (ë©”ëª¨ë¦¬ ì‚¬ìš© ìµœì†Œ)

**ìž¥ì **
- **ìµœê³ ì˜ ì„±ëŠ¥**: ì˜¤ë²„í—¤ë“œê°€ ê±°ì˜ ì—†ìŒ
- **ìµœì†Œ ëŒ€ì—­í­ ì‚¬ìš©**: í™•ì¸ íŒ¨í‚·ì´ ì—†ì–´ ë„¤íŠ¸ì›Œí¬ íŠ¸ëž˜í”½ ìµœì†Œ
- **ìµœì†Œ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©**: ë©”ëª¨ë¦¬ì™€ CPU ì‚¬ìš©ëŸ‰ ìµœì†Œ

**ë‹¨ì **
- ë©”ì‹œì§€ ì†ì‹¤ ê°€ëŠ¥
- ì „ë‹¬ ì—¬ë¶€ë¥¼ ì•Œ ìˆ˜ ì—†ìŒ
- ì‹ ë¢°ì„±ì´ í•„ìš”í•œ ê²½ìš° ë¶€ì í•©

**ì í•©í•œ ì‚¬ìš© ì‚¬ë¡€**
```
1. ì‹¤ì‹œê°„ ì„¼ì„œ ë°ì´í„°
   - ì˜¨ë„: 23.5Â°C â†’ 23.6Â°C (í•˜ë‚˜ ìœ ì‹¤ë˜ì–´ë„ ë‹¤ìŒ ê°’ì´ ê³§ ì˜´)
   - GPS ìœ„ì¹˜: í˜„ìž¬ ìœ„ì¹˜ê°€ ì¤‘ìš”, ê³¼ê±° ìœ„ì¹˜ëŠ” ëœ ì¤‘ìš”
   
2. ì‹¤ì‹œê°„ ê²Œìž„
   - í”Œë ˆì´ì–´ ìœ„ì¹˜ ì—…ë°ì´íŠ¸ (0.1ì´ˆë§ˆë‹¤ ì „ì†¡)
   - í•˜ë‚˜ ìœ ì‹¤ë˜ì–´ë„ ë‹¤ìŒ ìœ„ì¹˜ ì •ë³´ê°€ ê³§ ë„ì°©
   
3. ë¡œê·¸ ìˆ˜ì§‘
   - ì¼ë¶€ ë¡œê·¸ ìœ ì‹¤ í—ˆìš© ê°€ëŠ¥í•œ ê²½ìš°
   - ëŒ€ëŸ‰ì˜ ë¡œê·¸ë¥¼ ë¹ ë¥´ê²Œ ì „ì†¡í•´ì•¼ í•˜ëŠ” ê²½ìš°
```

#### QoS 1 - ìµœì†Œ í•œ ë²ˆ ì „ë‹¬ (At least once)

**ìž‘ë™ ë°©ì‹**
```
Publisher â†’ [PUBLISH, msg_id=123] â†’ Broker
           â† [PUBACK, msg_id=123] â†
           
Broker â†’ [PUBLISH, msg_id=123] â†’ Subscriber
       â† [PUBACK, msg_id=123] â†
```

**ìƒì„¸ ë™ìž‘ ê³¼ì •**
1. Publisherê°€ ë©”ì‹œì§€ì™€ **ë©”ì‹œì§€ ID**ë¥¼ ë¸Œë¡œì»¤ì— ì „ì†¡
2. PublisherëŠ” ë©”ì‹œì§€ë¥¼ ë©”ëª¨ë¦¬ì— ìž„ì‹œ ì €ìž¥
3. ë¸Œë¡œì»¤ëŠ” PUBACK(Publish Acknowledgement)ìœ¼ë¡œ ì‘ë‹µ
4. PublisherëŠ” PUBACKì„ ë°›ìœ¼ë©´ ì €ìž¥ëœ ë©”ì‹œì§€ ì‚­ì œ
5. **PUBACKì„ ëª» ë°›ìœ¼ë©´** ì¼ì • ì‹œê°„ í›„ ìž¬ì „ì†¡
6. ë¸Œë¡œì»¤ â†’ Subscriber ê°„ì—ë„ ë™ì¼í•œ ê³¼ì • ë°˜ë³µ

**ë©”ì‹œì§€ ì¤‘ë³µ ë°œìƒ ì‹œë‚˜ë¦¬ì˜¤**
```
ì‹œë‚˜ë¦¬ì˜¤ 1: ACK ì†ì‹¤
Publisher â†’ [PUBLISH, msg_id=123] â†’ Broker (ë©”ì‹œì§€ ìž˜ ë°›ìŒ)
           â† [PUBACK] ì†ì‹¤ë¨! â† (ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ)
Publisher â†’ [PUBLISH, msg_id=123] â†’ Broker (ìž¬ì „ì†¡, ì¤‘ë³µ!)

ì‹œë‚˜ë¦¬ì˜¤ 2: íƒ€ìž„ì•„ì›ƒ
Publisher â†’ [PUBLISH] â†’ Broker (ì²˜ë¦¬ ì¤‘...)
Publisher: "ì‘ë‹µì´ ë„ˆë¬´ ëŠ¦ë„¤? ìž¬ì „ì†¡!" â†’ Broker (ì¤‘ë³µ!)
           â† [PUBACK] â† (ë’¤ëŠ¦ê²Œ ë„ì°©)
```

**íŠ¹ì§•**
- ë©”ì‹œì§€ê°€ **ìµœì†Œ 1ë²ˆì€ ë°˜ë“œì‹œ** ì „ë‹¬ë¨
- ê°™ì€ ë©”ì‹œì§€ê°€ **ì—¬ëŸ¬ ë²ˆ** ì „ë‹¬ë  ìˆ˜ ìžˆìŒ (ì¤‘ë³µ)
- ë°œì‹ ìžê°€ í™•ì¸ì„ ë°›ì„ ë•Œê¹Œì§€ ë©”ì‹œì§€ ë³´ê´€
- ìž¬ì „ì†¡ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ ì‹ ë¢°ì„± í™•ë³´

**ìž¥ì **
- ë©”ì‹œì§€ ì†ì‹¤ ì—†ìŒ
- ì„±ëŠ¥ê³¼ ì‹ ë¢°ì„±ì˜ ì ì ˆí•œ ê· í˜•
- ëŒ€ë¶€ë¶„ì˜ ìƒí™©ì—ì„œ ì¶©ë¶„í•œ ì‹ ë¢°ì„±

**ë‹¨ì **
- ë©”ì‹œì§€ ì¤‘ë³µ ê°€ëŠ¥
- ìˆ˜ì‹ ìžê°€ ì¤‘ë³µ ì²˜ë¦¬ ë¡œì§ í•„ìš” (ë©±ë“±ì„±)
- QoS 0ë³´ë‹¤ ì˜¤ë²„í—¤ë“œ ì¦ê°€

**ì í•©í•œ ì‚¬ìš© ì‚¬ë¡€**
```
1. ì•Œë¦¼ ì‹œìŠ¤í…œ
   - í‘¸ì‹œ ì•Œë¦¼ (ì¤‘ë³µ ì „ì†¡ë˜ì–´ë„ ì‚¬ìš©ìžê°€ ë¬´ì‹œ ê°€ëŠ¥)
   - ì´ë©”ì¼ ì•Œë¦¼ (ì¤‘ë³µì€ ê´œì°®ì§€ë§Œ ëˆ„ë½ì€ ì•ˆ ë¨)

2. ë¡œê¹… ì‹œìŠ¤í…œ
   - ì¤‘ìš” ì´ë²¤íŠ¸ ë¡œê·¸ (ì¤‘ë³µì€ í•„í„°ë§ ê°€ëŠ¥, ëˆ„ë½ì€ ì•ˆ ë¨)
   - ê°ì‚¬ ë¡œê·¸ (Audit Log)

3. ìƒíƒœ ì—…ë°ì´íŠ¸
   - ê¸°ê¸° ìƒíƒœ ë³€ê²½ (ON â†’ OFF)
   - ì—¬ëŸ¬ ë²ˆ ì „ë‹¬ë˜ì–´ë„ ìµœì¢… ìƒíƒœë§Œ ì¤‘ìš”

4. ë°ì´í„° ìˆ˜ì§‘
   - ë¶„ì„ìš© ë°ì´í„° (ì¤‘ë³µì€ ë‚˜ì¤‘ì— ì œê±° ê°€ëŠ¥)
   - ë©”íŠ¸ë¦­ ìˆ˜ì§‘
```

**ì¤‘ë³µ ì²˜ë¦¬ ë°©ë²•**
```javascript
// ë©±ë“±ì„±(Idempotency) êµ¬í˜„ ì˜ˆì‹œ
const processedMessages = new Set();

function handleMessage(message) {
  if (processedMessages.has(message.id)) {
    console.log('ì¤‘ë³µ ë©”ì‹œì§€ ë¬´ì‹œ:', message.id);
    return; // ì´ë¯¸ ì²˜ë¦¬í•œ ë©”ì‹œì§€ëŠ” ë¬´ì‹œ
  }
  
  processedMessages.add(message.id);
  // ì‹¤ì œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬
  processBusinessLogic(message);
}
```

#### QoS 2 - ì •í™•ížˆ í•œ ë²ˆ ì „ë‹¬ (Exactly once)

**ìž‘ë™ ë°©ì‹ - 4ë‹¨ê³„ í•¸ë“œì…°ì´í¬**
```
Publisher â†’ [PUBLISH, msg_id=123] â†’ Broker
           â† [PUBREC, msg_id=123] â† (ë©”ì‹œì§€ ìˆ˜ì‹  í™•ì¸)
           â†’ [PUBREL, msg_id=123] â†’ (ë©”ì‹œì§€ í•´ì œ ìš”ì²­)
           â† [PUBCOMP, msg_id=123] â† (ì™„ë£Œ)

Broker â†’ [PUBLISH, msg_id=123] â†’ Subscriber
       â† [PUBREC, msg_id=123] â†
       â†’ [PUBREL, msg_id=123] â†’
       â† [PUBCOMP, msg_id=123] â†
```

**ê° ë‹¨ê³„ì˜ ì˜ë¯¸**
1. **PUBLISH**: "ë©”ì‹œì§€ë¥¼ ë³´ëƒˆì–´"
2. **PUBREC (Publish Received)**: "ë©”ì‹œì§€ ë°›ì•˜ì–´. ë³´ê´€ ì¤‘ì´ì•¼"
3. **PUBREL (Publish Release)**: "ì´ì œ ì´ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•´ë„ ë¼"
4. **PUBCOMP (Publish Complete)**: "ì²˜ë¦¬ ì™„ë£Œí–ˆì–´. ì´ì œ ì‚­ì œí•´ë„ ë¼"

**ì¤‘ë³µ ë°©ì§€ ë©”ì»¤ë‹ˆì¦˜**
```
ìƒí™© 1: PUBREC ì†ì‹¤
Publisher â†’ [PUBLISH, msg_id=123] â†’ Broker (ë°›ìŒ, ì €ìž¥)
           â† [PUBREC] ì†ì‹¤! â†
Publisher â†’ [PUBLISH, msg_id=123] â†’ Broker (ìž¬ì „ì†¡)
Broker: "ì´ IDëŠ” ì´ë¯¸ ë°›ì•˜ì–´!" â†’ [PUBREC] â†’ (ì¤‘ë³µ ì°¨ë‹¨)

ìƒí™© 2: PUBREL ì†ì‹¤
Publisher â†’ [PUBREL, msg_id=123] â†’ Broker (ë©”ì‹œì§€ í•´ì œ ì‹¤íŒ¨)
           â† [PUBCOMP] ì†ì‹¤! â†
Publisher â†’ [PUBREL, msg_id=123] â†’ Broker (ìž¬ì „ì†¡)
Broker: "ì´ë¯¸ í•´ì œí–ˆì–´!" â†’ [PUBCOMP] â†’ (ì¤‘ë³µ ì²˜ë¦¬ ë°©ì§€)
```

**ìƒíƒœ ê´€ë¦¬**
```
Publisherì˜ ìƒíƒœ:
[ì „ì†¡ ì „] â†’ [PUBLISH ì „ì†¡] â†’ [PUBREC ëŒ€ê¸°] â†’ [PUBREL ì „ì†¡] â†’ [PUBCOMP ëŒ€ê¸°] â†’ [ì™„ë£Œ]

Brokerì˜ ìƒíƒœ:
[ëŒ€ê¸°] â†’ [ë©”ì‹œì§€ ìˆ˜ì‹ ] â†’ [ë©”ì‹œì§€ ì €ìž¥] â†’ [í•´ì œ ëŒ€ê¸°] â†’ [ì²˜ë¦¬] â†’ [ì™„ë£Œ]

ê° ë‹¨ê³„ë§ˆë‹¤ ìƒíƒœë¥¼ ë””ìŠ¤í¬ì— ì €ìž¥í•˜ì—¬ ìž¥ì•  ì‹œ ë³µêµ¬ ê°€ëŠ¥
```

**íŠ¹ì§•**
- ë©”ì‹œì§€ê°€ **ì •í™•ížˆ 1ë²ˆë§Œ** ì „ë‹¬ë¨ (ì¤‘ë³µ ì—†ìŒ, ì†ì‹¤ ì—†ìŒ)
- 4ë‹¨ê³„ í•¸ë“œì…°ì´í¬ë¡œ ì™„ë²½í•œ ì‹ ë¢°ì„± í™•ë³´
- ê° ë‹¨ê³„ë§ˆë‹¤ ìƒíƒœ ì €ìž¥ (ë””ìŠ¤í¬ I/O ì¦ê°€)
- ê°€ìž¥ ë¬´ê±°ìš´ ì˜¤ë²„í—¤ë“œ

**ìž¥ì **
- ì™„ë²½í•œ ë©”ì‹œì§€ ì‹ ë¢°ì„±
- ì¤‘ë³µ ì²˜ë¦¬ ë¡œì§ ë¶ˆí•„ìš”
- ê¸ˆìœµ, ê²°ì œ ë“± ì¤‘ìš”í•œ ë°ì´í„°ì— ì í•©

**ë‹¨ì **
- ê°€ìž¥ ëŠë¦° ì„±ëŠ¥ (QoS 0ì˜ ì•½ 4ë°° ëŠë¦¼)
- ë§Žì€ ë©”ëª¨ë¦¬ì™€ ë””ìŠ¤í¬ ì‚¬ìš©
- ë„¤íŠ¸ì›Œí¬ íŠ¸ëž˜í”½ ì¦ê°€ (4ë°°ì˜ íŒ¨í‚·)
- ë¸Œë¡œì»¤ì™€ í´ë¼ì´ì–¸íŠ¸ ëª¨ë‘ ìƒíƒœ ê´€ë¦¬ í•„ìš”

**ì í•©í•œ ì‚¬ìš© ì‚¬ë¡€**
```
1. ê¸ˆìœµ ê±°ëž˜
   - ê³„ì¢Œ ì´ì²´ (ì¤‘ë³µ ì´ì²´ ì ˆëŒ€ ì•ˆ ë¨)
   - ê²°ì œ ì²˜ë¦¬ (í•œ ë²ˆë§Œ ê²°ì œë˜ì–´ì•¼ í•¨)

2. ì£¼ë¬¸ ì²˜ë¦¬
   - ì „ìžìƒê±°ëž˜ ì£¼ë¬¸ ìƒì„±
   - ìž¬ê³  ì°¨ê° (ì •í™•ížˆ 1ë²ˆë§Œ)

3. ì œì–´ ëª…ë ¹
   - ì‚°ì—… ìž¥ë¹„ ì œì–´ (ì •í™•ížˆ 1ë²ˆë§Œ ì‹¤í–‰)
   - ë„ì–´ë½ ê°œí (í•œ ë²ˆë§Œ ì—´ë ¤ì•¼ í•¨)

4. ì˜ë£Œ ì‹œìŠ¤í…œ
   - ì•½í’ˆ íˆ¬ì—¬ ê¸°ë¡
   - í™˜ìž ìƒíƒœ ë³€ê²½
```

**ì„±ëŠ¥ ë¹„êµ**
```
ì²˜ë¦¬ ì‹œê°„ (ìƒëŒ€ì ):
QoS 0: 1ms (ê¸°ì¤€)
QoS 1: 2-3ms (ì•½ 2ë°°)
QoS 2: 4-6ms (ì•½ 4ë°°)

ë„¤íŠ¸ì›Œí¬ íŒ¨í‚· ìˆ˜:
QoS 0: 1ê°œ (PUBLISHë§Œ)
QoS 1: 2ê°œ (PUBLISH + PUBACK)
QoS 2: 4ê°œ (PUBLISH + PUBREC + PUBREL + PUBCOMP)

ë©”ëª¨ë¦¬ ì‚¬ìš©:
QoS 0: ìµœì†Œ (ì „ì†¡ í›„ ì¦‰ì‹œ ì‚­ì œ)
QoS 1: ë³´í†µ (ACK ë°›ì„ ë•Œê¹Œì§€ ë³´ê´€)
QoS 2: ìµœëŒ€ (4ë‹¨ê³„ ì™„ë£Œê¹Œì§€ ìƒíƒœ ì €ìž¥)
```

**QoS ë ˆë²¨ ì„ íƒ ê¸°ì¤€**
```
QoS 0ì„ ì„ íƒí•˜ëŠ” ê²½ìš°:
âœ“ ì„±ëŠ¥ì´ ìµœìš°ì„ 
âœ“ ì¼ë¶€ ë°ì´í„° ì†ì‹¤ í—ˆìš©
âœ“ ë°ì´í„°ê°€ ìžì£¼ ì—…ë°ì´íŠ¸ë¨
âœ“ ì‹¤ì‹œê°„ì„±ì´ ì¤‘ìš”

QoS 1ì„ ì„ íƒí•˜ëŠ” ê²½ìš°:
âœ“ ë°ì´í„° ì†ì‹¤ì€ ì•ˆ ë˜ì§€ë§Œ ì¤‘ë³µì€ í—ˆìš©
âœ“ ì¤‘ë³µ ì²˜ë¦¬ ë¡œì§ êµ¬í˜„ ê°€ëŠ¥
âœ“ ì„±ëŠ¥ê³¼ ì‹ ë¢°ì„±ì˜ ê· í˜• í•„ìš”
âœ“ ëŒ€ë¶€ë¶„ì˜ ì¼ë°˜ì ì¸ ì‚¬ìš© ì‚¬ë¡€

QoS 2ë¥¼ ì„ íƒí•˜ëŠ” ê²½ìš°:
âœ“ ë°ì´í„° ì†ì‹¤ê³¼ ì¤‘ë³µ ëª¨ë‘ ë¶ˆê°€
âœ“ ì„±ëŠ¥ë³´ë‹¤ ì •í™•ì„±ì´ ì¤‘ìš”
âœ“ ê¸ˆìœµ, ê²°ì œ, ì œì–´ ì‹œìŠ¤í…œ
âœ“ ë²•ì  ì±…ìž„ì´ ìžˆëŠ” ë°ì´í„°
```

### MQTTì˜ íŠ¹ì§•

#### ìž¥ì 
- **ë§¤ìš° ê°€ë²¼ì›€**: í—¤ë”ê°€ 2ë°”ì´íŠ¸ë¡œ ìµœì†Œ
- **ë¹ ë¥¸ ì „ì†¡**: ë‚®ì€ ì˜¤ë²„í—¤ë“œë¡œ ë¹ ë¥¸ ë©”ì‹œì§€ ì „ë‹¬
- **ë°°í„°ë¦¬ íš¨ìœ¨ì **: IoT ê¸°ê¸°ì— ìµœì í™”
- **ê°„ë‹¨í•œ êµ¬í˜„**: ë³µìž¡í•˜ì§€ ì•Šì€ êµ¬ì¡°

#### ë‹¨ì 
- **ì œí•œëœ ë©”ì‹œì§€ í¬ê¸°**: í° ë°ì´í„° ì „ì†¡ì— ë¶€ì í•©
- **ê¸°ë³¸ì ì¸ ë¼ìš°íŒ…**: ë³µìž¡í•œ ë©”ì‹œì§€ ë¼ìš°íŒ… ë¶ˆê°€
- **ì œí•œëœ ë³´ì•ˆ**: ê¸°ë³¸ì ì¸ ë³´ì•ˆ ê¸°ëŠ¥ë§Œ ì œê³µ

### MQTT ì‚¬ìš© ì‚¬ë¡€
- **ìŠ¤ë§ˆíŠ¸ í™ˆ**: ì˜¨ë„ ì„¼ì„œ, ì¡°ëª… ì œì–´
- **ì°¨ëŸ‰ í†µì‹ **: ì‹¤ì‹œê°„ ì°¨ëŸ‰ ìƒíƒœ ëª¨ë‹ˆí„°ë§
- **ì‚°ì—… IoT**: ê³µìž¥ ì„¼ì„œ ë°ì´í„° ìˆ˜ì§‘
- **ëª¨ë°”ì¼ ì•±**: í‘¸ì‹œ ì•Œë¦¼

---

## AMQP (Advanced Message Queuing Protocol)

### AMQPëž€?

AMQPëŠ” ê¸°ì—… í™˜ê²½ì„ ìœ„í•œ ê³ ê¸‰ ë©”ì‹œì§€ íìž‰ í”„ë¡œí† ì½œìž…ë‹ˆë‹¤. ë³µìž¡í•œ ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ ì•ˆì •ì ì´ê³  ì•ˆì „í•œ ë©”ì‹œì§€ ì „ë‹¬ì´ í•„ìš”í•œ ê²½ìš°ì— ì‚¬ìš©ë©ë‹ˆë‹¤.

**Advancedì˜ ì˜ë¯¸**
- ê³ ê¸‰ ê¸°ëŠ¥ë“¤ì„ ì œê³µí•œë‹¤ëŠ” ì˜ë¯¸
- ë³µìž¡í•œ ë¼ìš°íŒ…, íŠ¸ëžœìž­ì…˜, ë³´ì•ˆ ê¸°ëŠ¥ ë“± í¬í•¨
- ê¸°ì—… í™˜ê²½ì˜ ë³µìž¡í•œ ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±

### AMQPì˜ í•µì‹¬ êµ¬ì„± ìš”ì†Œ

#### 1. Exchange (êµí™˜ì†Œ)
- ë©”ì‹œì§€ ë¼ìš°íŒ…ì„ ë‹´ë‹¹
- ë©”ì‹œì§€ë¥¼ ì ì ˆí•œ íë¡œ ì „ë‹¬í•˜ëŠ” ì—­í• 
- ì—¬ëŸ¬ ì¢…ë¥˜ì˜ ë¼ìš°íŒ… ê·œì¹™ ì œê³µ
- ë©”ì‹œì§€ì˜ ëª©ì ì§€ë¥¼ ê²°ì •í•˜ëŠ” ì¤‘ê°„ ì²˜ë¦¬ì†Œ

#### 2. Queue (í)
- ë©”ì‹œì§€ ì €ìž¥ì†Œ
- ë©”ì‹œì§€ê°€ ì‹¤ì œë¡œ ì €ìž¥ë˜ëŠ” ê³³
- ì†Œë¹„ìžê°€ ë©”ì‹œì§€ë¥¼ ê°€ì ¸ê°€ëŠ” ê³³
- FIFO(First In, First Out) ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬

#### 3. Binding (ë°”ì¸ë”©)
- Exchangeì™€ Queue ê°„ì˜ ì—°ê²° ê·œì¹™
- ì–´ë–¤ ë©”ì‹œì§€ê°€ ì–´ë–¤ íë¡œ ê°€ì•¼ í•˜ëŠ”ì§€ ì •ì˜
- ë¼ìš°íŒ… í‚¤ë‚˜ íŒ¨í„´ìœ¼ë¡œ ì—°ê²°

#### 4. Channel (ì±„ë„)
- ë…¼ë¦¬ì  ì—°ê²°
- í•˜ë‚˜ì˜ ì—°ê²°ì—ì„œ ì—¬ëŸ¬ ê°œì˜ ë…¼ë¦¬ì  í†µì‹  ê²½ë¡œ
- ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±ì„ ìœ„í•´ ì‚¬ìš©

### Exchange íƒ€ìž…

AMQPì˜ ExchangeëŠ” ë©”ì‹œì§€ ë¼ìš°íŒ…ì˜ í•µì‹¬ìž…ë‹ˆë‹¤. ê° Exchange íƒ€ìž…ì€ ì„œë¡œ ë‹¤ë¥¸ ë¼ìš°íŒ… ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

#### Direct Exchange - ì •í™•í•œ ë§¤ì¹­

**ìž‘ë™ ì›ë¦¬**
```
Producer â†’ [routing_key: "order.created"] â†’ Direct Exchange
                                                    â†“ (ì •í™•ížˆ ì¼ì¹˜ ê²€ì‚¬)
                                              routing_key == binding_key?
                                                    â†“ (ì¼ì¹˜í•¨)
                                              [Queue: order_queue]
```

**ìƒì„¸ ë™ìž‘**
1. Producerê°€ ë©”ì‹œì§€ì™€ í•¨ê»˜ **ì •í™•í•œ ë¼ìš°íŒ… í‚¤** ì „ì†¡
2. ExchangeëŠ” ê° Queueì˜ **ë°”ì¸ë”© í‚¤**ì™€ **ì™„ì „ížˆ ì¼ì¹˜**í•˜ëŠ”ì§€ í™•ì¸
3. ì¼ì¹˜í•˜ëŠ” Queueì—ë§Œ ë©”ì‹œì§€ ì „ë‹¬
4. ì¼ì¹˜í•˜ëŠ” Queueê°€ ì—†ìœ¼ë©´ ë©”ì‹œì§€ íê¸° (ë˜ëŠ” alternate exchangeë¡œ ì „ë‹¬)

**ë°”ì¸ë”© ì„¤ì • ì˜ˆì‹œ**
```
Queue 1 (order_processing):
  - binding_key: "order.created"
  
Queue 2 (payment_processing):
  - binding_key: "payment.completed"
  
Queue 3 (order_notification):
  - binding_key: "order.created"
```

**ë©”ì‹œì§€ ë¼ìš°íŒ… ê²°ê³¼**
```
routing_key: "order.created"
â†’ Queue 1 (order_processing) âœ“ ì „ë‹¬ë¨
â†’ Queue 2 (payment_processing) âœ— ì „ë‹¬ ì•ˆ ë¨
â†’ Queue 3 (order_notification) âœ“ ì „ë‹¬ë¨

routing_key: "payment.completed"
â†’ Queue 1 (order_processing) âœ— ì „ë‹¬ ì•ˆ ë¨
â†’ Queue 2 (payment_processing) âœ“ ì „ë‹¬ë¨
â†’ Queue 3 (order_notification) âœ— ì „ë‹¬ ì•ˆ ë¨

routing_key: "order.updated"
â†’ ì–´ë””ì—ë„ ë§¤ì¹­ ì•ˆ ë¨ â†’ ë©”ì‹œì§€ íê¸°
```

**íŠ¹ì§•**
- **O(1) ì‹œê°„ ë³µìž¡ë„**: í•´ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ì—¬ ë¹ ë¥¸ ë§¤ì¹­
- **ëª…í™•í•œ ë¼ìš°íŒ…**: ì˜¤ë¥˜ ê°€ëŠ¥ì„± ë‚®ìŒ
- **ë‹¤ì¤‘ ë°”ì¸ë”©**: ì—¬ëŸ¬ Queueê°€ ê°™ì€ í‚¤ë¥¼ ë°”ì¸ë”© ê°€ëŠ¥
- **ë¡œë“œ ë°¸ëŸ°ì‹±**: ê°™ì€ í‚¤ì— ì—¬ëŸ¬ Consumer ì—°ê²° ì‹œ ë¼ìš´ë“œë¡œë¹ˆ

**ì í•©í•œ ì‚¬ìš© ì‚¬ë¡€**
```
1. ìž‘ì—… í (Task Queue)
   routing_key: "task.image.resize" â†’ ì´ë¯¸ì§€ ì²˜ë¦¬ ì›Œì»¤
   routing_key: "task.video.encode" â†’ ë¹„ë””ì˜¤ ì¸ì½”ë”© ì›Œì»¤

2. ìš°ì„ ìˆœìœ„ í
   routing_key: "priority.high" â†’ ê³ ìš°ì„ ìˆœìœ„ í
   routing_key: "priority.low" â†’ ì €ìš°ì„ ìˆœìœ„ í

3. ë¡œê·¸ ë¼ìš°íŒ…
   routing_key: "log.error" â†’ ì—ëŸ¬ ë¡œê·¸ í
   routing_key: "log.info" â†’ ì¼ë°˜ ë¡œê·¸ í
```

#### Topic Exchange - íŒ¨í„´ ë§¤ì¹­

**ìž‘ë™ ì›ë¦¬**
```
Producer â†’ [routing_key: "user.123.email.sent"] â†’ Topic Exchange
                                                        â†“ (íŒ¨í„´ ë§¤ì¹­)
                                              "user.*.email.*" íŒ¨í„´ê³¼ ì¼ì¹˜?
                                                        â†“ (ì¼ì¹˜í•¨)
                                                  [Queue: email_logs]
```

**ì™€ì¼ë“œì¹´ë“œ ê·œì¹™**
- `*` (ë³„í‘œ): **ì •í™•ížˆ í•œ ê°œì˜ ë‹¨ì–´**ë¥¼ ëŒ€ì²´
- `#` (í•´ì‹œ): **0ê°œ ì´ìƒì˜ ë‹¨ì–´**ë¥¼ ëŒ€ì²´
- ë‹¨ì–´ëŠ” `.`(ì )ìœ¼ë¡œ êµ¬ë¶„
- ë¼ìš°íŒ… í‚¤ëŠ” ìµœëŒ€ 255ë°”ì´íŠ¸

**íŒ¨í„´ ë§¤ì¹­ ì˜ˆì‹œ**
```
Binding íŒ¨í„´: "user.*.notification"
âœ“ "user.123.notification" (ë§¤ì¹­)
âœ“ "user.abc.notification" (ë§¤ì¹­)
âœ— "user.123.email.notification" (ë‹¨ì–´ê°€ 3ê°œê°€ ì•„ë‹˜)
âœ— "user.notification" (ë‹¨ì–´ê°€ 2ê°œ)

Binding íŒ¨í„´: "log.#"
âœ“ "log.error" (ë§¤ì¹­)
âœ“ "log.error.database" (ë§¤ì¹­)
âœ“ "log.info.user.login" (ë§¤ì¹­)
âœ“ "log" (ë§¤ì¹­, #ì€ 0ê°œë„ ê°€ëŠ¥)
âœ— "error.log" (logë¡œ ì‹œìž‘í•˜ì§€ ì•ŠìŒ)

Binding íŒ¨í„´: "#.error"
âœ“ "error" (ë§¤ì¹­)
âœ“ "database.error" (ë§¤ì¹­)
âœ“ "system.database.connection.error" (ë§¤ì¹­)
âœ— "error.critical" (errorë¡œ ëë‚˜ì§€ ì•ŠìŒ)

Binding íŒ¨í„´: "*.*.critical"
âœ“ "system.database.critical" (ë§¤ì¹­, ì •í™•ížˆ 3ë‹¨ì–´)
âœ— "system.critical" (2ë‹¨ì–´)
âœ— "app.system.database.critical" (4ë‹¨ì–´)
```

**ë³µìž¡í•œ ë¼ìš°íŒ… ì‹œë‚˜ë¦¬ì˜¤**
```
Queue ì„¤ì •:
Queue A: "user.#.email" â†’ ëª¨ë“  ì‚¬ìš©ìžì˜ ì´ë©”ì¼ ì´ë²¤íŠ¸
Queue B: "user.*.created" â†’ ì‚¬ìš©ìž ìƒì„± ì´ë²¤íŠ¸ë§Œ
Queue C: "#.error" â†’ ëª¨ë“  ì—ëŸ¬ ì´ë²¤íŠ¸
Queue D: "user.*.#" â†’ ëª¨ë“  ì‚¬ìš©ìž ì´ë²¤íŠ¸

ë©”ì‹œì§€ ë¼ìš°íŒ…:
routing_key: "user.123.email"
â†’ Queue A âœ“ (user.#.email ë§¤ì¹­)
â†’ Queue B âœ— (createdê°€ ì•„ë‹˜)
â†’ Queue C âœ— (errorë¡œ ëë‚˜ì§€ ì•ŠìŒ)
â†’ Queue D âœ“ (user.*.# ë§¤ì¹­)

routing_key: "user.456.created"
â†’ Queue A âœ— (emailë¡œ ëë‚˜ì§€ ì•ŠìŒ)
â†’ Queue B âœ“ (user.*.created ë§¤ì¹­)
â†’ Queue C âœ— (errorë¡œ ëë‚˜ì§€ ì•ŠìŒ)
â†’ Queue D âœ“ (user.*.# ë§¤ì¹­)

routing_key: "system.database.connection.error"
â†’ Queue A âœ— (userë¡œ ì‹œìž‘í•˜ì§€ ì•ŠìŒ)
â†’ Queue B âœ— (userë¡œ ì‹œìž‘í•˜ì§€ ì•ŠìŒ)
â†’ Queue C âœ“ (#.error ë§¤ì¹­)
â†’ Queue D âœ— (userë¡œ ì‹œìž‘í•˜ì§€ ì•ŠìŒ)
```

**íŠ¹ì§•**
- **ìœ ì—°í•œ ë¼ìš°íŒ…**: ë³µìž¡í•œ íŒ¨í„´ êµ¬ì„± ê°€ëŠ¥
- **ê³„ì¸µì  êµ¬ì¡°**: ë„ë©”ì¸ ê¸°ë°˜ ë©”ì‹œì§•ì— ì í•©
- **ë‹¤ì¤‘ ë§¤ì¹­**: í•˜ë‚˜ì˜ ë©”ì‹œì§€ê°€ ì—¬ëŸ¬ Queueì— ì „ë‹¬ ê°€ëŠ¥
- **O(n) ì‹œê°„ ë³µìž¡ë„**: ëª¨ë“  ë°”ì¸ë”© íŒ¨í„´ì„ ê²€ì‚¬í•´ì•¼ í•¨

**ì í•©í•œ ì‚¬ìš© ì‚¬ë¡€**
```
1. ë¡œê·¸ ìˆ˜ì§‘ ì‹œìŠ¤í…œ
   "app.frontend.error" â†’ í”„ë¡ íŠ¸ì—”ë“œ ì—ëŸ¬ ìˆ˜ì§‘
   "app.backend.#" â†’ ë°±ì—”ë“œì˜ ëª¨ë“  ë¡œê·¸
   "*.*.critical" â†’ ëª¨ë“  ì•±ì˜ í¬ë¦¬í‹°ì»¬ ë¡œê·¸

2. ì§€ì—­ë³„ ì•Œë¦¼
   "notification.kr.seoul" â†’ ì„œìš¸ ì‚¬ìš©ìž ì•Œë¦¼
   "notification.kr.#" â†’ í•œêµ­ì˜ ëª¨ë“  ì§€ì—­
   "notification.*.promotion" â†’ ëª¨ë“  ì§€ì—­ì˜ í”„ë¡œëª¨ì…˜

3. ì„¼ì„œ ë°ì´í„°
   "sensor.temperature.#" â†’ ëª¨ë“  ì˜¨ë„ ì„¼ì„œ
   "sensor.*.warehouse.1" â†’ 1ë²ˆ ì°½ê³ ì˜ ëª¨ë“  ì„¼ì„œ
```

#### Fanout Exchange - ë¸Œë¡œë“œìºìŠ¤íŠ¸

**ìž‘ë™ ì›ë¦¬**
```
Producer â†’ [routing_key ë¬´ì‹œ] â†’ Fanout Exchange
                                      â†“ (ëª¨ë“  ë°”ì¸ë”©ëœ Queueì—)
                        â†™             â†“             â†˜
                  [Queue 1]      [Queue 2]      [Queue 3]
```

**ìƒì„¸ ë™ìž‘**
1. Producerê°€ ë©”ì‹œì§€ë¥¼ Exchangeì— ì „ì†¡
2. **ë¼ìš°íŒ… í‚¤ëŠ” ì™„ì „ížˆ ë¬´ì‹œë¨**
3. ë°”ì¸ë”©ëœ **ëª¨ë“  Queue**ì— ë©”ì‹œì§€ ë³µì‚¬ ì „ë‹¬
4. Queueê°€ ì—†ìœ¼ë©´ ë©”ì‹œì§€ íê¸°

**ì‹¤ì œ ë™ìž‘ ì˜ˆì‹œ**
```
ì„¤ì •:
Fanout Exchange "system_events"
  â†“ binding (ë¼ìš°íŒ… í‚¤ ë¶ˆí•„ìš”)
  â”œâ”€ Queue: audit_log
  â”œâ”€ Queue: monitoring_system
  â”œâ”€ Queue: analytics_db
  â””â”€ Queue: notification_service

ë©”ì‹œì§€ ì „ì†¡:
Producer â†’ "system_events" (routing_key: "shutdown" ë˜ëŠ” ì•„ë¬´ê±°ë‚˜)
â†’ audit_logë¡œ ë³µì‚¬ ì „ë‹¬ âœ“
â†’ monitoring_systemìœ¼ë¡œ ë³µì‚¬ ì „ë‹¬ âœ“
â†’ analytics_dbë¡œ ë³µì‚¬ ì „ë‹¬ âœ“
â†’ notification_serviceë¡œ ë³µì‚¬ ì „ë‹¬ âœ“
```

**íŠ¹ì§•**
- **O(1) ì‹œê°„ ë³µìž¡ë„**: ë¼ìš°íŒ… ë¡œì§ ì—†ìŒ
- **ê°€ìž¥ ë¹ ë¥¸ ì„±ëŠ¥**: ì¡°ê±´ ê²€ì‚¬ ì—†ì´ ë°”ë¡œ ì „ë‹¬
- **ì™„ì „ ë³µì œ**: ëª¨ë“  Queueê°€ ë™ì¼í•œ ë©”ì‹œì§€ ìˆ˜ì‹ 
- **ë¼ìš°íŒ… í‚¤ ë¶ˆí•„ìš”**: ì„¤ì •í•˜ë”ë¼ë„ ë¬´ì‹œë¨

**ì í•©í•œ ì‚¬ìš© ì‚¬ë¡€**
```
1. ì‹œìŠ¤í…œ ì „ì²´ ì•Œë¦¼
   ì‹œìŠ¤í…œ ì¢…ë£Œ â†’ ëª¨ë“  ì„œë¹„ìŠ¤ì— ì•Œë¦¼
   ê¸´ê¸‰ ì—…ë°ì´íŠ¸ â†’ ëª¨ë“  ë…¸ë“œì— ì „íŒŒ

2. ì‹¤ì‹œê°„ ë°ì´í„° ë°°í¬
   ì£¼ì‹ ê°€ê²© ë³€ê²½ â†’ ëª¨ë“  ëŒ€ì‹œë³´ë“œì— ì—…ë°ì´íŠ¸
   ìŠ¤í¬ì¸  ê²½ê¸° ì ìˆ˜ â†’ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì— ì „ë‹¬

3. ìºì‹œ ë¬´íš¨í™”
   ë°ì´í„° ë³€ê²½ â†’ ëª¨ë“  ìºì‹œ ì„œë²„ì— ë¬´íš¨í™” ì‹ í˜¸

4. ë³µì œ ë° ë°±ì—…
   ì¤‘ìš” ì´ë²¤íŠ¸ â†’ ì—¬ëŸ¬ ì €ìž¥ì†Œì— ë™ì‹œ ì €ìž¥
```

#### Headers Exchange - ì†ì„± ê¸°ë°˜ ë¼ìš°íŒ…

**ìž‘ë™ ì›ë¦¬**
```
Producer â†’ [headers: {format:"pdf", priority:"high"}] â†’ Headers Exchange
                                                              â†“ (í—¤ë” ë§¤ì¹­)
                                                    ì¡°ê±´: format=pdf AND priority=high?
                                                              â†“ (ì¼ì¹˜í•¨)
                                                        [Queue: pdf_processor]
```

**ë§¤ì¹­ ë°©ì‹**
```
x-match: "all" (AND ì—°ì‚°)
â†’ ëª¨ë“  í—¤ë”ê°€ ì¼ì¹˜í•´ì•¼ í•¨

x-match: "any" (OR ì—°ì‚°)
â†’ í•˜ë‚˜ë¼ë„ ì¼ì¹˜í•˜ë©´ ë¨
```

**ë°”ì¸ë”© ì„¤ì • ì˜ˆì‹œ**
```javascript
Queue 1 ë°”ì¸ë”©:
{
  "x-match": "all",  // AND ì—°ì‚°
  "format": "pdf",
  "priority": "high"
}
â†’ formatì´ pdfì´ê³  priorityê°€ highì¸ ë©”ì‹œì§€ë§Œ

Queue 2 ë°”ì¸ë”©:
{
  "x-match": "any",  // OR ì—°ì‚°
  "format": "pdf",
  "format": "docx"
}
â†’ formatì´ pdfì´ê±°ë‚˜ docxì¸ ë©”ì‹œì§€

Queue 3 ë°”ì¸ë”©:
{
  "x-match": "all",
  "region": "asia",
  "language": "ko",
  "urgent": "true"
}
â†’ ì„¸ ì¡°ê±´ì„ ëª¨ë‘ ë§Œì¡±í•˜ëŠ” ë©”ì‹œì§€ë§Œ
```

**ë³µìž¡í•œ ë§¤ì¹­ ì‹œë‚˜ë¦¬ì˜¤**
```
ë©”ì‹œì§€ í—¤ë”: {format:"pdf", priority:"high", size:"large"}

Queue A ì¡°ê±´: {x-match:"all", format:"pdf", priority:"high"}
â†’ ë§¤ì¹­ ì„±ê³µ âœ“ (formatê³¼ priority ëª¨ë‘ ì¼ì¹˜)

Queue B ì¡°ê±´: {x-match:"all", format:"pdf", size:"small"}
â†’ ë§¤ì¹­ ì‹¤íŒ¨ âœ— (sizeê°€ ë‹¤ë¦„)

Queue C ì¡°ê±´: {x-match:"any", format:"docx", size:"large"}
â†’ ë§¤ì¹­ ì„±ê³µ âœ“ (sizeê°€ ì¼ì¹˜)

Queue D ì¡°ê±´: {x-match:"any", format:"xml", language:"en"}
â†’ ë§¤ì¹­ ì‹¤íŒ¨ âœ— (ì–´ëŠ ê²ƒë„ ì¼ì¹˜í•˜ì§€ ì•ŠìŒ)
```

**íŠ¹ì§•**
- **ê°€ìž¥ ìœ ì—°í•¨**: ë³µìž¡í•œ ì¡°ê±´ êµ¬ì„± ê°€ëŠ¥
- **ë¼ìš°íŒ… í‚¤ ë¬´ì‹œ**: í—¤ë”ë§Œ ì‚¬ìš©
- **O(nÃ—m) ì‹œê°„ ë³µìž¡ë„**: ëª¨ë“  ë°”ì¸ë”©ì˜ ëª¨ë“  í—¤ë” ê²€ì‚¬
- **ì„±ëŠ¥ ì €í•˜**: ë³µìž¡í•œ ì¡°ê±´ì¼ìˆ˜ë¡ ëŠë¦¼

**ì í•©í•œ ì‚¬ìš© ì‚¬ë¡€**
```
1. íŒŒì¼ ì²˜ë¦¬ ì‹œìŠ¤í…œ
   {type:"image", format:"png", size:"large"} â†’ ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§•
   {type:"document", format:"pdf", ocr:"needed"} â†’ OCR ì²˜ë¦¬

2. ë‹¤ì¤‘ ì¡°ê±´ í•„í„°ë§
   {region:"asia", language:"ko", age:"20-30"} â†’ íƒ€ê²Ÿ ë§ˆì¼€íŒ…
   {risk:"high", amount:">1000000", country:"US"} â†’ ê±°ëž˜ ëª¨ë‹ˆí„°ë§

3. ë©”íƒ€ë°ì´í„° ê¸°ë°˜ ë¼ìš°íŒ…
   {content-type:"application/json", version:"2.0"} â†’ v2 í”„ë¡œì„¸ì„œ
   {priority:"critical", department:"security"} â†’ ë³´ì•ˆíŒ€ ì•Œë¦¼
```

**Exchange íƒ€ìž… ì„ íƒ ê¸°ì¤€**
```
Direct Exchange:
âœ“ ëª…í™•í•œ ë¼ìš°íŒ… ê·œì¹™
âœ“ ê°„ë‹¨í•œ 1:1 ë˜ëŠ” 1:N ë§¤ì¹­
âœ“ ìµœê³ ì˜ ì„±ëŠ¥ í•„ìš”
âœ“ ìž‘ì—… í, ë¡œê·¸ ë ˆë²¨ ë¶„ë¥˜

Topic Exchange:
âœ“ ê³„ì¸µì  ë°ì´í„° êµ¬ì¡°
âœ“ ìœ ì—°í•œ êµ¬ë… íŒ¨í„´ í•„ìš”
âœ“ ì™€ì¼ë“œì¹´ë“œ ë§¤ì¹­ í•„ìš”
âœ“ ë¡œê·¸ ìˆ˜ì§‘, ì´ë²¤íŠ¸ ë¼ìš°íŒ…

Fanout Exchange:
âœ“ ëª¨ë“  ìˆ˜ì‹ ìžì—ê²Œ ì „ë‹¬
âœ“ ë¼ìš°íŒ… ë¡œì§ ë¶ˆí•„ìš”
âœ“ ìµœê³  ì„±ëŠ¥ í•„ìš”
âœ“ ë¸Œë¡œë“œìºìŠ¤íŠ¸, ìºì‹œ ë¬´íš¨í™”

Headers Exchange:
âœ“ ë³µìž¡í•œ ë‹¤ì¤‘ ì¡°ê±´ í•„ìš”
âœ“ ë¼ìš°íŒ… í‚¤ë¡œ í‘œí˜„ ë¶ˆê°€ëŠ¥
âœ“ ë©”íƒ€ë°ì´í„° ê¸°ë°˜ ë¼ìš°íŒ…
âœ“ ê³ ê¸‰ í•„í„°ë§, ì»¨í…ì¸  ê¸°ë°˜ ë¼ìš°íŒ…
```

### AMQPì˜ íŠ¹ì§•

#### ìž¥ì 
- **ê³ ê¸‰ ë¼ìš°íŒ…**: ë³µìž¡í•œ ë©”ì‹œì§€ ë¼ìš°íŒ… ê°€ëŠ¥
- **ê°•ë ¥í•œ ë³´ì•ˆ**: TLS, SASL ë“± ê³ ê¸‰ ë³´ì•ˆ ê¸°ëŠ¥
- **ë©”ì‹œì§€ ì§€ì†ì„±**: ë©”ì‹œì§€ ì†ì‹¤ ë°©ì§€
- **íŠ¸ëžœìž­ì…˜ ì§€ì›**: ì•ˆì „í•œ ë©”ì‹œì§€ ì²˜ë¦¬

#### ë‹¨ì 
- **ë†’ì€ ì˜¤ë²„í—¤ë“œ**: ë³µìž¡í•œ êµ¬ì¡°ë¡œ ì¸í•œ ì„±ëŠ¥ ì €í•˜
- **ë³µìž¡í•œ êµ¬í˜„**: ì„¤ì •ê³¼ ê´€ë¦¬ê°€ ë³µìž¡
- **ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰**: ë” ë§Žì€ ë©”ëª¨ë¦¬ì™€ CPU ì‚¬ìš©

### AMQP ì‚¬ìš© ì‚¬ë¡€
- **ê¸ˆìœµ ì‹œìŠ¤í…œ**: ì£¼ì‹ ê±°ëž˜, ê²°ì œ ì²˜ë¦¬
- **ì—”í„°í”„ë¼ì´ì¦ˆ**: ëŒ€ê·œëª¨ ì‹œìŠ¤í…œ í†µí•©
- **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤**: ì„œë¹„ìŠ¤ ê°„ í†µì‹ 
- **ë°ì´í„° íŒŒì´í”„ë¼ì¸**: ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬

---

## ðŸ— ì•„í‚¤í…ì²˜ ë¹„êµ

### MQTT ì•„í‚¤í…ì²˜

```mermaid
graph TB
    subgraph "MQTT ì‹œìŠ¤í…œ"
        subgraph "ë°œí–‰ìžë“¤"
            P1[ì˜¨ë„ ì„¼ì„œ]
            P2[ìŠµë„ ì„¼ì„œ]
            P3[ì••ë ¥ ì„¼ì„œ]
        end
        
        subgraph "MQTT ë¸Œë¡œì»¤"
            B[MQTT Broker]
            T1[Topic: sensor/temp]
            T2[Topic: sensor/humidity]
            T3[Topic: sensor/pressure]
        end
        
        subgraph "êµ¬ë…ìžë“¤"
            S1[ëª¨ë‹ˆí„°ë§ ì•±]
            S2[ë°ì´í„°ë² ì´ìŠ¤]
            S3[ì•Œë¦¼ ì‹œìŠ¤í…œ]
        end
    end
    
    P1 -->|Publish| T1
    P2 -->|Publish| T2
    P3 -->|Publish| T3
    
    T1 -->|Subscribe| S1
    T1 -->|Subscribe| S2
    T2 -->|Subscribe| S1
    T3 -->|Subscribe| S3
```

### ðŸ¢ AMQP ì•„í‚¤í…ì²˜

```mermaid
graph TB
    subgraph "AMQP ì‹œìŠ¤í…œ"
        subgraph "Producerë“¤"
            PR1[ì£¼ë¬¸ ì‹œìŠ¤í…œ]
            PR2[ê²°ì œ ì‹œìŠ¤í…œ]
            PR3[ìž¬ê³  ì‹œìŠ¤í…œ]
        end
        
        subgraph "AMQP Broker"
            subgraph "Exchange"
                EX1[Direct Exchange]
                EX2[Topic Exchange]
                EX3[Fanout Exchange]
            end
            
            subgraph "Queue"
                Q1[ì£¼ë¬¸ í]
                Q2[ê²°ì œ í]
                Q3[ì•Œë¦¼ í]
                Q4[ìž¬ê³  í]
            end
        end
        
        subgraph "Consumerë“¤"
            C1[ì£¼ë¬¸ ì²˜ë¦¬ê¸°]
            C2[ê²°ì œ ì²˜ë¦¬ê¸°]
            C3[ì•Œë¦¼ ì„œë¹„ìŠ¤]
            C4[ìž¬ê³  ê´€ë¦¬ìž]
        end
    end
    
    PR1 -->|Publish| EX1
    PR2 -->|Publish| EX2
    PR3 -->|Publish| EX3
    
    EX1 -->|Routing Key: order| Q1
    EX2 -->|Pattern: payment.*| Q2
    EX2 -->|Pattern: payment.*| Q3
    EX3 -->|Broadcast| Q4
    
    Q1 -->|Consume| C1
    Q2 -->|Consume| C2
    Q3 -->|Consume| C3
    Q4 -->|Consume| C4
```

### ì•„í‚¤í…ì²˜ ì°¨ì´ì  ë¶„ì„

| êµ¬ë¶„ | **MQTT** | **AMQP** |
|------|----------|----------|
| **ë©”ì‹œì§€ íë¦„** | Publisher â†’ Topic â†’ Subscriber | Producer â†’ Exchange â†’ Queue â†’ Consumer |
| **ë¼ìš°íŒ… ë°©ì‹** | Topic ê¸°ë°˜ (ë‹¨ìˆœ) | Exchange íƒ€ìž…ë³„ ë³µìž¡í•œ ë¼ìš°íŒ… |
| **ë©”ì‹œì§€ ì €ìž¥** | ë¸Œë¡œì»¤ ë©”ëª¨ë¦¬ (ì¼ì‹œì ) | íì— ì§€ì†ì  ì €ìž¥ |
| **í™•ìž¥ì„±** | ë¸Œë¡œì»¤ í´ëŸ¬ìŠ¤í„°ë§ | íë³„ ë…ë¦½ì  í™•ìž¥ |
| **ë³µìž¡ë„** | ë‹¨ìˆœí•œ êµ¬ì¡° | ë³µìž¡í•œ êµ¬ì¡° |

---

## âš– ì„±ëŠ¥ ë° íŠ¹ì„± ë¹„êµ

### ìƒì„¸ ë¹„êµí‘œ

| íŠ¹ì„± | **MQTT** | **AMQP** | **ìŠ¹ìž** |
|------|----------|----------|----------|
| **í—¤ë” í¬ê¸°** | 2ë°”ì´íŠ¸ (ìµœì†Œ) | 8ë°”ì´íŠ¸ (ìµœì†Œ) | ðŸ† MQTT |
| **ë©”ì‹œì§€ í¬ê¸°** | 256MB (ì´ë¡ ì ) | 2GB+ | ðŸ† AMQP |
| **ì²˜ë¦¬ëŸ‰** | ì´ˆë‹¹ ìˆ˜ë§Œ~ìˆ˜ì‹­ë§Œ | ì´ˆë‹¹ ìˆ˜ë°±ë§Œ | ðŸ† AMQP |
| **ì§€ì—°ì‹œê°„** | ë°€ë¦¬ì´ˆ ë‹¨ìœ„ | ë°€ë¦¬ì´ˆ~ì´ˆ ë‹¨ìœ„ | ðŸ† MQTT |
| **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰** | ë§¤ìš° ë‚®ìŒ | ë†’ìŒ | ðŸ† MQTT |
| **CPU ì‚¬ìš©ëŸ‰** | ë‚®ìŒ | ë†’ìŒ | ðŸ† MQTT |
| **ë°°í„°ë¦¬ íš¨ìœ¨** | ë§¤ìš° ì¢‹ìŒ | ë³´í†µ | ðŸ† MQTT |
| **ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­** | ë‚®ìŒ | ë†’ìŒ | ðŸ† MQTT |
| **ì„¤ì • ë³µìž¡ë„** | ê°„ë‹¨ | ë³µìž¡ | ðŸ† MQTT |
| **í•™ìŠµ ê³¡ì„ ** | ì™„ë§Œ | ê°€íŒŒë¦„ | ðŸ† MQTT |

### ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ (ì°¸ê³ ìš©)

#### MQTT ì„±ëŠ¥ íŠ¹ì„±
- **ë™ì‹œ ì—°ê²°**: 10,000~100,000ê°œ
- **ë©”ì‹œì§€ ì²˜ë¦¬ëŸ‰**: ì´ˆë‹¹ 50,000~500,000ê°œ
- **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰**: ì—°ê²°ë‹¹ 1~2KB
- **ì§€ì—°ì‹œê°„**: 1~10ms

#### AMQP ì„±ëŠ¥ íŠ¹ì„±
- **ë™ì‹œ ì—°ê²°**: 1,000~10,000ê°œ
- **ë©”ì‹œì§€ ì²˜ë¦¬ëŸ‰**: ì´ˆë‹¹ 100,000~1,000,000ê°œ
- **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰**: ì—°ê²°ë‹¹ 10~50KB
- **ì§€ì—°ì‹œê°„**: 5~100ms

---

## ì‹¤ì œ êµ¬í˜„ ì˜ˆì‹œ

### MQTT êµ¬í˜„ ì˜ˆì‹œ

#### JavaScript (Node.js) - MQTT í´ë¼ì´ì–¸íŠ¸
```javascript
const mqtt = require('mqtt');

// MQTT í´ë¼ì´ì–¸íŠ¸ ì—°ê²°
const client = mqtt.connect('mqtt://localhost:1883', {
  clientId: 'sensor_client_001',
  clean: true,
  keepalive: 60
});

// ì—°ê²° ì„±ê³µ ì‹œ
client.on('connect', () => {
  console.log('MQTT í´ë¼ì´ì–¸íŠ¸ ì—°ê²°ë¨');
  
  // ì£¼ì œ êµ¬ë…
  client.subscribe('sensor/temperature', { qos: 1 });
  client.subscribe('sensor/humidity', { qos: 1 });
  
  // ë©”ì‹œì§€ ë°œí–‰
  setInterval(() => {
    const temperature = Math.random() * 30 + 10; // 10-40ë„
    client.publish('sensor/temperature', temperature.toString(), { qos: 1 });
  }, 5000);
});

// ë©”ì‹œì§€ ìˆ˜ì‹  ì‹œ
client.on('message', (topic, message) => {
  console.log(`ë°›ì€ ë©”ì‹œì§€ - ì£¼ì œ: ${topic}, ë‚´ìš©: ${message.toString()}`);
});

// ì˜¤ë¥˜ ì²˜ë¦¬
client.on('error', (error) => {
  console.error('MQTT ì˜¤ë¥˜:', error);
});
```

#### Python - MQTT í´ë¼ì´ì–¸íŠ¸
```python
import paho.mqtt.client as mqtt
import json
import time

class MQTTSensor:
    def __init__(self, broker_host, broker_port=1883):
        self.client = mqtt.Client()
        self.client.on_connect = self.on_connect
        self.client.on_message = self.on_message
        self.client.connect(broker_host, broker_port, 60)
    
    def on_connect(self, client, userdata, flags, rc):
        print(f"ì—°ê²° ê²°ê³¼: {rc}")
        if rc == 0:
            # ì£¼ì œ êµ¬ë…
            client.subscribe("sensor/+/data")
            client.subscribe("control/+/command")
    
    def on_message(self, client, userdata, msg):
        topic = msg.topic
        payload = msg.payload.decode()
        print(f"ë°›ì€ ë©”ì‹œì§€ - ì£¼ì œ: {topic}, ë‚´ìš©: {payload}")
    
    def publish_sensor_data(self, sensor_id, data):
        topic = f"sensor/{sensor_id}/data"
        payload = json.dumps({
            "timestamp": time.time(),
            "value": data,
            "unit": "celsius"
        })
        self.client.publish(topic, payload, qos=1)
    
    def start(self):
        self.client.loop_start()
        
        # ì„¼ì„œ ë°ì´í„° ì£¼ê¸°ì  ë°œí–‰
        while True:
            temperature = 20 + (time.time() % 20)  # 20-40ë„ ë³€ë™
            self.publish_sensor_data("temp_001", temperature)
            time.sleep(5)

# ì‚¬ìš© ì˜ˆì‹œ
if __name__ == "__main__":
    sensor = MQTTSensor("localhost")
    sensor.start()
```

### ðŸ¢ AMQP êµ¬í˜„ ì˜ˆì‹œ

#### JavaScript (Node.js) - AMQP í´ë¼ì´ì–¸íŠ¸
```javascript
const amqp = require('amqplib');

class AMQPProducer {
  constructor(connectionString) {
    this.connectionString = connectionString;
    this.connection = null;
    this.channel = null;
  }

  async connect() {
    try {
      this.connection = await amqp.connect(this.connectionString);
      this.channel = await this.connection.createChannel();
      
      // Exchange ì„ ì–¸
      await this.channel.assertExchange('orders', 'direct', { durable: true });
      await this.channel.assertExchange('notifications', 'fanout', { durable: true });
      
      console.log('AMQP ì—°ê²° ì„±ê³µ');
    } catch (error) {
      console.error('AMQP ì—°ê²° ì‹¤íŒ¨:', error);
    }
  }

  async publishOrder(orderData) {
    const queue = 'order_processing';
    await this.channel.assertQueue(queue, { durable: true });
    await this.channel.bindQueue(queue, 'orders', 'order.created');
    
    const message = JSON.stringify({
      orderId: orderData.id,
      customerId: orderData.customerId,
      items: orderData.items,
      total: orderData.total,
      timestamp: new Date().toISOString()
    });
    
    this.channel.publish('orders', 'order.created', Buffer.from(message), {
      persistent: true,
      messageId: orderData.id
    });
    
    console.log(`ì£¼ë¬¸ ë°œí–‰ë¨: ${orderData.id}`);
  }

  async publishNotification(notification) {
    const message = JSON.stringify(notification);
    this.channel.publish('notifications', '', Buffer.from(message), {
      persistent: true
    });
    
    console.log('ì•Œë¦¼ ë°œí–‰ë¨');
  }
}

class AMQPConsumer {
  constructor(connectionString) {
    this.connectionString = connectionString;
    this.connection = null;
    this.channel = null;
  }

  async connect() {
    try {
      this.connection = await amqp.connect(this.connectionString);
      this.channel = await this.connection.createChannel();
      
      // Exchange ì„ ì–¸
      await this.channel.assertExchange('orders', 'direct', { durable: true });
      
      console.log('AMQP Consumer ì—°ê²° ì„±ê³µ');
    } catch (error) {
      console.error('AMQP Consumer ì—°ê²° ì‹¤íŒ¨:', error);
    }
  }

  async consumeOrders() {
    const queue = 'order_processing';
    await this.channel.assertQueue(queue, { durable: true });
    await this.channel.bindQueue(queue, 'orders', 'order.created');
    
    this.channel.consume(queue, (msg) => {
      if (msg) {
        const orderData = JSON.parse(msg.content.toString());
        console.log('ì£¼ë¬¸ ì²˜ë¦¬ ì¤‘:', orderData.orderId);
        
        // ì£¼ë¬¸ ì²˜ë¦¬ ë¡œì§
        this.processOrder(orderData);
        
        // ë©”ì‹œì§€ í™•ì¸
        this.channel.ack(msg);
      }
    });
  }

  processOrder(orderData) {
    // ì‹¤ì œ ì£¼ë¬¸ ì²˜ë¦¬ ë¡œì§
    console.log(`ì£¼ë¬¸ ${orderData.orderId} ì²˜ë¦¬ ì™„ë£Œ`);
  }
}

// ì‚¬ìš© ì˜ˆì‹œ
async function main() {
  const producer = new AMQPProducer('amqp://localhost');
  const consumer = new AMQPConsumer('amqp://localhost');
  
  await producer.connect();
  await consumer.connect();
  
  // ì£¼ë¬¸ ë°œí–‰
  await producer.publishOrder({
    id: 'ORD-001',
    customerId: 'CUST-123',
    items: [{ name: 'ìƒí’ˆA', quantity: 2, price: 10000 }],
    total: 20000
  });
  
  // ì£¼ë¬¸ ì†Œë¹„
  await consumer.consumeOrders();
}

main().catch(console.error);
```

#### Python - AMQP í´ë¼ì´ì–¸íŠ¸
```python
import pika
import json
import time

class AMQPProducer:
    def __init__(self, connection_params):
        self.connection_params = connection_params
        self.connection = None
        self.channel = None
    
    def connect(self):
        self.connection = pika.BlockingConnection(
            pika.ConnectionParameters(**self.connection_params)
        )
        self.channel = self.connection.channel()
        
        # Exchange ì„ ì–¸
        self.channel.exchange_declare(exchange='orders', exchange_type='direct', durable=True)
        self.channel.exchange_declare(exchange='notifications', exchange_type='fanout', durable=True)
        
        print("AMQP Producer ì—°ê²°ë¨")
    
    def publish_order(self, order_data):
        queue = 'order_processing'
        self.channel.queue_declare(queue=queue, durable=True)
        self.channel.queue_bind(exchange='orders', queue=queue, routing_key='order.created')
        
        message = json.dumps({
            'orderId': order_data['id'],
            'customerId': order_data['customerId'],
            'items': order_data['items'],
            'total': order_data['total'],
            'timestamp': time.time()
        })
        
        self.channel.basic_publish(
            exchange='orders',
            routing_key='order.created',
            body=message,
            properties=pika.BasicProperties(
                delivery_mode=2,  # ë©”ì‹œì§€ ì§€ì†ì„±
                message_id=order_data['id']
            )
        )
        
        print(f"ì£¼ë¬¸ ë°œí–‰ë¨: {order_data['id']}")
    
    def close(self):
        if self.connection:
            self.connection.close()

class AMQPConsumer:
    def __init__(self, connection_params):
        self.connection_params = connection_params
        self.connection = None
        self.channel = None
    
    def connect(self):
        self.connection = pika.BlockingConnection(
            pika.ConnectionParameters(**self.connection_params)
        )
        self.channel = self.connection.channel()
        
        # Exchange ì„ ì–¸
        self.channel.exchange_declare(exchange='orders', exchange_type='direct', durable=True)
        
        print("AMQP Consumer ì—°ê²°ë¨")
    
    def consume_orders(self):
        queue = 'order_processing'
        self.channel.queue_declare(queue=queue, durable=True)
        self.channel.queue_bind(exchange='orders', queue=queue, routing_key='order.created')
        
        def callback(ch, method, properties, body):
            order_data = json.loads(body)
            print(f"ì£¼ë¬¸ ì²˜ë¦¬ ì¤‘: {order_data['orderId']}")
            
            # ì£¼ë¬¸ ì²˜ë¦¬ ë¡œì§
            self.process_order(order_data)
            
            # ë©”ì‹œì§€ í™•ì¸
            ch.basic_ack(delivery_tag=method.delivery_tag)
        
        self.channel.basic_consume(queue=queue, on_message_callback=callback)
        print("ì£¼ë¬¸ ì†Œë¹„ ì‹œìž‘...")
        self.channel.start_consuming()
    
    def process_order(self, order_data):
        # ì‹¤ì œ ì£¼ë¬¸ ì²˜ë¦¬ ë¡œì§
        print(f"ì£¼ë¬¸ {order_data['orderId']} ì²˜ë¦¬ ì™„ë£Œ")
    
    def close(self):
        if self.connection:
            self.connection.close()

# ì‚¬ìš© ì˜ˆì‹œ
if __name__ == "__main__":
    connection_params = {
        'host': 'localhost',
        'port': 5672,
        'virtual_host': '/',
        'credentials': pika.PlainCredentials('guest', 'guest')
    }
    
    producer = AMQPProducer(connection_params)
    consumer = AMQPConsumer(connection_params)
    
    try:
        producer.connect()
        consumer.connect()
        
        # ì£¼ë¬¸ ë°œí–‰
        producer.publish_order({
            'id': 'ORD-001',
            'customerId': 'CUST-123',
            'items': [{'name': 'ìƒí’ˆA', 'quantity': 2, 'price': 10000}],
            'total': 20000
        })
        
        # ì£¼ë¬¸ ì†Œë¹„
        consumer.consume_orders()
        
    except KeyboardInterrupt:
        print("í”„ë¡œê·¸ëž¨ ì¢…ë£Œ")
    finally:
        producer.close()
        consumer.close()
```

---

## ì‚¬ìš© ì‚¬ë¡€ë³„ ì„ íƒ

### ðŸ  MQTTë¥¼ ì„ íƒí•´ì•¼ í•  ë•Œ

#### 1. **IoT ë° ì„¼ì„œ ë„¤íŠ¸ì›Œí¬**
- **ìŠ¤ë§ˆíŠ¸ í™ˆ**: ì¡°ëª…, ì˜¨ë„ ì¡°ì ˆê¸°, ë³´ì•ˆ ì‹œìŠ¤í…œ
- **ì‚°ì—… IoT**: ê³µìž¥ ì„¼ì„œ, ìž¥ë¹„ ëª¨ë‹ˆí„°ë§
- **í™˜ê²½ ëª¨ë‹ˆí„°ë§**: ëŒ€ê¸°ì§ˆ, ì†ŒìŒ, ì˜¨ë„ ì¸¡ì •
- **ë†ì—… IoT**: í† ì–‘ ì„¼ì„œ, ê´€ìˆ˜ ì‹œìŠ¤í…œ

#### 2. **ì œí•œëœ ë¦¬ì†ŒìŠ¤ í™˜ê²½**
- **ë°°í„°ë¦¬ ê¸°ê¸°**: ë°°í„°ë¦¬ ìˆ˜ëª…ì´ ì¤‘ìš”í•œ ì„¼ì„œ
- **ì €ì „ë ¥ ë§ˆì´í¬ë¡œì»¨íŠ¸ë¡¤ëŸ¬**: ESP32, Arduino ë“±
- **ì œí•œëœ ë©”ëª¨ë¦¬**: 8KB~64KB ë©”ëª¨ë¦¬ í™˜ê²½
- **ë‚®ì€ CPU ì„±ëŠ¥**: ë§ˆì´í¬ë¡œì»¨íŠ¸ë¡¤ëŸ¬ ê¸°ë°˜ ê¸°ê¸°

#### 3. **ì‹¤ì‹œê°„ í†µì‹  ìš”êµ¬ì‚¬í•­**
- **ì¦‰ì‹œ ë°˜ì‘**: ì‹¤ì‹œê°„ ì œì–´ê°€ í•„ìš”í•œ ì‹œìŠ¤í…œ
- **ë‚®ì€ ì§€ì—°ì‹œê°„**: ë°€ë¦¬ì´ˆ ë‹¨ìœ„ ì‘ë‹µ ìš”êµ¬
- **ì´ë²¤íŠ¸ ê¸°ë°˜**: ìƒíƒœ ë³€í™” ì‹œ ì¦‰ì‹œ ì•Œë¦¼

#### 4. **ê°„ë‹¨í•œ êµ¬í˜„ ìš”êµ¬ì‚¬í•­**
- **ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘**: ë¹ ë¥¸ ê°œë°œì´ í•„ìš”í•œ ê²½ìš°
- **ë‹¨ìˆœí•œ ë©”ì‹œì§•**: ë³µìž¡í•œ ë¼ìš°íŒ…ì´ ë¶ˆí•„ìš”í•œ ê²½ìš°
- **ë‚®ì€ ìš´ì˜ ë³µìž¡ì„±**: ê°„ë‹¨í•œ ê´€ë¦¬ê°€ í•„ìš”í•œ ê²½ìš°

### ðŸ¢ AMQPë¥¼ ì„ íƒí•´ì•¼ í•  ë•Œ

#### 1. **ê¸°ì—… í™˜ê²½ì˜ ë³µìž¡í•œ ì‹œìŠ¤í…œ**
- **ê¸ˆìœµ ì‹œìŠ¤í…œ**: ì£¼ì‹ ê±°ëž˜, ê²°ì œ ì²˜ë¦¬
- **ì „ìžìƒê±°ëž˜**: ì£¼ë¬¸ ì²˜ë¦¬, ìž¬ê³  ê´€ë¦¬
- **ì—”í„°í”„ë¼ì´ì¦ˆ**: ëŒ€ê·œëª¨ ì‹œìŠ¤í…œ í†µí•©
- **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤**: ì„œë¹„ìŠ¤ ê°„ ë³µìž¡í•œ í†µì‹ 

#### 2. **ê³ ê¸‰ ë©”ì‹œì§€ ë¼ìš°íŒ… ìš”êµ¬ì‚¬í•­**
- **ë³µìž¡í•œ ë¼ìš°íŒ…**: ë‹¤ì–‘í•œ ì¡°ê±´ì— ë”°ë¥¸ ë©”ì‹œì§€ ë¶„ë°°
- **ë©”ì‹œì§€ ë³€í™˜**: ë©”ì‹œì§€ í˜•ì‹ ë³€í™˜ì´ í•„ìš”í•œ ê²½ìš°
- **íŠ¸ëžœìž­ì…˜**: ì›ìžì  ë©”ì‹œì§€ ì²˜ë¦¬ ìš”êµ¬
- **ë©”ì‹œì§€ ìˆœì„œ**: ë©”ì‹œì§€ ìˆœì„œ ë³´ìž¥ì´ ì¤‘ìš”í•œ ê²½ìš°

#### 3. **ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬**
- **ë¹…ë°ì´í„°**: ëŒ€ìš©ëŸ‰ ë°ì´í„° ìŠ¤íŠ¸ë¦¬ë°
- **ë°ì´í„° íŒŒì´í”„ë¼ì¸**: ETL í”„ë¡œì„¸ìŠ¤
- **ì‹¤ì‹œê°„ ë¶„ì„**: ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ ë° ë¶„ì„
- **ë°°ì¹˜ ì²˜ë¦¬**: ëŒ€ëŸ‰ ë©”ì‹œì§€ ì¼ê´„ ì²˜ë¦¬

#### 4. **ê°•ë ¥í•œ ë³´ì•ˆ ìš”êµ¬ì‚¬í•­**
- **ê¸°ì—… ë³´ì•ˆ**: ë†’ì€ ë³´ì•ˆ ìˆ˜ì¤€ ìš”êµ¬
- **ê·œì • ì¤€ìˆ˜**: ê¸ˆìœµ, ì˜ë£Œ ë“± ê·œì œ ì‚°ì—…
- **ê°ì‚¬ ì¶”ì **: ë©”ì‹œì§€ ì¶”ì  ë° ë¡œê¹…
- **ì ‘ê·¼ ì œì–´**: ì„¸ë°€í•œ ê¶Œí•œ ê´€ë¦¬

### í•˜ì´ë¸Œë¦¬ë“œ ì ‘ê·¼ë²•

#### **MQTT + AMQP í†µí•© ì•„í‚¤í…ì²˜**
```mermaid
graph TB
    subgraph "IoT Layer"
        S1[ì„¼ì„œ 1]
        S2[ì„¼ì„œ 2]
        S3[ì„¼ì„œ 3]
    end
    
    subgraph "MQTT Broker"
        MB[MQTT Broker]
    end
    
    subgraph "Integration Layer"
        IC[Integration Connector]
    end
    
    subgraph "AMQP Broker"
        AB[AMQP Broker]
        Q1[ë°ì´í„° ì²˜ë¦¬ í]
        Q2[ë¶„ì„ í]
        Q3[ì•Œë¦¼ í]
    end
    
    subgraph "Business Layer"
        BS[ë¹„ì¦ˆë‹ˆìŠ¤ ì„œë¹„ìŠ¤]
        AS[ë¶„ì„ ì„œë¹„ìŠ¤]
        NS[ì•Œë¦¼ ì„œë¹„ìŠ¤]
    end
    
    S1 --> MB
    S2 --> MB
    S3 --> MB
    
    MB --> IC
    IC --> AB
    
    AB --> Q1
    AB --> Q2
    AB --> Q3
    
    Q1 --> BS
    Q2 --> AS
    Q3 --> NS
```

#### **í†µí•© ì‹œë‚˜ë¦¬ì˜¤ ì˜ˆì‹œ**
1. **IoT ë°ì´í„° ìˆ˜ì§‘**: MQTTë¡œ ì„¼ì„œ ë°ì´í„° ìˆ˜ì§‘
2. **ë°ì´í„° ë³€í™˜**: Integration Connectorì—ì„œ ë°ì´í„° ë³€í™˜
3. **ë¹„ì¦ˆë‹ˆìŠ¤ ì²˜ë¦¬**: AMQPë¡œ ë³µìž¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬
4. **ê²°ê³¼ ì „ë‹¬**: MQTTë¡œ IoT ê¸°ê¸°ì— ê²°ê³¼ ì „ë‹¬

---

## í†µí•© ì‹œë‚˜ë¦¬ì˜¤

### ì‹¤ì œ í†µí•© ì‚¬ë¡€

#### 1. **ìŠ¤ë§ˆíŠ¸ íŒ©í† ë¦¬ ì‹œìŠ¤í…œ**
```
IoT ì„¼ì„œ â†’ MQTT â†’ ë°ì´í„° ìˆ˜ì§‘ ì„œë²„ â†’ AMQP â†’ ë¶„ì„ ì—”ì§„ â†’ MQTT â†’ ì œì–´ ì‹œìŠ¤í…œ
```

**êµ¬í˜„ ì˜ˆì‹œ**:
```javascript
// MQTTì—ì„œ AMQPë¡œ ë°ì´í„° ì „ë‹¬
const mqtt = require('mqtt');
const amqp = require('amqplib');

class FactoryIntegration {
  constructor() {
    this.mqttClient = null;
    this.amqpConnection = null;
    this.amqpChannel = null;
  }

  async initialize() {
    // MQTT ì—°ê²°
    this.mqttClient = mqtt.connect('mqtt://factory-broker:1883');
    
    // AMQP ì—°ê²°
    this.amqpConnection = await amqp.connect('amqp://business-broker:5672');
    this.amqpChannel = await this.amqpConnection.createChannel();
    
    // Exchange ì„ ì–¸
    await this.amqpChannel.assertExchange('factory_data', 'topic', { durable: true });
  }

  async startDataFlow() {
    // MQTT ë©”ì‹œì§€ ìˆ˜ì‹ 
    this.mqttClient.on('message', async (topic, message) => {
      const sensorData = JSON.parse(message.toString());
      
      // ë°ì´í„° ë³€í™˜ ë° ê°•í™”
      const enrichedData = {
        ...sensorData,
        timestamp: new Date().toISOString(),
        factoryId: 'FACTORY_001',
        processed: true
      };
      
      // AMQPë¡œ ì „ë‹¬
      await this.amqpChannel.publish(
        'factory_data',
        `sensor.${sensorData.type}`,
        Buffer.from(JSON.stringify(enrichedData)),
        { persistent: true }
      );
    });
    
    // ì„¼ì„œ ë°ì´í„° êµ¬ë…
    this.mqttClient.subscribe('factory/sensor/+');
  }
}
```

#### 2. **ìŠ¤ë§ˆíŠ¸ ì‹œí‹° í”Œëž«í¼**
```
ë„ì‹œ ì„¼ì„œ â†’ MQTT â†’ ì‹œí‹° í—ˆë¸Œ â†’ AMQP â†’ ì‹œí‹° ì„œë¹„ìŠ¤ â†’ MQTT â†’ ì‹œë¯¼ ì•±
```

#### 3. **ì˜ë£Œ IoT ì‹œìŠ¤í…œ**
```
ì˜ë£Œê¸°ê¸° â†’ MQTT â†’ ë³‘ì› ì„œë²„ â†’ AMQP â†’ ì˜ë£Œ ë¶„ì„ â†’ MQTT â†’ ì˜ë£Œì§„ ì•Œë¦¼
```

---

## ðŸš¨ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### MQTT ì¼ë°˜ì ì¸ ë¬¸ì œì™€ í•´ê²°ë°©ë²•

#### 1. **ì—°ê²° ë¬¸ì œ**
```bash
# ë¬¸ì œ: MQTT í´ë¼ì´ì–¸íŠ¸ ì—°ê²° ì‹¤íŒ¨
# ì›ì¸: ë¸Œë¡œì»¤ ì„œë¹„ìŠ¤ ì¤‘ë‹¨, ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ, ì¸ì¦ ì‹¤íŒ¨

# í•´ê²°ë°©ë²•:
# 1. ë¸Œë¡œì»¤ ìƒíƒœ í™•ì¸
systemctl status mosquitto

# 2. í¬íŠ¸ í™•ì¸
netstat -tlnp | grep 1883

# 3. ë°©í™”ë²½ í™•ì¸
ufw status | grep 1883

# 4. ì—°ê²° í…ŒìŠ¤íŠ¸
mosquitto_pub -h localhost -t "test" -m "hello" -d
```

#### 2. **ë©”ì‹œì§€ ì†ì‹¤**
```javascript
// ë¬¸ì œ: ë©”ì‹œì§€ê°€ ì „ë‹¬ë˜ì§€ ì•ŠìŒ
// í•´ê²°ë°©ë²•: QoS ë ˆë²¨ ì¡°ì •

// QoS 0: ë¹ ë¥´ì§€ë§Œ ì†ì‹¤ ê°€ëŠ¥
client.publish('sensor/temp', '25.5', { qos: 0 });

// QoS 1: ì•ˆì •ì ì´ì§€ë§Œ ì¤‘ë³µ ê°€ëŠ¥
client.publish('sensor/temp', '25.5', { qos: 1 });

// QoS 2: ê°€ìž¥ ì•ˆì „í•˜ì§€ë§Œ ëŠë¦¼
client.publish('sensor/temp', '25.5', { qos: 2 });
```

#### 3. **ì„±ëŠ¥ ë¬¸ì œ**
```bash
# Mosquitto ì„±ëŠ¥ íŠœë‹
# mosquitto.conf ì„¤ì •
max_connections 10000
max_inflight_messages 100
max_queued_messages 1000
persistence true
autosave_interval 1800
```

### AMQP ì¼ë°˜ì ì¸ ë¬¸ì œì™€ í•´ê²°ë°©ë²•

#### 1. **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¦ê°€**
```bash
# ë¬¸ì œ: RabbitMQ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ê¸‰ì¦
# í•´ê²°ë°©ë²•: ë©”ëª¨ë¦¬ ìž„ê³„ê°’ ì„¤ì •

# rabbitmq.conf
vm_memory_high_watermark.relative = 0.6
vm_memory_high_watermark_paging_ratio = 0.5
```

#### 2. **í ë°±ë¡œê·¸**
```bash
# ë¬¸ì œ: íì— ë©”ì‹œì§€ê°€ ìŒ“ìž„
# í•´ê²°ë°©ë²•: Consumer ìˆ˜ ì¦ê°€ ë˜ëŠ” ì²˜ë¦¬ ì†ë„ í–¥ìƒ

# Consumer ìˆ˜ ì¦ê°€
rabbitmqctl set_policyì˜¤ëŠ˜ì€ 2025 11ì›” 1ì¼ì¸ë°
ì„¤ëª…ì´ ì¢€ ë¶€ì¡±í•œê±° ê°™ì€ë° ìžì„¸í•˜ê²Œ ì¶”ê°€í•´ì¤˜
ì ˆëŒ€ë¡œ, ê°€ì´ë“œ ì™„ì „ê°€ì´ë“œ ê°™ì€ AI ìŠ¤ëŸ¬ìš´ ê²ƒë“¤ì€ ì‚¬ìš©í•˜ì§€ë§ˆ ìžì—°ìŠ¤ëŸ½ê²Œ í•˜ë„ë¡ í•´ 

ì½”ë“œë„ ì¢‹ì§€ë§Œ ê°œë…ì´ ìžì„¸í•´ì•¼ë¼  ha-all ".*" '{"ha-mode":"all"}'
```

#### 3. **í´ëŸ¬ìŠ¤í„° ë¬¸ì œ**
```bash
# ë¬¸ì œ: í´ëŸ¬ìŠ¤í„° ë…¸ë“œ ê°„ ë™ê¸°í™” ì‹¤íŒ¨
# í•´ê²°ë°©ë²•: í´ëŸ¬ìŠ¤í„° ìƒíƒœ í™•ì¸ ë° ë³µêµ¬

# í´ëŸ¬ìŠ¤í„° ìƒíƒœ í™•ì¸
rabbitmqctl cluster_status

# ë…¸ë“œ ìž¬ì‹œìž‘
rabbitmqctl stop_app
rabbitmqctl start_app
```

### ëª¨ë‹ˆí„°ë§ ë° ì§„ë‹¨

#### MQTT ëª¨ë‹ˆí„°ë§
```bash
# Mosquitto ë¡œê·¸ í™•ì¸
tail -f /var/log/mosquitto/mosquitto.log

# ì—°ê²° ìƒíƒœ í™•ì¸
mosquitto_sub -h localhost -t '$SYS/broker/clients/connected' -C 1

# ë©”ì‹œì§€ í†µê³„
mosquitto_sub -h localhost -t '$SYS/broker/messages/sent' -C 1
```

#### AMQP ëª¨ë‹ˆí„°ë§
```bash
# RabbitMQ ê´€ë¦¬ í”ŒëŸ¬ê·¸ì¸ í™œì„±í™”
rabbitmq-plugins enable rabbitmq_management

# í ìƒíƒœ í™•ì¸
rabbitmqctl list_queues name messages consumers

# ì—°ê²° ìƒíƒœ í™•ì¸
rabbitmqctl list_connections
```

---

## ë¯¸ëž˜ ì „ë§

### ê¸°ìˆ  ë°œì „ ë°©í–¥

#### 1. **MQTTì˜ ë°œì „**
- **MQTT 6.0**: ë”ìš± í–¥ìƒëœ ì„±ëŠ¥ê³¼ ê¸°ëŠ¥
- **5G í†µí•©**: ì´ˆê³ ì†, ì´ˆì €ì§€ì—° í†µì‹ ê³¼ì˜ ê²°í•©
- **ì—£ì§€ ì»´í“¨íŒ…**: ë¶„ì‚° ì²˜ë¦¬ í™˜ê²½ì—ì„œì˜ í™œìš©
- **AI/ML í†µí•©**: ì‹¤ì‹œê°„ ë°ì´í„° ë¶„ì„ê³¼ì˜ ì—°ë™

#### 2. **AMQPì˜ ë°œì „**
- **í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ**: Kubernetes í™˜ê²½ ìµœì í™”
- **ì„œë²„ë¦¬ìŠ¤ í†µí•©**: AWS Lambda, Azure Functions ì—°ë™
- **ìŠ¤íŠ¸ë¦¬ë° ê°•í™”**: ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ ê¸°ëŠ¥ í–¥ìƒ
- **ë³´ì•ˆ ê°•í™”**: ì–‘ìž ì•”í˜¸í™” ë“± ì°¨ì„¸ëŒ€ ë³´ì•ˆ ê¸°ìˆ 

### ðŸ”® í†µí•© íŠ¸ë Œë“œ

#### 1. **í•˜ì´ë¸Œë¦¬ë“œ ì•„í‚¤í…ì²˜**
- **IoT + ì—”í„°í”„ë¼ì´ì¦ˆ**: MQTTì™€ AMQPì˜ ì™„ë²½í•œ í†µí•©
- **ì—£ì§€ + í´ë¼ìš°ë“œ**: ë¶„ì‚° í™˜ê²½ì—ì„œì˜ ë©”ì‹œì§•
- **ì‹¤ì‹œê°„ + ë°°ì¹˜**: ìŠ¤íŠ¸ë¦¬ë°ê³¼ ë°°ì¹˜ ì²˜ë¦¬ì˜ ê²°í•©

#### 2. **í‘œì¤€í™” ë°œì „**
- **í†µí•© í‘œì¤€**: MQTTì™€ AMQP ê°„ í˜¸í™˜ì„± í–¥ìƒ
- **êµ­ì œ í‘œì¤€**: ISO/IEC í‘œì¤€ìœ¼ë¡œì˜ ë°œì „
- **ì˜¤í”ˆì†ŒìŠ¤**: ë” ë§Žì€ ì˜¤í”ˆì†ŒìŠ¤ êµ¬í˜„ì²´ ë“±ìž¥

### ðŸ“ˆ ì‹œìž¥ ì „ë§

#### 1. **IoT ì‹œìž¥ ì„±ìž¥**
- **2025ë…„ ì˜ˆìƒ**: ì „ ì„¸ê³„ IoT ê¸°ê¸° 750ì–µ ê°œ
- **MQTT ìˆ˜ìš”**: IoT ê¸°ê¸° ì¦ê°€ì— ë”°ë¥¸ MQTT ì‚¬ìš©ëŸ‰ ê¸‰ì¦
- **ìƒˆë¡œìš´ ìš©ë„**: ìžìœ¨ì£¼í–‰ì°¨, ìŠ¤ë§ˆíŠ¸ì‹œí‹°, ì˜ë£Œ IoT

#### 2. **ì—”í„°í”„ë¼ì´ì¦ˆ ë©”ì‹œì§•**
- **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤**: ì„œë¹„ìŠ¤ ê°„ í†µì‹ ì˜ í•µì‹¬ ê¸°ìˆ 
- **í´ë¼ìš°ë“œ ë§ˆì´ê·¸ë ˆì´ì…˜**: í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œì˜ ë©”ì‹œì§•
- **ë””ì§€í„¸ ì „í™˜**: ì „í†µ ê¸°ì—…ì˜ ë””ì§€í„¸ ì „í™˜ ê°€ì†í™”

---

## ìš”ì•½
### í•µì‹¬ ìš”ì•½

**MQTT**ì™€ **AMQP**ëŠ” ê°ê° ë‹¤ë¥¸ ëª©ì ê³¼ í™˜ê²½ì— ìµœì í™”ëœ ë©”ì‹œì§• í”„ë¡œí† ì½œìž…ë‹ˆë‹¤:

#### **MQTTì˜ ê°•ì **
- **IoT íŠ¹í™”**: ì„¼ì„œì™€ IoT ê¸°ê¸°ì— ìµœì í™”
- **ê²½ëŸ‰ì„±**: ì œí•œëœ ë¦¬ì†ŒìŠ¤ í™˜ê²½ì—ì„œ íš¨ìœ¨ì 
- **ì‹¤ì‹œê°„ì„±**: ì¦‰ì‹œ ë°˜ì‘ì´ í•„ìš”í•œ ì‹œìŠ¤í…œì— ì í•©
- **ê°„ë‹¨í•¨**: ë¹ ë¥¸ êµ¬í˜„ê³¼ ë°°í¬ ê°€ëŠ¥

#### **AMQPì˜ ê°•ì **
- **ì—”í„°í”„ë¼ì´ì¦ˆê¸‰**: ë³µìž¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬
- **ê³ ê¸‰ ê¸°ëŠ¥**: ê°•ë ¥í•œ ë¼ìš°íŒ…ê³¼ íŠ¸ëžœìž­ì…˜ ì§€ì›
- **í™•ìž¥ì„±**: ëŒ€ê·œëª¨ ì‹œìŠ¤í…œ êµ¬ì¶• ê°€ëŠ¥
- **ì‹ ë¢°ì„±**: ë†’ì€ ë©”ì‹œì§€ ì „ë‹¬ ë³´ìž¥

### ì„ íƒ ê°€ì´ë“œ

| ìš”êµ¬ì‚¬í•­ | **MQTT** | **AMQP** |
|----------|----------|----------|
| **IoT ê¸°ê¸° í†µì‹ ** | âœ… ìµœì  | âŒ ë¶€ì í•© |
| **ì‹¤ì‹œê°„ ì„¼ì„œ ë°ì´í„°** | âœ… ìµœì  | âŒ ë¶€ì í•© |
| **ì €ì „ë ¥ í™˜ê²½** | âœ… ìµœì  | âŒ ë¶€ì í•© |
| **ë³µìž¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§** | âŒ ë¶€ì í•© | âœ… ìµœì  |
| **ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬** | âŒ ë¶€ì í•© | âœ… ìµœì  |
| **ê³ ê¸‰ ë¼ìš°íŒ…** | âŒ ë¶€ì í•© | âœ… ìµœì  |
| **ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘** | âœ… ìµœì  | âŒ ë¶€ì í•© |
| **ì—”í„°í”„ë¼ì´ì¦ˆ í™˜ê²½** | âŒ ë¶€ì í•© | âœ… ìµœì  |

---

##  ì¶”ê°€ í•™ìŠµ ìžë£Œ

### ê³µì‹ ë¬¸ì„œ
- [MQTT.org ê³µì‹ ì‚¬ì´íŠ¸](https://mqtt.org/)
- [AMQP.org ê³µì‹ ì‚¬ì´íŠ¸](https://www.amqp.org/)
- [OASIS MQTT í‘œì¤€](https://docs.oasis-open.org/mqtt/mqtt/v5.0/mqtt-v5.0.html)
- [RabbitMQ ê³µì‹ ë¬¸ì„œ](https://www.rabbitmq.com/documentation.html)

### ê°œë°œ ë„êµ¬
- **MQTT Explorer**: GUI ê¸°ë°˜ MQTT í´ë¼ì´ì–¸íŠ¸
- **RabbitMQ Management**: AMQP ë¸Œë¡œì»¤ ê´€ë¦¬ ë„êµ¬
- **MQTT.fx**: ë°ìŠ¤í¬í†± MQTT í´ë¼ì´ì–¸íŠ¸
- **Apache ActiveMQ**: AMQP ë¸Œë¡œì»¤ êµ¬í˜„ì²´

### ì˜¨ë¼ì¸ ë¦¬ì†ŒìŠ¤
- [MQTT GitHub](https://github.com/mqtt/mqtt.github.io)
- [RabbitMQ GitHub](https://github.com/rabbitmq)
- [Eclipse Mosquitto](https://mosquitto.org/)
- [AMQP 1.0 í‘œì¤€](https://www.amqp.org/specification/1.0/amqp-org-download)