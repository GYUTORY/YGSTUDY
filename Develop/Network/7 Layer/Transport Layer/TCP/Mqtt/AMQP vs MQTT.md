# AMPQ와 MQTT의 차이는 뭘까?
- MQTT 서버와 AMQP는 둘 다 메시지 브로커 시스템으로서, 비동기적 메시지 전달을 지원하는 통신 프로토콜입니다. 
- 그러나 두 프로토콜은 목적과 사용 사례, 구조, 특징 등에서 다른 차이가 있습니다.

## 목적과 사용 사례
### MQTT (Message Queuing Telemetry Transport)
- MQTT는 주로 IoT (Internet of Things) 디바이스들과의 통신을 위해 설계되었습니다. 
- 경량성과 저전력 특성으로 유명하며, 제한된 네트워크 대역폭과 비용에 적합한 기기들 간의 메시지 전달에 적합합니다.
- 주로 센서 데이터 수집, 알림, 리모트 모니터링과 같은 실시간 통신에 활용됩니다.
- MQTT의 주요 특징:
  - 최소한의 헤더 오버헤드 (2바이트)
  - TCP/IP 기반의 안정적인 전송
  - 3가지 QoS(서비스 품질) 레벨 지원
  - 발행/구독(Publish/Subscribe) 패턴 사용
  - 토픽 기반 메시지 라우팅
  - 최소한의 배터리 소모
  - 최소한의 네트워크 대역폭 사용

### AMQP (Advanced Message Queuing Protocol)
- AMQP는 기업 환경에서 더 다양한 통신 요구 사항을 처리하기 위해 설계되었습니다. 
- 복잡한 분산 시스템에서 사용되며, 고급 라우팅, 큐잉, 메시지 지속성, 규정 준수, 보안 등의 기능을 제공합니다. 
- AMQP의 주요 특징:
  - 메시지 지속성 보장
  - 트랜잭션 지원
  - 고급 라우팅 기능
  - 보안 기능 (TLS/SSL, SASL)
  - 메시지 흐름 제어
  - 다중 채널 지원
  - 메시지 우선순위 지정
  - 메시지 만료 시간 설정
  - 메시지 그룹화

## 프로토콜 구조와 동작 방식
### MQTT
- MQTT의 기본 구조:
  - Broker: 메시지의 중앙 허브 역할
  - Publisher: 메시지를 발행하는 클라이언트
  - Subscriber: 메시지를 구독하는 클라이언트
  - Topic: 메시지의 주제/카테고리
- QoS 레벨:
  - QoS 0: 최대 한 번 전달 (At most once)
  - QoS 1: 최소 한 번 전달 (At least once)
  - QoS 2: 정확히 한 번 전달 (Exactly once)
- 메시지 구조:
  - 고정 헤더 (2바이트)
  - 가변 헤더 (선택적)
  - 페이로드 (실제 메시지 데이터)

### AMQP
- AMQP의 기본 구조:
  - Exchange: 메시지 라우팅을 담당
  - Queue: 메시지 저장소
  - Binding: Exchange와 Queue 간의 연결 규칙
  - Channel: 논리적 연결
- Exchange 타입:
  - Direct: 정확한 라우팅 키 매칭
  - Topic: 패턴 기반 라우팅
  - Fanout: 모든 큐에 브로드캐스트
  - Headers: 메시지 속성 기반 라우팅
- 메시지 구조:
  - 프레임 헤더
  - 프레임 본문
  - 프레임 엔드
  - 메시지 속성
  - 메시지 헤더
  - 메시지 본문

## 성능과 확장성
### MQTT
- 장점:
  - 매우 낮은 오버헤드
  - 빠른 메시지 전달
  - 낮은 네트워크 대역폭 사용
  - 간단한 구현
- 단점:
  - 제한된 메시지 크기
  - 기본적인 라우팅 기능
  - 제한된 보안 기능

### AMQP
- 장점:
  - 고급 라우팅 기능
  - 강력한 보안 기능
  - 메시지 지속성
  - 트랜잭션 지원
- 단점:
  - 상대적으로 높은 오버헤드
  - 복잡한 구현
  - 더 많은 리소스 사용

## 실제 사용 사례
### MQTT
- IoT 센서 네트워크
- 모바일 앱 푸시 알림
- 실시간 모니터링 시스템
- 스마트 홈 디바이스
- 차량 원격 제어
- 산업 자동화

### AMQP
- 금융 거래 시스템
- 엔터프라이즈 메시징
- 분산 시스템 통합
- 대규모 데이터 처리
- 마이크로서비스 아키텍처
- 이벤트 기반 시스템

## 보안
### MQTT
- 기본 보안 기능:
  - TLS/SSL 암호화
  - 사용자 인증
  - 클라이언트 인증서
- 보안 제한사항:
  - 기본적인 접근 제어
  - 제한된 암호화 옵션

### AMQP
- 고급 보안 기능:
  - TLS/SSL 암호화
  - SASL 인증
  - 클라이언트 인증서
  - 세분화된 접근 제어
  - 메시지 암호화
  - 보안 정책 적용

## 결론
> MQTT와 AMQP는 각각의 장단점과 특화된 사용 사례가 있습니다. MQTT는 경량성과 단순함을 추구하는 IoT 환경에 적합하며, AMQP는 복잡한 기업 환경에서의 안정성과 기능성을 제공합니다. 프로젝트의 요구사항, 리소스 제약, 보안 요구사항 등을 고려하여 적절한 프로토콜을 선택하는 것이 중요합니다.