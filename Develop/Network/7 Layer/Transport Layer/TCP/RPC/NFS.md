

# NFS (Network File System)

## 1οΈβƒ£ NFSλ€?
**NFS(Network File System)**λ” **λ„¤νΈμ›ν¬λ¥Ό ν†µν•΄ νμΌμ„ κ³µμ ν•λ” λ¶„μ‚° νμΌ μ‹μ¤ν…**μ…λ‹λ‹¤.  
λ΅μ»¬ λ””μ¤ν¬μ— μλ” κ²ƒμ²λΌ **μ›κ²© μ„λ²„μ νμΌμ„ λ§μ΄νΈ(Mount)ν•μ—¬ μ‚¬μ©**ν•  μ μμµλ‹λ‹¤.

> **π‘‰π» NFSλ¥Ό μ‚¬μ©ν•λ©΄ μ—¬λ¬ μ‹μ¤ν… κ°„μ— νμΌμ„ μ‰½κ² κ³µμ ν•  μ μμµλ‹λ‹¤.**

---

## 2οΈβƒ£ NFSμ μ£Όμ” νΉμ§•

### β… 1. **μ›κ²© νμΌ μ‹μ¤ν… μ§€μ›**
- μ„λ²„μ νμΌμ„ **ν΄λΌμ΄μ–ΈνΈμ—μ„ λ΅μ»¬ νμΌμ²λΌ μ‚¬μ© κ°€λ¥**

### β… 2. **λ‹¤μ¤‘ ν΄λΌμ΄μ–ΈνΈ μ§€μ›**
- μ—¬λ¬ ν΄λΌμ΄μ–ΈνΈκ°€ **λ™μ‹μ— κ°™μ€ νμΌμ„ μ•΅μ„Έμ¤ κ°€λ¥**

### β… 3. **νμΌ λ° λ””λ ‰ν† λ¦¬ κ¶ν• κ΄€λ¦¬**
- UNIX/Linuxμ **νμΌ κ¶ν• λ° μ‚¬μ©μ κ³„μ • κΈ°λ° μ ‘κ·Ό μ μ–΄ κ°€λ¥**

### β… 4. **μλ™ λ§μ΄νΈ(Auto Mount) μ§€μ›**
- ν΄λΌμ΄μ–ΈνΈ λ¶€ν… μ‹ μλ™μΌλ΅ NFS λ””λ ‰ν† λ¦¬λ¥Ό λ§μ΄νΈ κ°€λ¥

### β… 5. **Cross-Platform μ§€μ›**
- Linux, UNIX, macOS, Windowsμ—μ„λ„ NFS μ‚¬μ© κ°€λ¥

---

## 3οΈβƒ£ NFS λ™μ‘ λ°©μ‹

### β¨ NFS μ„λ²„ - ν΄λΌμ΄μ–ΈνΈ κµ¬μ΅°

```plaintext
[NFS Server] β†β†’ [NFS Client1]
               β†β†’ [NFS Client2]
```

| κµ¬μ„± μ”μ† | μ„¤λ… |
|----------|------|
| **NFS Server** | κ³µμ ν•  νμΌ μ‹μ¤ν…μ„ μ κ³µ |
| **NFS Client** | μ„λ²„μ νμΌ μ‹μ¤ν…μ„ λ§μ΄νΈν•μ—¬ μ‚¬μ© |
| **Export File** | NFS μ„λ²„μ—μ„ κ³µμ ν•  λ””λ ‰ν† λ¦¬λ¥Ό μ •μν• νμΌ (`/etc/exports`) |

> **π‘‰π» ν΄λΌμ΄μ–ΈνΈλ” NFS μ„λ²„μ νμΌμ„ λ΅μ»¬ λ””μ¤ν¬μ²λΌ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.**

---

## 4οΈβƒ£ NFS μ„¤μΉ λ° μ„¤μ • (Linux)

### β… 1. NFS μ„λ²„ μ„¤μΉ
```bash
sudo apt update && sudo apt install -y nfs-kernel-server
```

### β… 2. κ³µμ ν•  λ””λ ‰ν† λ¦¬ μƒμ„± λ° κ¶ν• μ„¤μ •
```bash
sudo mkdir -p /nfs/shared
sudo chown nobody:nogroup /nfs/shared
sudo chmod 777 /nfs/shared
```

### β… 3. NFS κ³µμ  μ„¤μ • (`/etc/exports` μμ •)
```bash
echo "/nfs/shared *(rw,sync,no_root_squash,no_subtree_check)" | sudo tee -a /etc/exports
```

> **μµμ… μ„¤λ…**
> - `rw`: μ½κΈ°/μ“°κΈ° κ°€λ¥
> - `sync`: λ°μ΄ν„°κ°€ μ¦‰μ‹ μ €μ¥λ¨
> - `no_root_squash`: ν΄λΌμ΄μ–ΈνΈμ root κ¶ν•μ„ μ μ§€

### β… 4. NFS μ„λΉ„μ¤ μ¬μ‹μ‘ λ° μ μ©
```bash
sudo exportfs -a
sudo systemctl restart nfs-kernel-server
```

---

## 5οΈβƒ£ NFS ν΄λΌμ΄μ–ΈνΈ μ„¤μ •

### β… 1. NFS ν΄λΌμ΄μ–ΈνΈ μ„¤μΉ
```bash
sudo apt update && sudo apt install -y nfs-common
```

### β… 2. NFS μ„λ²„ κ³µμ  λ””λ ‰ν† λ¦¬ ν™•μΈ
```bash
showmount -e <NFS_SERVER_IP>
```

### β… 3. NFS κ³µμ  λ””λ ‰ν† λ¦¬ λ§μ΄νΈ
```bash
sudo mount <NFS_SERVER_IP>:/nfs/shared /mnt
```

### β… 4. μλ™ λ§μ΄νΈ μ„¤μ • (`/etc/fstab` μμ •)
```bash
echo "<NFS_SERVER_IP>:/nfs/shared /mnt nfs defaults 0 0" | sudo tee -a /etc/fstab
```

> **π‘‰π» ν΄λΌμ΄μ–ΈνΈκ°€ λ¶€ν…λ  λ• μλ™μΌλ΅ NFS λ””λ ‰ν† λ¦¬λ¥Ό λ§μ΄νΈν•  μ μμµλ‹λ‹¤.**

---

## 6οΈβƒ£ NFS λ³΄μ• μ„¤μ •

### β… 1. νΉμ • IP λλ” λ„¤νΈμ›ν¬λ§ μ ‘κ·Ό ν—μ© (`/etc/exports`)
```bash
/nfs/shared 192.168.1.0/24(rw,sync,no_subtree_check)
```

### β… 2. λ°©ν™”λ²½μ—μ„ NFS ν¬νΈ ν—μ©
```bash
sudo ufw allow from 192.168.1.0/24 to any port nfs
```

### β… 3. NFS over TLS μ‚¬μ© (NFSv4.2 μ΄μƒ)

```bash
sudo mount -o tls <NFS_SERVER_IP>:/nfs/shared /mnt
```

> **π‘‰π» TLSλ¥Ό μ μ©ν•λ©΄ λ°μ΄ν„° μ•”νΈν™”κ°€ κ°€λ¥ν•μ—¬ λ³΄μ•μ„±μ΄ ν–¥μƒλ©λ‹λ‹¤.**

---

## 7οΈβƒ£ NFSμ μ¥μ κ³Ό λ‹¨μ 

| μ¥μ  | λ‹¨μ  |
|------|------|
| **μ¤‘μ•™ μ§‘μ¤‘μ‹ νμΌ κ΄€λ¦¬ κ°€λ¥** | **λ³΄μ•μ΄ μƒλ€μ μΌλ΅ μ·¨μ•½** |
| **μ—¬λ¬ ν΄λΌμ΄μ–ΈνΈμ—μ„ κ³µμ  κ°€λ¥** | **μΈν„°λ„·μ„ ν†µν• μ‚¬μ© μ‹ μ†λ„ μ €ν•** |
| **μ„¤μ •μ΄ λΉ„κµμ  κ°„λ‹¨** | **λ„¤νΈμ›ν¬ μ¥μ•  μ‹ νμΌ μ ‘κ·Ό λ¶κ°€** |
| **Cross-Platform μ§€μ›** | **κ¶ν• μ„¤μ •μ΄ λ³µμ΅ν•  μ μμ** |

> **π‘‰π» NFSλ” λ‚΄λ¶€ λ„¤νΈμ›ν¬μ—μ„ νμΌ κ³µμ  λ° μ¤‘μ•™ν™”λ λ°μ΄ν„° κ΄€λ¦¬μ— μ μ©ν•©λ‹λ‹¤.**

---

## 8οΈβƒ£ NFS vs SMB vs FTP λΉ„κµ

| λΉ„κµ ν•­λ© | NFS | SMB | FTP |
|-----------|-----|-----|-----|
| **μ£Όμ” μ©λ„** | UNIX/Linux νμΌ κ³µμ  | Windows νμΌ κ³µμ  | νμΌ μ „μ†΅ |
| **μ΄μ μ²΄μ ** | Linux, UNIX, macOS, Windows | Windows, Linux, macOS | λ¨λ“  OS |
| **λ³΄μ• μμ¤€** | κΈ°λ³Έμ μΌλ΅ λ‚®μ (TLS μ μ© κ°€λ¥) | μƒλ€μ μΌλ΅ κ°•ν•¨ | μ•”νΈν™” ν•„μ” |
| **μ†λ„** | λΉ λ¦„ (λ΅μ»¬ λ§μ΄νΈ λ°©μ‹) | μ¤‘κ°„ | λλ¦Ό (νμΌ λ‹¨μ„ μ „μ†΅) |
| **μ—°κ²° λ°©μ‹** | λ„¤νΈμ›ν¬ νμΌ μ‹μ¤ν… | λ„¤νΈμ›ν¬ νμΌ κ³µμ  | ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ νμΌ μ „μ†΅ |

> **π‘‰π» NFSλ” λ¦¬λ…μ¤/μ λ‹‰μ¤ ν™κ²½μ—μ„ λ„¤νΈμ›ν¬ νμΌ κ³µμ μ— μµμ ν™”λ μ‹μ¤ν…μ…λ‹λ‹¤.**

---

## 9οΈβƒ£ NFS ν™μ© μ‚¬λ΅€

β… **μ‚¬λ‚΄ μ„λ²„ κ°„ νμΌ κ³µμ **
- κ°λ° λ° μ΄μ μ„λ²„μ—μ„ νμΌμ„ κ³µμ ν•λ” μ©λ„λ΅ μ‚¬μ©

β… **μ»¨ν…μ΄λ„ λ° Kubernetes ν™κ²½μ—μ„ νμΌ μ¤ν† λ¦¬μ§€**
- μ—¬λ¬ Podκ°€ κ°™μ€ λ³Όλ¥¨μ„ μ‚¬μ©ν•  λ• NFS ν™μ©

β… **λ°±μ—… λ° λ΅κ·Έ μ €μ¥μ†**
- μ—¬λ¬ μ„λ²„μ λ΅κ·Έ λ°μ΄ν„°λ¥Ό ν• κ³³μ—μ„ μ €μ¥ λ° κ΄€λ¦¬

β… **ν΄λ¬μ¤ν„° ν™κ²½μ—μ„ λ°μ΄ν„° κ³µμ **
- κ³ μ„±λ¥ μ»΄ν“¨ν…(Cluster) μ‹μ¤ν…μ—μ„ λ°μ΄ν„° κ³µμ 

