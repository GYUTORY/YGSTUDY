
### 쿠버네티스가 뭐고, 기본 개념부터 모르겠다면?


### Q1
- 쿠버네티스는 컨테이너를 오케스트레이션 하는 도구라는 글을 많이 봤어요. 도커는 컨테이너를 다루는 도구라고 설명하던데, 그렇다면 쿠버네티스는 도커를 다루는 도구인가요?

### A1
- 컨테이너, 컨테이너 런타임, 도커를 정리한 후 쿠버네티스의 용어에 대해 알아보자.

![쿠버네티스 용어정리.png](..%2F..%2F..%2Fetc%2Fimage%2FApplication%20Architecture%2FKubernetes%2F%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4%20%EC%9A%A9%EC%96%B4%EC%A0%95%EB%A6%AC.png)

## 1. 컨테이너
 - 우리가 구동하려는 애플리케이션을 실행할 수 있는 환경까지 감싸서, 어디서든 쉽게 실행할 수 있도록 해 주는 기술

#### 예를 들어, PC에 프로그램을 설치 할 경우의 상황을 예로 들어보자
- 특정 경로에 맞춰 설치를 해야 하거나, 내 컴퓨터에 필요한 옵션을 일일이 맞춰주느라 설치 과정에서 힘들었던 경험이 한번쯤은 있을 것이다.
- 컨테이너는 이러한 환경까지 모두 포함하여 독립적으로 프로그램을 실행할 수 있도록 도와주는 기술입니다. 
- 컨테이너 환경을 묶어서 배포한 컨테이너 이미지라는 프로그램을 내려받아 구동하면 실행되기 때문에, 각종 설정 과정이 줄어 들어서 좀 더 편하게 사용할 수 있어요.

## 2. 컨테이너 런타임
- 컨테이너를 사용할 때 필요한 도구가 컨테이너 런타임이다. 
- 컨테이너를 쉽게 내려받거나 공유하고 구동할 수 있도록 해주는 도구로, 그중 가장 유명한 것이 도커일 뿐이다.
- 컨테이너 규격은 표준화되어 있기 때문에, 도커가 아닌 다른 컨테이너 런타임들도 도커로 만든 컨테이너를 사용할 수 있습니다.


## 3. 쿠버네티스
- 컨테이너 런타임(도커)을 통해 컨테이너를 다루는 도구이다. 
- 쿠버네티스가 해 주는 일은 여러 서버(노드)에 컨테이너를 분산해서 배치하거나, 문제가 생긴 컨테이너를 교체하거나, 컨테이너가 사용할 비밀번호나 환경 설정을 관리하고 주입해 주는 일 등입니다. 이것을 <span style="color: red;">컨테이너 오케스트레이션</span>이라고 한다.

---

### Q2
- 쿠버네티스가 컨테이너를 다루는 도구라면 도커를 다루는 도구는 아니란 말이네요?

### A2
- 쿠버네티스의 역할은 컨테이너를 분산 배치, 상태 관리 및 컨테이너의 구동 환경까지 관리해 주는 도구이고, 도커는 컨테이너를 다루는 도구(컨테이너 런타임) 중 하나입니다. 

--- 

### Q3
- 쿠버네티스를 검색하면 가상머신과 컨테이너 비교에 대한 그림이 매번 나오는데 이해가 잘 안돼요. 

### A3
- 아래 그림을 살펴보자 
<br>
<br>

![애플리케이션 배포 환경의 변화.png](..%2F..%2F..%2Fetc%2Fimage%2FApplication%20Architecture%2FKubernetes%2F%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98%20%EB%B0%B0%ED%8F%AC%20%ED%99%98%EA%B2%BD%EC%9D%98%20%EB%B3%80%ED%99%94.png)



#### 1. Traditional Deployment
- 오래전 부터 쓰이던 방식으로, 물리적인 컴퓨터 한 대에 OS를 깔고 여러가지 프로그램을 설치하는 방식
- PC 한 대에 윈도우를 설치하고, 여러 가지 게임이나 워드프로세서 등을 깔아서 사용하는 방식으로, 가장 오래되고 단순한 방식.

#### Traditional Deployment의 문제
- 인터넷 뱅킹을 위해 보안 프로그램을 많이 설치했더니 게임이나 웹 브라우저 성능이 떨어지는 걸 경험을 누구나 한번 씩은 경험했을 것이다.
- 한 대의 컴퓨터에서 모든 것을 처리하려고 하면 어떤 프로그램 동작이 다른 프로그램의 동작을 간섭하거나, 특정 프로그램이 성능을 독점할 경우 또 다른 프로그램의 성능이 떨어지는 단점이 있습니다.
- 인터넷뱅킹 컴퓨터, 게임 컴퓨터 따로 둔다기에는 감당이 안되는 비용이 발생할 수 있다. 

--- 

#### 2. Virtualized Deployment
- 가상머신(Virtual Machine)을 기반으로 배포를 하는 방식으로, 중간에 위치한 하이퍼바이저는 하나의 시스템 상에서 가상 컴퓨터를 여러 개 구동할 수 있도록 해 주는 중간 계층이다.
- App은 실행하고자 하는 프로그램, Bin/Library는 프로그램이 실행하는데 필요한 환경과 관련된 파일이라고 생각하면 됩니다.

#### Virtualized Deployment의 장점
- 하나의 컴퓨터 안에서 두 개의 가상화된 컴퓨터가 동작하기 때문에 서로 간섭을 일으키지 않게 됩니다.
- 가상머신 성능을 조절해 게임 컴퓨터에는 좀 더 많은 CPU와 메모리를, 인터넷 뱅킹용 컴퓨터에는 적은 CPU와 메모리를 할당하여 사용할 수 있습니다.
- 또한 서버와 같이 다중화와 분산 처리가 중요한 시스템이라면 시스템 자원 상황에 따라 가상머신 개수를 늘리고 줄이는 것도 좀 더 유연하게 처리할 수 있습니다.

#### Virtualized Deployment의 단점
- "Traditional Deployment"보다는 분명 효율적이지만, 가상머신은 완전한 컴퓨터이고 가상머신에 일일이 운영체제를 설치해야 하기 때문에 컨테이너 중심의 배포(Container Deployment)보다는 무거운 편이다.

--- 

#### 3. Container Deployment
- 하이퍼바이저라는 부분이 Container Runtime으로 대체되었고, Virtual Machine이라고 된 부분은 Container로 대체가 되었다.
- 컨테이너는 가상머신과 달리 프로그램 구동을 위해서 OS를 매번 설치할 필요 없이 OS는 하나만 사용합니다.


#### Virtualized Deployment의 장점
- 게임과 인터넷 뱅킹 프로그램이 각각 컨테이너로 배포된다면, OS 커널을 공유하며, 동시에 게임과 인터넷 뱅킹이 사용할 수 있는 CPU, 메모리 등의 자원 또한 독립적으로 사용할 수 있도록 할당하고 관리한다.

#### Virtualized Deployment의 단점
- 내 프로그램의 문제가 OS에 문제를 일으킬 경우에는 OS에서 구동 중인 전체 컨테이너의 문제가 될 가능성이 있다.

---

