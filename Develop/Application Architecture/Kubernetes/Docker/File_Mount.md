
# 🐳 Docker에서 파일 마운트하기

Docker에서 **파일 마운트**는 호스트 시스템과 컨테이너 간에 파일을 공유하고 데이터를 영구적으로 유지하기 위해 사용됩니다.

---

## 📌 파일 마운트란?

- **파일 마운트**란 **호스트 시스템의 파일이나 디렉터리**를 **컨테이너 내부**에서 사용할 수 있도록 연결하는 것입니다.
- 마운트된 파일은 **컨테이너가 종료되어도 데이터가 유지**됩니다.

---

## 📦 Docker에서 파일 마운트 방식

Docker에서는 파일 마운트를 위한 두 가지 주요 방식이 있습니다:

1. **바인드 마운트(Bind Mount)**
2. **볼륨 마운트(Volume Mount)**

---

## 📂 1️⃣ 바인드 마운트 (Bind Mount)

**바인드 마운트**는 호스트 시스템의 특정 파일이나 디렉터리를 컨테이너 내부에 직접 연결하는 방식입니다.

### ✅ 사용법
```bash
docker run -v /호스트/경로:/컨테이너/경로 이미지명
```

### ✅ 예제
```bash
docker run -it --name my-container -v /home/user/data:/app/data ubuntu
```

- 호스트의 `/home/user/data`를 컨테이너의 `/app/data`에 연결합니다.
- **양방향 반영**: 컨테이너 내에서 데이터를 수정하면 호스트에도 적용됩니다.

### ⚠️ 주의사항
- 마운트할 디렉터리가 **존재하지 않으면** 자동으로 생성되지 않습니다.
- **보안 위험**: 호스트의 중요한 파일을 직접 노출할 수 있습니다.

---

## 📦 2️⃣ 볼륨 마운트 (Volume Mount)

**볼륨 마운트**는 Docker가 자체적으로 관리하는 저장소를 사용하는 방식입니다.

### ✅ 사용법
```bash
docker volume create my-volume
docker run -v my-volume:/app/data ubuntu
```

### ✅ 예제
```bash
# 볼륨 생성 및 마운트 예제
docker volume create my-volume
docker run -it --name volume-container -v my-volume:/app/data ubuntu
```

- `my-volume`이라는 **Docker 볼륨**이 생성되고, 컨테이너의 `/app/data`에 연결됩니다.
- **데이터 보존**: 컨테이너 삭제 후에도 볼륨에 데이터가 남아 있습니다.

### 📊 볼륨 관리 명령어
- 볼륨 목록 확인:
  ```bash
  docker volume ls
  ```
- 볼륨 삭제:
  ```bash
  docker volume rm my-volume
  ```

---

## 🔗 `-v` vs `--mount` 차이점 비교

| 옵션         | `-v` (구식 방식)                | `--mount` (신규 방식)             |
|--------------|--------------------------------|----------------------------------|
| **구문**      | 간결한 방식                     | 명확하고 세부 설정 가능          |
| **지원 기능** | 바인드, 볼륨 마운트 지원         | 바인드, 볼륨, tmpfs 마운트 지원  |
| **추천 상황** | 간단한 파일 마운트             | 복잡한 설정 및 고급 기능 필요 시 |

---

## 🚀 사용 사례

### 🎯 바인드 마운트 사용 예제 (개발 환경 설정)
```bash
docker run -it -v $(pwd):/app ubuntu
```
- **호스트의 현재 디렉터리**를 컨테이너의 `/app` 경로에 마운트합니다.
- 개발 중 코드 변경 사항을 **실시간 반영**할 수 있습니다.

### 🎯 볼륨 마운트 사용 예제 (데이터베이스 데이터 보존)
```bash
docker volume create db-data
docker run -d --name mysql-container -v db-data:/var/lib/mysql mysql
```
- `db-data` 볼륨에 데이터베이스 데이터를 저장하고, 컨테이너 종료 후에도 데이터 유지.

---

## 📌 결론

- **바인드 마운트**는 개발 환경에서 자주 사용되며, 호스트의 특정 디렉터리를 직접 연결합니다.
- **볼륨 마운트**는 Docker가 관리하는 데이터 저장소로, 영구적 데이터 보존에 적합합니다.
- 두 방식 모두 상황에 맞게 선택할 수 있으며, **데이터의 안전한 관리**를 위해 주의해야 합니다.

---

## 📖 참고 자료
- [Docker 공식 문서](https://docs.docker.com/)
