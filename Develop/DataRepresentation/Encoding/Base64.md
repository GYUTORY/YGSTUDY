# Base64와 UTF-8 인코딩

## 인코딩이란?
- 인코딩(encoding)은 정보의 형태나 형식을 표준화, 보안, 처리 속도 향상, 저장 공간 절약 등을 위해서 다른 형태나 형식으로 변환하는 처리 혹은 그 처리 방식을 말한다.
- 컴퓨터에서 인코딩은 주로 텍스트나 바이너리 데이터를 특정 형식으로 변환하는 과정을 의미한다.
- 인코딩의 주요 목적:
  1. 데이터 호환성: 다른 시스템 간의 데이터 교환을 가능하게 함
  2. 데이터 보안: 민감한 정보를 암호화하거나 변환
  3. 데이터 압축: 저장 공간 절약
  4. 데이터 표준화: 일관된 형식 유지

## UTF-8 인코딩
- UTF-8은 유니코드 문자를 인코딩하는 방식 중 하나로, 현재 웹에서 가장 널리 사용되는 문자 인코딩 방식이다.
- UTF-8의 특징:
  1. 가변 길이 인코딩: 1바이트에서 4바이트까지 사용
  2. ASCII 호환성: ASCII 문자는 1바이트로 표현되며, 기존 ASCII와 동일한 코드값을 가짐
  3. 효율성: 영어와 같은 라틴 문자는 1바이트, 한글은 3바이트로 표현
  4. 바이트 순서 표시(BOM)가 필요 없음

- UTF-8 인코딩 구조:
  - 1바이트 문자 (0xxxxxxx): ASCII 문자
  - 2바이트 문자 (110xxxxx 10xxxxxx): 라틴 확장 문자
  - 3바이트 문자 (1110xxxx 10xxxxxx 10xxxxxx): 대부분의 한자, 한글
  - 4바이트 문자 (11110xxx 10xxxxxx 10xxxxxx 10xxxxxx): 특수 문자, 이모지

## Base64 인코딩
- Base64는 바이너리 데이터를 ASCII 문자로 변환하는 인코딩 방식이다.
- Base64의 특징:
  1. 64개의 안전한 ASCII 문자만 사용 (A-Z, a-z, 0-9, +, /)
  2. 3바이트의 바이너리 데이터를 4개의 ASCII 문자로 변환
  3. 패딩 문자 '=' 사용 가능
  4. URL-safe 변형 존재 (Base64URL)

- Base64 인코딩 과정:
  1. 입력 데이터를 6비트씩 분할
  2. 각 6비트를 Base64 색인표의 문자로 변환
  3. 필요한 경우 패딩 문자 '=' 추가
  4. 변환된 ASCII 문자열 생성

- Base64 색인표:
  ```
  Value Char  Value Char  Value Char  Value Char
  0     A     16    Q     32    g     48    w
  1     B     17    R     33    h     49    x
  2     C     18    S     34    i     50    y
  3     D     19    T     35    j     51    z
  4     E     20    U     36    k     52    0
  5     F     21    V     37    l     53    1
  6     G     22    W     38    m     54    2
  7     H     23    X     39    n     55    3
  8     I     24    Y     40    o     56    4
  9     J     25    Z     41    p     57    5
  10    K     26    a     42    q     58    6
  11    L     27    b     43    r     59    7
  12    M     28    c     44    s     60    8
  13    N     29    d     45    t     61    9
  14    O     30    e     46    u     62    +
  15    P     31    f     47    v     63    /
  ```

## Base64 사용 사례
1. 이메일 첨부 파일: MIME 인코딩에서 사용
2. 데이터 URL: 웹 페이지에서 이미지나 파일을 직접 포함
3. HTTP Basic 인증: 사용자 이름과 비밀번호 인코딩
4. JSON Web Token (JWT): 토큰 데이터 인코딩
5. 바이너리 데이터 전송: 텍스트 기반 프로토콜에서 바이너리 데이터 전송

## Base64의 장단점
- 장점:
  1. 시스템 독립적인 데이터 전송 가능
  2. 텍스트 기반 프로토콜에서 바이너리 데이터 전송 가능
  3. 특수 문자나 제어 문자에 영향을 받지 않음
  4. URL-safe 변형으로 웹 환경에서 안전하게 사용 가능

- 단점:
  1. 데이터 크기 증가 (약 33% 증가)
  2. 인코딩/디코딩에 추가 CPU 연산 필요
  3. 가독성이 떨어짐

## 실제 예시
1. Base64 인코딩 예시:
   - 입력: "Man"
   - 바이너리: 01001101 01100001 01101110
   - 6비트 분할: 010011 010110 000101 101110
   - Base64: TWFu

2. UTF-8과 Base64 조합 예시:
   - 한글 "안녕"을 UTF-8로 인코딩: 0xEC95 0x88 0xE3 0x85 0x85
   - Base64로 인코딩: 7JWI64WV

## 참고 자료
- https://effectivesquid.tistory.com/entry/Base64-%EC%9D%B8%EC%BD%94%EB%94%A9%EC%9D%B4%EB%9E%80
- https://en.wikipedia.org/wiki/UTF-8
- https://en.wikipedia.org/wiki/Base64
- https://tools.ietf.org/html/rfc4648