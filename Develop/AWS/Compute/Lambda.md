---
title: AWS Lambda 완벽 가이드
tags: [aws, compute, lambda, serverless, event-driven, faas]
updated: 2025-09-23
---

# AWS Lambda 완벽 가이드

## 개요

AWS Lambda는 Amazon Web Services에서 제공하는 서버리스 컴퓨팅 플랫폼입니다. 이 서비스는 개발자가 서버 인프라를 직접 관리하지 않고도 코드를 실행할 수 있게 해주며, 이벤트 기반 아키텍처의 핵심 구성 요소로 활용됩니다.

### 서버리스 컴퓨팅의 등장 배경

전통적인 웹 애플리케이션 개발에서는 개발자가 서버를 직접 관리해야 했습니다. 서버 프로비저닝, 운영체제 설치, 런타임 환경 구성, 애플리케이션 배포, 모니터링, 보안 패치 등 다양한 인프라 관리 작업이 필요했습니다. 이러한 작업들은 개발자가 비즈니스 로직에 집중하는 것을 방해하고, 높은 운영 비용과 복잡성을 야기했습니다.

AWS Lambda는 이러한 문제를 해결하기 위해 등장했습니다. 개발자는 코드 작성에만 집중하고, AWS가 인프라 관리의 모든 측면을 담당합니다. 이는 개발 생산성 향상과 운영 비용 절감을 동시에 달성할 수 있게 해줍니다.

### 핵심 개념

**서버리스(Serverless)**: 서버가 존재하지 않는다는 의미가 아니라, 개발자가 서버를 직접 관리하지 않는다는 의미입니다. 클라우드 제공업체가 서버 관리의 모든 책임을 맡고, 개발자는 애플리케이션 로직에만 집중할 수 있습니다.

**FaaS(Function as a Service)**: 애플리케이션을 함수 단위로 분해하여 실행하는 서비스 모델입니다. 각 함수는 독립적으로 배포되고 실행되며, 필요에 따라 자동으로 스케일링됩니다.

**이벤트 기반 실행**: 특정 이벤트가 발생했을 때만 함수가 실행되는 방식입니다. 이벤트는 S3 파일 업로드, API 요청, 데이터베이스 변경, 스케줄된 작업 등 다양한 형태가 될 수 있습니다.

**콜드 스타트(Cold Start)**: 함수가 오랫동안 사용되지 않은 후 처음 실행될 때 발생하는 초기화 지연 시간입니다. 이는 함수 실행 환경을 준비하는 데 필요한 시간으로, 응답 시간에 영향을 미칠 수 있습니다.

## 핵심 개념

### 1. Lambda의 작동 원리

#### 서버리스 아키텍처의 구현 방식

AWS Lambda는 마이크로 가상화 기술을 기반으로 작동합니다. 각 함수 실행은 격리된 실행 환경에서 이루어지며, AWS가 자동으로 인프라를 관리합니다. 개발자가 함수를 업로드하면, AWS는 이를 패키징하고 실행 환경을 준비합니다.

함수가 호출되면 AWS는 새로운 실행 컨테이너를 생성하거나 기존의 워밍된 컨테이너를 재사용합니다. 이 과정에서 함수 코드가 로드되고 초기화되며, 이벤트 데이터가 전달됩니다. 함수 실행이 완료되면 결과를 반환하고, 일정 시간 후 컨테이너는 종료되거나 다른 요청을 위해 대기 상태로 전환됩니다.

#### 이벤트 기반 실행 모델

Lambda의 핵심 특징 중 하나는 이벤트 기반 실행입니다. 이는 함수가 특정 조건이나 사건이 발생했을 때만 실행된다는 의미입니다. 이러한 이벤트는 다양한 AWS 서비스에서 발생할 수 있습니다.

**주요 이벤트 소스**:
- **S3**: 파일 업로드, 삭제, 복사 등의 객체 이벤트
- **API Gateway**: HTTP 요청을 통한 RESTful API 호출
- **DynamoDB**: 테이블 변경 사항을 감지하는 스트림 이벤트
- **SQS/SNS**: 메시지 큐나 알림 서비스의 메시지 수신
- **CloudWatch Events**: 스케줄된 작업이나 시스템 이벤트
- **Cognito**: 사용자 인증 및 인가 관련 이벤트
- **Kinesis**: 실시간 데이터 스트림 처리

#### 자동 확장 메커니즘

Lambda의 자동 확장은 동시성(Concurrency) 개념을 기반으로 작동합니다. 각 함수는 독립적인 동시성 제한을 가지며, 요청이 증가하면 AWS가 자동으로 새로운 실행 환경을 생성합니다.

동시성은 함수가 동시에 처리할 수 있는 요청의 수를 의미합니다. 예를 들어, 동시성이 100으로 설정된 함수는 최대 100개의 요청을 동시에 처리할 수 있습니다. 101번째 요청이 들어오면 대기 상태가 되거나, 동시성 제한을 늘려야 합니다.

이러한 자동 확장은 수직적(Scale Up)과 수평적(Scale Out) 확장을 모두 포함합니다. 수직적 확장은 단일 함수 인스턴스의 메모리와 CPU 할당량을 조정하는 것이고, 수평적 확장은 여러 함수 인스턴스를 동시에 실행하는 것입니다.

### 2. Lambda의 주요 특징

#### 이벤트 기반 실행 아키텍처

Lambda의 가장 중요한 특징은 이벤트 기반 실행입니다. 이는 함수가 지속적으로 실행되는 것이 아니라, 특정 이벤트가 발생했을 때만 실행된다는 의미입니다. 이러한 방식은 리소스 효율성과 비용 절감에 크게 기여합니다.

이벤트 기반 실행의 장점은 다음과 같습니다:
- **리소스 효율성**: 함수가 실행되지 않을 때는 리소스를 사용하지 않음
- **자동 트리거링**: 이벤트 발생 시 자동으로 함수가 실행되어 수동 개입이 불필요
- **느슨한 결합**: 이벤트 소스와 함수 간의 독립성으로 유연한 아키텍처 구성 가능

#### 자동 확장 및 동시성 관리

Lambda는 요청량에 따라 자동으로 확장됩니다. 단일 요청부터 수천, 수만 개의 동시 요청까지 자동으로 처리할 수 있으며, 각 요청은 독립적인 실행 환경에서 병렬로 처리됩니다.

동시성 관리는 Lambda의 핵심 기능 중 하나입니다. AWS는 계정 레벨과 함수 레벨에서 동시성 제한을 제공합니다. 계정 레벨 동시성은 전체 계정에서 동시에 실행될 수 있는 Lambda 함수의 총 개수를 제한하고, 함수 레벨 동시성은 특정 함수의 동시 실행 수를 제한합니다.

#### 사용량 기반 과금 모델

Lambda는 전통적인 서버 기반 과금과 달리 실제 사용량에 기반한 과금을 제공합니다. 과금은 다음 요소들로 결정됩니다:
- **요청 수**: 함수가 실행된 횟수
- **실행 시간**: 함수가 실제로 실행된 시간 (밀리초 단위)
- **메모리 할당량**: 함수에 할당된 메모리 크기

이러한 과금 모델의 장점은 사용하지 않는 시간에 대한 비용이 발생하지 않는다는 것입니다. 이는 특히 트래픽이 불규칙한 애플리케이션에서 큰 비용 절감 효과를 가져다줍니다.

#### 다양한 프로그래밍 언어 지원

Lambda는 다양한 프로그래밍 언어를 지원하여 개발자들이 기존 기술 스택을 활용할 수 있게 해줍니다.

**지원되는 런타임**:
- **Node.js**: JavaScript와 TypeScript 개발을 위한 런타임
- **Python**: 데이터 분석, 머신러닝, 웹 개발에 적합한 런타임
- **Java**: 엔터프라이즈 애플리케이션 개발에 널리 사용되는 런타임
- **Go**: 고성능과 간결함을 특징으로 하는 런타임
- **C#**: .NET 생태계를 활용한 개발을 위한 런타임
- **Ruby**: 웹 개발과 스크립팅에 적합한 런타임
- **커스텀 런타임**: 사용자 정의 런타임 환경 구성 가능

### 3. Lambda의 한계와 제약사항

#### 실행 시간 제한

Lambda 함수는 최대 15분까지만 실행될 수 있습니다. 이는 AWS가 리소스 효율성을 위해 설정한 제한사항입니다. 장시간 실행되는 작업의 경우 Lambda 대신 다른 AWS 서비스를 고려해야 합니다.

**대안 솔루션**:
- **AWS Step Functions**: 장시간 워크플로우를 여러 단계로 나누어 처리
- **AWS ECS/Fargate**: 컨테이너 기반 장시간 실행 작업
- **AWS Batch**: 대용량 배치 작업 처리

#### 콜드 스타트 문제

콜드 스타트는 Lambda 함수가 오랫동안 사용되지 않은 후 처음 실행될 때 발생하는 초기화 지연입니다. 이는 함수 실행 환경을 준비하는 데 필요한 시간으로, 응답 시간에 영향을 미칠 수 있습니다.

**콜드 스타트 최소화 방법**:
- **Provisioned Concurrency**: 함수를 미리 워밍하여 콜드 스타트 제거
- **함수 크기 최적화**: 불필요한 의존성 제거로 초기화 시간 단축
- **Lambda Layer 활용**: 공통 라이브러리를 별도로 관리하여 재사용성 향상

#### 리소스 제한사항

Lambda는 메모리와 디스크 사용에 제한이 있습니다. 메모리는 최대 10GB까지 할당 가능하며, 로컬 디스크는 /tmp 디렉토리만 사용할 수 있고 최대 10GB까지 사용 가능합니다.

**리소스 제한 대응 방안**:
- **S3 연동**: 대용량 파일 처리를 위해 S3를 임시 저장소로 활용
- **메모리 최적화**: 효율적인 메모리 사용을 위한 코드 최적화
- **스트리밍 처리**: 대용량 데이터를 청크 단위로 처리

#### 동시성 제한

AWS는 계정별로 동시 실행 가능한 Lambda 함수 수를 제한합니다. 기본적으로 계정당 1,000개의 동시 실행이 가능하며, 필요에 따라 제한을 늘릴 수 있습니다.

**동시성 관리 전략**:
- **예약된 동시성**: 중요한 함수에 대해 동시성 예약
- **동시성 제한 증가 요청**: AWS에 동시성 제한 증가 요청
- **함수 분산**: 여러 함수로 로직을 분산하여 동시성 제한 회피

## 실제 사용 사례

### 1. 이벤트 기반 데이터 처리

#### S3 파일 업로드 트리거

S3에 파일이 업로드될 때마다 Lambda 함수가 자동으로 실행되는 패턴은 매우 일반적입니다. 이는 이미지 리사이징, 파일 변환, 데이터 검증 등의 작업에 활용됩니다.

**작동 원리**:
1. 사용자가 S3 버킷에 파일을 업로드
2. S3가 이벤트를 생성하여 Lambda 함수를 트리거
3. Lambda 함수가 업로드된 파일을 처리
4. 처리 결과를 다른 S3 버킷이나 데이터베이스에 저장

**활용 사례**:
- **이미지 처리**: 업로드된 이미지의 썸네일 생성, 리사이징, 포맷 변환
- **문서 변환**: PDF를 이미지로 변환, 문서 메타데이터 추출
- **데이터 검증**: 업로드된 파일의 형식 검증, 바이러스 스캔
- **백업 및 복제**: 파일을 다른 리전이나 스토리지로 복사

#### API Gateway 연동

API Gateway와 Lambda를 연동하여 RESTful API를 구축하는 것은 서버리스 웹 애플리케이션의 핵심 패턴입니다.

**아키텍처 특징**:
- **무상태성**: 각 요청은 독립적으로 처리되며 상태를 유지하지 않음
- **자동 확장**: 트래픽 증가에 따라 자동으로 Lambda 인스턴스가 확장
- **비용 효율성**: 요청이 없을 때는 비용이 발생하지 않음

**일반적인 API 패턴**:
- **CRUD 작업**: 데이터베이스의 생성, 읽기, 업데이트, 삭제 작업
- **인증 및 인가**: JWT 토큰 검증, 사용자 권한 확인
- **데이터 변환**: 클라이언트 요청 데이터를 내부 형식으로 변환
- **외부 서비스 연동**: 다른 API나 서비스와의 통신

### 2. 데이터베이스 연동 패턴

#### DynamoDB 스트림 처리

DynamoDB 스트림은 테이블의 변경 사항을 실시간으로 감지할 수 있는 기능입니다. Lambda 함수를 DynamoDB 스트림과 연동하면 데이터 변경 시 자동으로 후속 처리를 수행할 수 있습니다.

**활용 사례**:
- **데이터 복제**: 변경된 데이터를 다른 테이블이나 시스템에 복제
- **캐시 무효화**: 데이터 변경 시 관련 캐시를 자동으로 무효화
- **알림 발송**: 중요한 데이터 변경 시 사용자에게 알림 전송
- **데이터 검증**: 변경된 데이터의 무결성 검사 및 보정

**스트림 처리 패턴**:
- **INSERT 이벤트**: 새 레코드가 추가될 때의 처리
- **MODIFY 이벤트**: 기존 레코드가 수정될 때의 처리
- **REMOVE 이벤트**: 레코드가 삭제될 때의 처리

#### 메시지 큐 연동

SQS(Simple Queue Service)나 SNS(Simple Notification Service)와 Lambda를 연동하여 비동기 메시지 처리 시스템을 구축할 수 있습니다.

**SQS 연동의 장점**:
- **신뢰성**: 메시지 처리 실패 시 자동 재시도
- **확장성**: 메시지 수에 따라 Lambda 인스턴스 자동 확장
- **비용 효율성**: 메시지가 없을 때는 비용 발생하지 않음

**SNS 연동의 활용**:
- **이벤트 알림**: 시스템 이벤트 발생 시 다수의 구독자에게 알림
- **팬아웃 패턴**: 하나의 이벤트를 여러 Lambda 함수로 전파
- **이메일/SMS 발송**: 사용자에게 알림 메시지 전송

### 3. 고급 아키텍처 패턴

#### 마이크로서비스 아키텍처

Lambda는 마이크로서비스 아키텍처 구현에 매우 적합합니다. 각 비즈니스 기능을 독립적인 Lambda 함수로 분리하여 개발, 배포, 확장을 독립적으로 관리할 수 있습니다.

**마이크로서비스의 장점**:
- **독립적 배포**: 각 서비스를 독립적으로 배포하고 업데이트 가능
- **기술 스택 다양성**: 서비스별로 다른 프로그래밍 언어나 프레임워크 사용 가능
- **확장성**: 각 서비스의 트래픽에 따라 독립적으로 확장
- **장애 격리**: 하나의 서비스 장애가 전체 시스템에 미치는 영향 최소화

#### 이벤트 소싱 패턴

이벤트 소싱은 애플리케이션의 상태 변경을 이벤트의 순서대로 저장하는 패턴입니다. Lambda는 이벤트 소싱 구현에 매우 적합한 플랫폼입니다.

**이벤트 소싱의 특징**:
- **상태 재구성**: 저장된 이벤트를 통해 과거의 모든 상태를 재구성 가능
- **감사 추적**: 모든 변경 사항이 이벤트로 기록되어 완전한 감사 추적 가능
- **시간 여행**: 특정 시점의 상태로 되돌아갈 수 있음
- **이벤트 재생**: 이벤트를 다시 처리하여 새로운 뷰나 프로젝션 생성 가능

#### CQRS(Command Query Responsibility Segregation) 패턴

CQRS는 명령(Command)과 조회(Query)를 분리하는 패턴입니다. Lambda를 활용하면 명령 처리와 조회 처리를 완전히 분리된 함수로 구현할 수 있습니다.

**CQRS의 장점**:
- **성능 최적화**: 명령과 조회를 각각 최적화된 방식으로 처리
- **확장성**: 명령과 조회를 독립적으로 확장 가능
- **복잡성 관리**: 각각의 책임을 명확히 분리하여 복잡성 감소

## 운영 및 최적화

### 성능 최적화 전략

#### 콜드 스타트 최소화

콜드 스타트는 Lambda 함수의 성능에 가장 큰 영향을 미치는 요소 중 하나입니다. 콜드 스타트를 최소화하기 위한 다양한 전략이 있습니다.

**함수 크기 최적화**:
- **의존성 최소화**: 필요한 라이브러리만 포함하여 패키지 크기 축소
- **Lambda Layer 활용**: 공통 라이브러리를 별도 레이어로 분리하여 재사용성 향상
- **Tree Shaking**: 사용하지 않는 코드를 제거하여 번들 크기 최소화

**Provisioned Concurrency**:
- **워밍된 인스턴스**: 함수를 미리 워밍하여 콜드 스타트 완전 제거
- **비용 고려**: 사용하지 않아도 비용이 발생하므로 신중한 계획 필요
- **적용 대상**: 지연 시간이 중요한 프로덕션 환경에 적합

**초기화 최적화**:
- **글로벌 변수 활용**: 데이터베이스 연결, 캐시 등을 글로벌 변수로 관리
- **지연 로딩**: 필요한 시점에만 리소스를 로드하여 초기화 시간 단축

#### 메모리 및 CPU 최적화

Lambda의 메모리 설정은 CPU 성능에도 영향을 미치므로 적절한 메모리 할당이 중요합니다.

**메모리 설정 가이드**:
- **128MB**: 간단한 API 호출, 기본적인 데이터 처리
- **256MB**: JSON 파싱, 간단한 계산 작업
- **512MB**: 이미지 처리, 데이터베이스 쿼리
- **1024MB**: 복잡한 계산, 대용량 데이터 처리
- **3008MB**: 최대 성능, CPU 집약적 작업

**메모리 사용량 모니터링**:
- **CloudWatch 메트릭**: 메모리 사용량과 실행 시간 모니터링
- **프로파일링**: 실제 메모리 사용 패턴 분석을 통한 최적 설정 도출

### 에러 처리 및 복원력

#### 재시도 메커니즘

Lambda 함수에서 에러가 발생했을 때 적절한 재시도 메커니즘을 구현하는 것은 시스템의 안정성을 보장하는 중요한 요소입니다.

**지수 백오프(Exponential Backoff)**:
- **점진적 지연**: 재시도 간격을 점진적으로 증가시켜 시스템 부하 감소
- **최대 재시도 횟수**: 무한 재시도를 방지하기 위한 제한 설정
- **재시도 가능한 에러**: 일시적인 네트워크 오류, 서비스 일시 중단 등에만 재시도 적용

**재시도 전략**:
- **즉시 재시도**: 일시적인 오류에 대한 즉시 재시도
- **지연 재시도**: 시스템 부하를 고려한 지연 후 재시도
- **조건부 재시도**: 특정 조건을 만족하는 경우에만 재시도

#### 데드레터 큐(DLQ) 활용

데드레터 큐는 처리에 실패한 메시지를 별도로 저장하여 나중에 분석하거나 수동으로 처리할 수 있게 해주는 메커니즘입니다.

**DLQ의 장점**:
- **데이터 손실 방지**: 처리 실패한 메시지의 영구 보존
- **문제 분석**: 실패 원인 분석을 위한 로그 수집
- **수동 처리**: 자동화된 재시도로 해결되지 않는 문제의 수동 처리
- **모니터링**: 시스템의 건강 상태 모니터링 지표 제공

**DLQ 설정 고려사항**:
- **큐 크기**: 충분한 저장 공간 확보
- **보존 기간**: 메시지 보존 기간 설정
- **알림 설정**: DLQ에 메시지가 쌓일 때 알림 받기

## 비교 분석

### Lambda vs 전통적 서버 아키텍처

서버리스 컴퓨팅과 전통적인 서버 기반 아키텍처는 각각 고유한 장단점을 가지고 있습니다.

**서버 관리 측면**:
- **Lambda**: AWS가 모든 인프라 관리 책임을 담당하여 개발자는 비즈니스 로직에만 집중
- **전통적 서버**: 개발팀이 서버 프로비저닝, 운영체제 관리, 보안 패치 등 모든 인프라 작업 담당

**확장성 측면**:
- **Lambda**: 요청량에 따라 자동으로 확장되며, 수동 개입이 불필요
- **전통적 서버**: 트래픽 증가 시 수동으로 서버를 추가하거나 로드 밸런서 설정 필요

**비용 구조**:
- **Lambda**: 실제 실행 시간과 메모리 사용량에 기반한 사용량 기반 과금
- **전통적 서버**: 서버가 실행되는 동안 지속적으로 비용 발생

**성능 특성**:
- **Lambda**: 콜드 스타트로 인한 초기 지연 가능, 하지만 워밍 후 빠른 응답
- **전통적 서버**: 지속적으로 실행되어 즉시 응답 가능, 하지만 리소스 낭비 가능성

### Lambda 적용 권장사항

**적합한 사용 사례**:
- **이벤트 기반 처리**: 파일 업로드, 데이터베이스 변경, API 호출 등의 이벤트 처리
- **마이크로서비스**: 독립적인 비즈니스 기능을 함수로 분리하여 구현
- **데이터 변환**: 실시간 데이터 처리, 포맷 변환, ETL 작업
- **API 백엔드**: RESTful API나 GraphQL API 구현
- **정기 작업**: 스케줄된 배치 작업, 데이터 백업, 정리 작업

**부적합한 사용 사례**:
- **장시간 실행 작업**: 15분을 초과하는 작업
- **대용량 파일 처리**: 메모리나 디스크 제한을 초과하는 작업
- **상태 유지가 필요한 애플리케이션**: 세션 상태나 연결 풀 관리가 필요한 경우
- **실시간 스트리밍**: 지속적인 데이터 스트림 처리

## 결론

AWS Lambda는 서버리스 컴퓨팅의 핵심 서비스로서, 이벤트 기반 아키텍처와 마이크로서비스 구현에 최적화되어 있습니다. 개발자는 인프라 관리 부담 없이 비즈니스 로직에 집중할 수 있으며, 사용량 기반 과금으로 비용 효율성을 달성할 수 있습니다.

Lambda의 성공적인 활용을 위해서는 콜드 스타트, 실행 시간 제한, 리소스 제한 등의 특성을 충분히 이해하고 적절한 사용 사례를 선택하는 것이 중요합니다. 또한 Provisioned Concurrency, Lambda Layer, 적절한 에러 처리 메커니즘 등을 통해 성능과 안정성을 최적화할 수 있습니다.

## 참조

- AWS Lambda 공식 문서: https://docs.aws.amazon.com/lambda/
- AWS Lambda 개발자 가이드: https://docs.aws.amazon.com/lambda/latest/dg/
- AWS Lambda 모범 사례: https://docs.aws.amazon.com/lambda/latest/dg/best-practices.html
- AWS Lambda 제한사항: https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-limits.html
- AWS Lambda 가격 정책: https://aws.amazon.com/lambda/pricing/
- 서버리스 아키텍처 패턴: https://aws.amazon.com/serverless/
- AWS Well-Architected Framework: https://aws.amazon.com/architecture/well-architected/

