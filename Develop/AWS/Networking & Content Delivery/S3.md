# AWS S3 (Simple Storage Service) ğŸ’¾

## ğŸ“‹ ê°œìš”
Amazon S3ëŠ” ì¸í„°ë„·ì„ ìœ„í•œ ê°ì²´ ìŠ¤í† ë¦¬ì§€ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ì‰½ê²Œ ë§í•´ì„œ, ì¸í„°ë„·ì— ì—°ê²°ëœ ê±°ëŒ€í•œ í•˜ë“œë””ìŠ¤í¬ë¼ê³  ìƒê°í•˜ë©´ ë©ë‹ˆë‹¤. 

**ê°ì²´ ìŠ¤í† ë¦¬ì§€ë€?**
- íŒŒì¼ì„ ê°ì²´(Object)ë¼ëŠ” ë‹¨ìœ„ë¡œ ì €ì¥í•˜ëŠ” ë°©ì‹
- ê° íŒŒì¼ì€ ê³ ìœ í•œ ì´ë¦„(í‚¤)ê³¼ ë©”íƒ€ë°ì´í„°ë¥¼ ê°€ì§
- í´ë” ëŒ€ì‹  ë²„í‚·(Bucket)ì´ë¼ëŠ” ì»¨í…Œì´ë„ˆì— ì €ì¥

**ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ**: NetflixëŠ” S3ë¥¼ ì‚¬ìš©í•˜ì—¬ ì „ ì„¸ê³„ ì‚¬ìš©ìë“¤ì—ê²Œ ì˜í™”ì™€ TV í”„ë¡œê·¸ë¨ì„ ìŠ¤íŠ¸ë¦¬ë°í•©ë‹ˆë‹¤. ë§¤ì¼ ìˆ˜ë°±ë§Œ ê±´ì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ë©´ì„œë„ 99.999999999%ì˜ ë‚´êµ¬ì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤.

---

## ğŸ”‘ í•µì‹¬ ê°œë…

### ê°ì²´(Object)ì™€ ë²„í‚·(Bucket)
**ê°ì²´(Object)**
- S3ì— ì €ì¥ë˜ëŠ” íŒŒì¼ì˜ ê¸°ë³¸ ë‹¨ìœ„
- íŒŒì¼ ìì²´ + ë©”íƒ€ë°ì´í„°(íŒŒì¼ ì •ë³´)ë¡œ êµ¬ì„±
- ìµœì†Œ 0ë°”ì´íŠ¸, ìµœëŒ€ 5TBê¹Œì§€ ì €ì¥ ê°€ëŠ¥

**ë²„í‚·(Bucket)**
- ê°ì²´ë“¤ì„ ë‹´ëŠ” ì»¨í…Œì´ë„ˆ
- ì „ ì„¸ê³„ì—ì„œ ìœ ì¼í•œ ì´ë¦„ì„ ê°€ì ¸ì•¼ í•¨
- ë¦¬ì „(ì§€ì—­)ì„ ì„ íƒí•˜ì—¬ ìƒì„±

```javascript
// JavaScriptë¡œ S3 ê°ì²´ êµ¬ì¡° ì´í•´í•˜ê¸°
const s3Object = {
  key: "images/profile/2024/user123.jpg",  // íŒŒì¼ ê²½ë¡œ ë° ì´ë¦„
  size: 1024,                              // íŒŒì¼ í¬ê¸° (ë°”ì´íŠ¸)
  lastModified: "2024-03-20T10:00:00Z",    // ë§ˆì§€ë§‰ ìˆ˜ì • ì‹œê°„
  etag: "d41d8cd98f00b204e9800998ecf8427e", // íŒŒì¼ ê³ ìœ  ì‹ë³„ì
  storageClass: "STANDARD",                // ì €ì¥ í´ë˜ìŠ¤
  metadata: {                              // ì‚¬ìš©ì ì •ì˜ ë©”íƒ€ë°ì´í„°
    contentType: "image/jpeg",
    author: "user123"
  }
};
```

---

## ğŸ›¡ï¸ ë‚´êµ¬ì„±ê³¼ ê°€ìš©ì„±

### ë‚´êµ¬ì„±(Durability)
- **99.999999999% (11ê°œì˜ 9)** ë‚´êµ¬ì„±
- 1,000,000ê°œì˜ íŒŒì¼ ì¤‘ 1ê°œë§Œ ì†ì‹¤ë  í™•ë¥ 
- ì—°ê°„ 0.000000001%ì˜ ë°ì´í„° ì†ì‹¤ ê°€ëŠ¥ì„±

### ê°€ìš©ì„±(Availability)
- **99.99%** ê°€ìš©ì„±
- ì›”ê°„ ë‹¤ìš´íƒ€ì„ì´ 52.56ë¶„ ì´í•˜
- ì—¬ëŸ¬ ê°€ìš© ì˜ì—­ì— ìë™ ë³µì œ

**ê°€ìš© ì˜ì—­(Availability Zone)ì´ë€?**
- AWS ë°ì´í„°ì„¼í„° ë‚´ì˜ ê²©ë¦¬ëœ ë¬¼ë¦¬ì  ìœ„ì¹˜
- ê° ë¦¬ì „ì—ëŠ” ì—¬ëŸ¬ ê°œì˜ ê°€ìš© ì˜ì—­ì´ ì¡´ì¬
- í•˜ë‚˜ì˜ ê°€ìš© ì˜ì—­ì— ë¬¸ì œê°€ ìƒê²¨ë„ ë‹¤ë¥¸ ì˜ì—­ì—ì„œ ì„œë¹„ìŠ¤ ì œê³µ

---

## ğŸ“¦ ìŠ¤í† ë¦¬ì§€ í´ë˜ìŠ¤

### S3 Standard
**ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?**
- ìì£¼ ì ‘ê·¼í•˜ëŠ” ë°ì´í„°
- ì›¹ì‚¬ì´íŠ¸ ì´ë¯¸ì§€, ë™ì˜ìƒ, ë¬¸ì„œ ë“±

**íŠ¹ì§•**
- ê°€ì¥ ë†’ì€ ê°€ìš©ì„±ê³¼ ì„±ëŠ¥
- ê°€ê²©: $0.023/GB/ì›” (us-east-1 ê¸°ì¤€)

### S3 Intelligent-Tiering
**ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?**
- ì ‘ê·¼ íŒ¨í„´ì´ ì˜ˆì¸¡í•˜ê¸° ì–´ë ¤ìš´ ë°ì´í„°
- ì‚¬ìš©ì ì—…ë¡œë“œ íŒŒì¼, ë¡œê·¸ ë°ì´í„° ë“±

**íŠ¹ì§•**
- ìë™ìœ¼ë¡œ ìµœì ì˜ ìŠ¤í† ë¦¬ì§€ í‹°ì–´ ì„ íƒ
- ëª¨ë‹ˆí„°ë§ ë¹„ìš© ì—†ìŒ

### S3 Standard-IA (Infrequent Access)
**ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?**
- ìì£¼ ì ‘ê·¼í•˜ì§€ ì•ŠëŠ” ë°ì´í„°
- ë°±ì—… íŒŒì¼, ì¬í•´ ë³µêµ¬ ë°ì´í„°

**íŠ¹ì§•**
- Standardë³´ë‹¤ 40% ì €ë ´
- ìµœì†Œ 30ì¼ ë³´ê´€ í•„ìš”

### S3 One Zone-IA
**ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?**
- ì¬ìƒì„± ê°€ëŠ¥í•œ ë°ì´í„°
- ë³´ì¡° ë°±ì—…

**íŠ¹ì§•**
- ë‹¨ì¼ ê°€ìš© ì˜ì—­ì—ë§Œ ì €ì¥
- Standard-IAë³´ë‹¤ 20% ì €ë ´

### S3 Glacier
**ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?**
- ì¥ê¸° ë³´ê´€ì´ í•„ìš”í•œ ë°ì´í„°
- ê·œì œ ì¤€ìˆ˜ ë°ì´í„°, ì¥ê¸° ë°±ì—…

**íŠ¹ì§•**
- ê²€ìƒ‰ ì‹œê°„: ë¶„~ì‹œê°„
- ê°€ê²©: $0.004/GB/ì›”

### S3 Glacier Deep Archive
**ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?**
- 7ë…„ ì´ìƒ ë³´ê´€í•´ì•¼ í•˜ëŠ” ë°ì´í„°
- ë²•ì  ë³´ê´€ ì˜ë¬´ ë°ì´í„°

**íŠ¹ì§•**
- ê°€ì¥ ì €ë ´í•œ ì˜µì…˜
- ê²€ìƒ‰ ì‹œê°„: 12ì‹œê°„
- ê°€ê²©: $0.00099/GB/ì›”

---

## ğŸ” ë³´ì•ˆ ê¸°ëŠ¥

### ì„œë²„ ì¸¡ ì•”í˜¸í™” (SSE)
**SSE-S3**: AWSê°€ ê´€ë¦¬í•˜ëŠ” í‚¤ë¡œ ì•”í˜¸í™”
**SSE-KMS**: AWS KMS(Key Management Service)ë¡œ ê´€ë¦¬í•˜ëŠ” í‚¤ë¡œ ì•”í˜¸í™”
**SSE-C**: ê³ ê°ì´ ì œê³µí•˜ëŠ” í‚¤ë¡œ ì•”í˜¸í™”

### ì ‘ê·¼ ì œì–´
**IAM ì •ì±…**: ì‚¬ìš©ìë³„ ì ‘ê·¼ ê¶Œí•œ ê´€ë¦¬
**ë²„í‚· ì •ì±…**: ë²„í‚· ë ˆë²¨ì˜ ì ‘ê·¼ ì œì–´
**ACL**: ê°ì²´ë³„ ì„¸ë°€í•œ ì ‘ê·¼ ì œì–´
**VPC ì—”ë“œí¬ì¸íŠ¸**: í”„ë¼ì´ë¹— ë„¤íŠ¸ì›Œí¬ì—ì„œë§Œ ì ‘ê·¼
**MFA ì‚­ì œ**: ë‹¤ì¤‘ ì¸ì¦ì„ í†µí•œ ì‚­ì œ ë³´í˜¸

```javascript
// IAM ì •ì±… ì˜ˆì‹œ
const iamPolicy = {
  Version: "2012-10-17",
  Statement: [
    {
      Effect: "Allow",
      Action: [
        "s3:GetObject",    // íŒŒì¼ ì½ê¸°
        "s3:PutObject"     // íŒŒì¼ ì“°ê¸°
      ],
      Resource: "arn:aws:s3:::my-bucket/*"
    }
  ]
};
```

---

## ğŸ“Š ë°ì´í„° ê´€ë¦¬

### ìˆ˜ëª… ì£¼ê¸° ì •ì±…
íŒŒì¼ì˜ ë‚˜ì´ì— ë”°ë¼ ìë™ìœ¼ë¡œ ë‹¤ë¥¸ ìŠ¤í† ë¦¬ì§€ í´ë˜ìŠ¤ë¡œ ì´ë™

```javascript
// ìˆ˜ëª… ì£¼ê¸° ì •ì±… ì˜ˆì‹œ
const lifecyclePolicy = {
  Rules: [
    {
      ID: "Move to Glacier",
      Status: "Enabled",
      Transitions: [
        {
          Days: 90,                    // 90ì¼ í›„
          StorageClass: "GLACIER"      // Glacierë¡œ ì´ë™
        }
      ]
    }
  ]
};
```

### ë²„ì „ ê´€ë¦¬
- íŒŒì¼ì˜ ëª¨ë“  ë²„ì „ì„ ìœ ì§€
- ì‹¤ìˆ˜ë¡œ ì‚­ì œëœ íŒŒì¼ ë³µêµ¬ ê°€ëŠ¥
- ì´ì „ ë²„ì „ìœ¼ë¡œ ë˜ëŒë¦¬ê¸° ê°€ëŠ¥

### í¬ë¡œìŠ¤ ë¦¬ì „ ë³µì œ
- ë‹¤ë¥¸ ë¦¬ì „ì— ìë™ ë³µì œ
- ì§€ì—° ì‹œê°„ ìµœì†Œí™”
- ê·œì œ ì¤€ìˆ˜

---

## ğŸ¯ ì£¼ìš” ì‚¬ìš© ì‚¬ë¡€

### ë°ì´í„° ë ˆì´í¬
ëŒ€ê·œëª¨ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ë¶„ì„í•˜ëŠ” ì¤‘ì•™ ì €ì¥ì†Œ

```javascript
// AWS SDK for JavaScript v3 ì‚¬ìš© ì˜ˆì‹œ
import { S3Client, PutObjectCommand } from "@aws-sdk/client-s3";
import { createReadStream } from "fs";

const s3Client = new S3Client({ region: "us-east-1" });

async function uploadToDataLake(filePath, bucketName, key) {
  const fileStream = createReadStream(filePath);
  
  const command = new PutObjectCommand({
    Bucket: bucketName,
    Key: key,
    Body: fileStream,
    Metadata: {
      uploadedBy: "data-pipeline",
      timestamp: new Date().toISOString()
    }
  });
  
  try {
    await s3Client.send(command);
    console.log(`íŒŒì¼ ì—…ë¡œë“œ ì™„ë£Œ: ${key}`);
  } catch (error) {
    console.error("ì—…ë¡œë“œ ì‹¤íŒ¨:", error);
  }
}

// ì‚¬ìš© ì˜ˆì‹œ
uploadToDataLake(
  "./data.csv",
  "my-data-lake",
  "raw/2024/03/20/data.csv"
);
```

### ë°±ì—… ë° ë³µêµ¬
- ë°ì´í„° ë°±ì—… ìë™í™”
- ì¬í•´ ë³µêµ¬ ì†”ë£¨ì…˜
- í¬ë¡œìŠ¤ ë¦¬ì „ ë³µì œ

### ì •ì  ì›¹ì‚¬ì´íŠ¸ í˜¸ìŠ¤íŒ…
HTML, CSS, JavaScript íŒŒì¼ì„ ì§ì ‘ í˜¸ìŠ¤íŒ…

```javascript
// ì •ì  ì›¹ì‚¬ì´íŠ¸ ì„¤ì • ì˜ˆì‹œ
const websiteConfiguration = {
  IndexDocument: {
    Suffix: "index.html"    // ê¸°ë³¸ í˜ì´ì§€
  },
  ErrorDocument: {
    Key: "error.html"       // ì—ëŸ¬ í˜ì´ì§€
  }
};
```

### ë¯¸ë””ì–´ ìŠ¤í† ë¦¬ì§€
ì´ë¯¸ì§€, ë¹„ë””ì˜¤, ì˜¤ë””ì˜¤ íŒŒì¼ ì €ì¥ ë° ì²˜ë¦¬

```javascript
// ì´ë¯¸ì§€ ì²˜ë¦¬ ì˜ˆì‹œ
import { S3Client, GetObjectCommand } from "@aws-sdk/client-s3";
import sharp from "sharp";

async function processImage(bucketName, imageKey) {
  const s3Client = new S3Client({ region: "us-east-1" });
  
  // S3ì—ì„œ ì´ë¯¸ì§€ ê°€ì ¸ì˜¤ê¸°
  const getCommand = new GetObjectCommand({
    Bucket: bucketName,
    Key: imageKey
  });
  
  const response = await s3Client.send(getCommand);
  const imageBuffer = await response.Body.transformToByteArray();
  
  // ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì¦ˆ
  const resizedImage = await sharp(imageBuffer)
    .resize(800, 600)
    .jpeg({ quality: 80 })
    .toBuffer();
  
  return resizedImage;
}
```

### ë¡œê·¸ ì €ì¥
ì„œë²„ ë¡œê·¸, ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸, ê°ì‚¬ ë¡œê·¸ ì €ì¥

---

## ğŸ“ ëª¨ë²” ì‚¬ë¡€

### ë²„í‚· ëª…ëª… ê·œì¹™
- ì „ì—­ì ìœ¼ë¡œ ê³ ìœ í•œ ì´ë¦„ ì‚¬ìš©
- DNS í˜¸í™˜ ì´ë¦„ (ì†Œë¬¸ì, ìˆ«ì, í•˜ì´í”ˆë§Œ)
- 3-63ì ê¸¸ì´

```javascript
// ì¢‹ì€ ë²„í‚· ì´ë¦„ ì˜ˆì‹œ
const goodBucketNames = [
  "mycompany-prod-logs-2024",
  "user-uploads-dev",
  "backup-data-east1"
];

// í”¼í•´ì•¼ í•  ë²„í‚· ì´ë¦„
const badBucketNames = [
  "MyCompany_Logs",     // ëŒ€ë¬¸ì, ì–¸ë”ìŠ¤ì½”ì–´ ì‚¬ìš©
  "my-bucket",          // ë„ˆë¬´ ì¼ë°˜ì 
  "a"                   // ë„ˆë¬´ ì§§ìŒ
];
```

### ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€
- ìµœì†Œ ê¶Œí•œ ì›ì¹™ ì ìš©
- ì•”í˜¸í™” í™œì„±í™”
- ì •ê¸°ì ì¸ ë³´ì•ˆ ê°ì‚¬

### ë¹„ìš© ìµœì í™”
- ì ì ˆí•œ ìŠ¤í† ë¦¬ì§€ í´ë˜ìŠ¤ ì„ íƒ
- ìˆ˜ëª… ì£¼ê¸° ì •ì±… ì„¤ì •
- ë¶ˆí•„ìš”í•œ ë°ì´í„° ì •ë¦¬

### ì„±ëŠ¥ ìµœì í™”
- ë©€í‹°íŒŒíŠ¸ ì—…ë¡œë“œ ì‚¬ìš© (ëŒ€ìš©ëŸ‰ íŒŒì¼)
- ì ì ˆí•œ í‚¤ ì´ë¦„ êµ¬ì¡° ì‚¬ìš©
- CloudFrontì™€ í•¨ê»˜ ì‚¬ìš©

```javascript
// ë©€í‹°íŒŒíŠ¸ ì—…ë¡œë“œ ì˜ˆì‹œ
import { S3Client, CreateMultipartUploadCommand, UploadPartCommand, CompleteMultipartUploadCommand } from "@aws-sdk/client-s3";

async function uploadLargeFile(filePath, bucketName, key) {
  const s3Client = new S3Client({ region: "us-east-1" });
  const fileSize = fs.statSync(filePath).size;
  const partSize = 5 * 1024 * 1024; // 5MB
  
  // ë©€í‹°íŒŒíŠ¸ ì—…ë¡œë“œ ì‹œì‘
  const createCommand = new CreateMultipartUploadCommand({
    Bucket: bucketName,
    Key: key
  });
  
  const { UploadId } = await s3Client.send(createCommand);
  
  // íŒŒì¼ì„ ì²­í¬ë¡œ ë‚˜ëˆ„ì–´ ì—…ë¡œë“œ
  const parts = [];
  const fileStream = createReadStream(filePath);
  let partNumber = 1;
  
  for await (const chunk of fileStream) {
    const uploadPartCommand = new UploadPartCommand({
      Bucket: bucketName,
      Key: key,
      UploadId,
      PartNumber: partNumber,
      Body: chunk
    });
    
    const { ETag } = await s3Client.send(uploadPartCommand);
    parts.push({ ETag, PartNumber: partNumber });
    partNumber++;
  }
  
  // ë©€í‹°íŒŒíŠ¸ ì—…ë¡œë“œ ì™„ë£Œ
  const completeCommand = new CompleteMultipartUploadCommand({
    Bucket: bucketName,
    Key: key,
    UploadId,
    MultipartUpload: { Parts: parts }
  });
  
  await s3Client.send(completeCommand);
  console.log("ëŒ€ìš©ëŸ‰ íŒŒì¼ ì—…ë¡œë“œ ì™„ë£Œ");
}
```

---

## âš ï¸ ì œí•œ ì‚¬í•­

| í•­ëª© | ì œí•œ |
|------|------|
| ë‹¨ì¼ ê°ì²´ í¬ê¸° | ìµœëŒ€ 5TB |
| ë²„í‚·ë‹¹ ê°ì²´ ìˆ˜ | ë¬´ì œí•œ |
| ë²„í‚· ì´ë¦„ ê¸¸ì´ | 3-63ì |
| ë²„í‚· ì •ì±… í¬ê¸° | 20KB |
| ì´ˆë‹¹ ìš”ì²­ ì œí•œ | 3,500 PUT/COPY/POST/DELETE<br>5,500 GET/HEAD |

---

## ğŸ’° ê°€ê²© ì •ì±…

### ìŠ¤í† ë¦¬ì§€ ë¹„ìš© (us-east-1 ê¸°ì¤€)
- **Standard**: $0.023/GB/ì›”
- **Standard-IA**: $0.0125/GB/ì›”
- **One Zone-IA**: $0.01/GB/ì›”
- **Glacier**: $0.004/GB/ì›”
- **Glacier Deep Archive**: $0.00099/GB/ì›”

### ìš”ì²­ ë¹„ìš©
- **GET ìš”ì²­**: $0.0004/1,000ê±´
- **PUT ìš”ì²­**: $0.005/1,000ê±´
- **DELETE ìš”ì²­**: ë¬´ë£Œ

### ë°ì´í„° ì „ì†¡ ë¹„ìš©
- **ì¸ë°”ìš´ë“œ**: ë¬´ë£Œ
- **ì•„ì›ƒë°”ìš´ë“œ**: $0.09/GB (ì²« 1TB)

---

## ğŸ“š ì¶”ê°€ í•™ìŠµ ìë£Œ

- [AWS S3 ê³µì‹ ë¬¸ì„œ](https://docs.aws.amazon.com/s3/)
- [AWS S3 ê°œë°œì ê°€ì´ë“œ](https://docs.aws.amazon.com/s3/index.html)
- [AWS SDK for JavaScript v3](https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/)

---

## ğŸ¯ ê²°ë¡ 

AWS S3ëŠ” í™•ì¥ ê°€ëŠ¥í•˜ê³  ì•ˆì „í•œ ê°ì²´ ìŠ¤í† ë¦¬ì§€ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ì ì ˆí•œ ì„¤ì •ê³¼ ëª¨ë²” ì‚¬ë¡€ë¥¼ ë”°ë¥´ë©´ ë¹„ìš© íš¨ìœ¨ì ì´ê³  ì•ˆì „í•œ ë°ì´í„° ìŠ¤í† ë¦¬ì§€ ì†”ë£¨ì…˜ì„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

S3ë¥¼ ì²˜ìŒ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, AWS S3 ì½˜ì†”ì—ì„œ ì œê³µí•˜ëŠ” "Getting Started" ê°€ì´ë“œë¥¼ ì°¸ê³ í•˜ì„¸ìš”. ë˜í•œ AWS S3 ë¬¸ì„œì™€ í•¨ê»˜ AWS S3 ê°œë°œì ê°€ì´ë“œë¥¼ ì½ì–´ë³´ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.
