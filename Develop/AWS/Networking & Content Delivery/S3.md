---
title: AWS S3 vs EFS — 파일 스토리지 비교
tags: [aws, s3, efs, storage, ec2, mount, performance]
updated: 2026-01-08
---

# S3 vs EFS — AWS 파일 스토리지 비교

AWS에서는 다양한 파일 스토리지를 제공한다.  
가장 많이 비교되는 두 가지는 S3와 EFS다.

---

## 개념 요약

| 항목 | Amazon S3 | Amazon EFS |
|------|-----------|------------|
| 타입 | 객체 스토리지 | 파일 시스템 (NFS 기반) |
| 접근 방식 | HTTP(S) API 기반 | POSIX 파일시스템 (EC2 마운트) |
| 사용 용도 | 정적 자산 저장, 백업, 이미지 저장 | EC2에서 파일 읽기/쓰기, 공유 파일시스템 |
| 데이터 구조 | 객체 단위 (Key-Value) | 디렉토리/파일 단위 |
| 마운트 가능 여부 | ❌ 직접 마운트 불가 | ✅ EC2, ECS에 NFS 방식으로 마운트 |
| 지연 시간 | ms 단위 | µs ~ ms 단위 (더 낮음) |
| 확장성 | 무제한 | 수 페타바이트까지 자동 확장 |
| 과금 기준 | 저장 용량 + 요청 수 + 전송량 | 저장 용량 + 처리량 (IOPS, 처리 클래스) |
| 동시접근 | 무제한 | 다수의 EC2에서 동시 마운트 가능 |
| 파일 수정 | 전체 객체 재업로드 | 파일 단위 수정 가능 |

---

## 주요 차이점

### 1. 접근 방식

- **S3:** HTTP API 방식 (PUT/GET 등). OS 레벨에서 파일처럼 사용할 수 없음.
- **EFS:** 리눅스 파일 시스템처럼 사용 가능. EC2에서 `mount` 명령어로 사용.

### 2. 성능 (IOPS)

- **S3:** 고속 다운로드에는 적합하지만, 다수의 작은 파일에 빈번한 접근은 비효율적
- **EFS:** 고성능 파일 입출력(IO-intensive)에 적합
  > 예: 로그 저장, 썸네일 처리, 워커 간 공유 파일 등

### 3. 마운트 & 공유

- **S3:** 마운트 불가, 모든 접근은 API 기반
- **EFS:** 여러 EC2 인스턴스가 동시에 마운트하여 공유 가능 (MSA에 유리)

---

## 사용 사례

| 사용 사례 | 권장 스토리지 |
|-----------|----------------|
| 정적 웹사이트 (HTML, 이미지 등) | S3 |
| React build 파일 배포 | S3 |
| EC2 웹 서버 간 공유 디렉토리 | EFS |
| 서버에서 실시간 파일 쓰기/읽기 | EFS |
| 데이터 백업, 로그 보관 | S3 |
| 고속 영상 처리용 스토리지 | EFS |
| 머신러닝 모델 체크포인트 공유 | EFS |
| 비디오 스트리밍용 정적 콘텐츠 | S3 |

---

## 마운트 방식

### EFS 마운트 예시 (Linux)

```bash
sudo yum install -y amazon-efs-utils

sudo mkdir -p /mnt/efs

sudo mount -t efs fs-12345678:/ /mnt/efs
```

> ECS, Lambda에서도 EFS 연동 가능 (단, VPC 내에서만 가능)

---

## 가격 비교

| 항목 | S3 | EFS |
|------|----|-----|
| 저장 비용 (GB/월) | 약 $0.023 | 약 $0.30 (표준 스토리지 기준) |
| API 요청 | 과금 있음 | 없음 |
| 데이터 전송 | 아웃바운드 과금 동일 | 동일 |
| Throughput/IOPS | 무료 (요청 기반 과금) | 성능 모드별 과금 |

> S3는 용량 + API 요청 수 기준  
> EFS는 용량 + 처리량 기준 (Provisioned Throughput 선택 시 추가 비용)

---

## 동시접근/공유에 대한 차이

| 기능 | S3 | EFS |
|------|----|-----|
| EC2 여러 대에서 공유 | API만 가능 | 마운트로 공유 가능 (동기화 즉시 반영) |
| MSA 구조에서 적합 | ❌ | ✅ |
| 파일 잠금/수정 반영 | ❌ (객체 단위) | ✅ (POSIX 지원) |

---

## 실무 판단 기준

| 조건 | 선택 |
|------|------|
| 이미지, JS, HTML 파일 저장 | ✅ S3 |
| EC2 여러 대가 파일 공유 | ✅ EFS |
| 고속 파일 쓰기/읽기 성능 필요 | ✅ EFS |
| 객체 단위로 저장하고 HTTP로 접근 | ✅ S3 |
| 비정형 데이터 아카이브 | ✅ S3 |
| 워크로드가 파일 시스템 기반 | ✅ EFS |

---

## 보안 설정 차이

- **S3**
    - IAM 정책 + 버킷 정책
    - 퍼블릭 액세스 차단 가능
    - 정적 웹 호스팅 가능

- **EFS**
    - 보안그룹 + VPC/Subnet 기반 제어
    - IAM으로 파일 수준 제어 불가능 (리눅스 ACL 사용)

---

## 혼합 사용 전략

- 정적 자산은 **S3**로 배포
- 동적 서버가 처리하는 파일은 **EFS**
- 장기 보관은 **S3 Glacier** 또는 **S3 Intelligent Tiering**

---

## 참고 문서

- [Amazon S3 vs Amazon EFS 비교](https://aws.amazon.com/ko/s3/faqs/)
- [Amazon EFS 공식 문서](https://docs.aws.amazon.com/efs/)
- [AWS S3 가격](https://aws.amazon.com/ko/s3/pricing/)
- [AWS EFS 가격](https://aws.amazon.com/ko/efs/pricing/)