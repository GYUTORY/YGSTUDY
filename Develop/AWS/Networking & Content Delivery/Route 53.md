# AWS Route 53 개념 및 설명

## ✨ AWS Route 53이란?
AWS Route 53은 **Amazon Web Services(AWS)에서 제공하는 확장 가능하고 신뢰할 수 있는 도메인 이름 시스템(DNS) 웹 서비스**입니다.   
웹 애플리케이션의 트래픽을 관리하고, 도메인 이름을 등록하며, 상태 확인을 수행하는 기능을 제공합니다.

---

## 👉🏻 주요 기능

### 1️⃣ **DNS 서비스**
- 인터넷에서 **도메인 이름을 IP 주소로 변환하는 역할**을 합니다.
- Route 53을 사용하면 **도메인을 AWS 인프라에 손쉽게 연결**할 수 있습니다.

### 2️⃣ **도메인 등록**
- Route 53을 통해 **새로운 도메인 이름을 직접 구매하고 관리**할 수 있습니다.
- WHOIS 보호 기능을 제공하여 개인정보 보호가 가능합니다.

### 3️⃣ **트래픽 관리**
- 사용자의 위치에 따라 가장 빠른 서버로 요청을 보내는 **트래픽 라우팅 기능**을 제공합니다.
- 다양한 라우팅 정책을 지원합니다.

### 4️⃣ **상태 확인 및 헬스 체크**
- 웹 서버 또는 애플리케이션의 **상태를 모니터링**하고, 장애 발생 시 대체 서버로 트래픽을 전환할 수 있습니다.

---

## 🛠️ Route 53 설정 방법

### 1️⃣ Route 53에서 도메인 등록하기
1. AWS 콘솔에 로그인 후 `Route 53` 서비스로 이동합니다.
2. `Domains` 메뉴에서 `Register Domain`을 클릭합니다.
3. 원하는 도메인 이름을 입력하고 사용 가능한지 확인한 후 구매합니다.
4. 도메인 등록 후 몇 분 내에 Route 53에서 관리할 수 있습니다.

---

### 2️⃣ 호스팅 영역(Hosted Zone) 생성
호스팅 영역은 특정 도메인에 대한 **DNS 레코드를 관리하는 컨테이너**입니다.

1. Route 53에서 `Hosted Zones` 메뉴로 이동합니다.
2. `Create Hosted Zone` 클릭 후 도메인 이름을 입력하고 `Public Hosted Zone`을 선택합니다.
3. 생성된 호스팅 영역에서 기본 NS(Name Server)와 SOA(Start of Authority) 레코드가 자동으로 생성됩니다.

---

### 3️⃣ DNS 레코드 추가하기
DNS 레코드는 **도메인 이름을 IP 주소 또는 다른 도메인으로 연결하는 역할**을 합니다.

1. 호스팅 영역에서 `Create Record`를 클릭합니다.
2. 다음 중 하나의 레코드 타입을 선택합니다.

   | 레코드 타입 | 설명 |
      |------------|------|
   | **A 레코드** | 도메인 이름을 IPv4 주소로 매핑 |
   | **AAAA 레코드** | 도메인 이름을 IPv6 주소로 매핑 |
   | **CNAME 레코드** | 한 도메인을 다른 도메인으로 연결 |
   | **MX 레코드** | 이메일 서버를 지정 |
   | **TXT 레코드** | 도메인 인증 및 검증에 사용 |

3. 예제) `A 레코드` 추가
    - **도메인**: `example.com`
    - **레코드 타입**: A
    - **IP 주소**: `192.0.2.1`
    - **TTL(Time to Live)**: 300초

---

## 🎯 다양한 라우팅 정책
Route 53은 **여러 가지 라우팅 정책을 지원**하여 다양한 트래픽 관리 기능을 제공합니다.

| 라우팅 정책 | 설명 |
|------------|------|
| **단순(Simple) 라우팅** | 가장 기본적인 라우팅 방식 |
| **가중치(Weighted) 라우팅** | 여러 IP 주소에 특정 가중치를 부여 |
| **지리적(Geolocation) 라우팅** | 사용자의 위치 기반으로 다른 서버로 연결 |
| **지연 시간(Latency-based) 라우팅** | 가장 낮은 지연 시간의 서버로 연결 |
| **Failover 라우팅** | 장애 발생 시 다른 리소스로 전환 |

---

## ✅ Route 53 상태 확인 및 장애 감지
Route 53은 **Health Check(상태 확인) 기능**을 통해 애플리케이션의 가용성을 유지할 수 있습니다.

1. `Health Checks` 메뉴에서 `Create Health Check`를 클릭합니다.
2. 상태를 확인할 대상의 IP 주소 또는 도메인 입력합니다.
3. HTTP, HTTPS, TCP 등의 모니터링 방식을 설정합니다.
4. 장애 발생 시 **알림을 받을 SNS 주제(Amazon SNS)를 설정**할 수 있습니다.

---

## 🚀 예제 코드: Terraform을 사용한 Route 53 설정
아래는 **Terraform을 사용하여 Route 53에 A 레코드를 생성하는 코드 예제**입니다.

```hcl
resource "aws_route53_zone" "example" {
  name = "example.com"
}

resource "aws_route53_record" "example_a_record" {
  zone_id = aws_route53_zone.example.zone_id
  name    = "example.com"
  type    = "A"
  ttl     = 300
  records = ["192.0.2.1"]
}
```

