---
title: AWS KMS Key Management Service
tags: [aws, security, kms]
updated: 2025-09-23
---

# AWS KMS (Key Management Service)

## 개요

AWS KMS(Key Management Service)는 클라우드 환경에서 암호화 키를 안전하게 생성, 저장, 관리하는 완전 관리형 서비스입니다. 현대 디지털 환경에서 데이터 보안은 필수적이지만, 암호화 키 자체를 안전하게 관리하는 것은 매우 복잡하고 위험한 작업입니다. KMS는 이러한 키 관리의 복잡성을 대신 처리하여 개발자와 시스템 관리자가 데이터 보안에 집중할 수 있도록 돕습니다.

## 암호화의 기본 개념

### 암호화란 무엇인가?

암호화는 평문(읽을 수 있는 데이터)을 암호문(읽을 수 없는 데이터)으로 변환하는 과정입니다. 이는 수학적 알고리즘과 비밀 키를 사용하여 수행됩니다. 마치 금고에 보물을 넣고 특별한 열쇠로 잠그는 것과 같은 원리입니다.

**암호화 과정의 핵심 요소:**
- **평문(Plaintext)**: 원본 데이터
- **암호문(Ciphertext)**: 암호화된 데이터  
- **키(Key)**: 암호화/복호화에 사용되는 비밀 정보
- **알고리즘**: 암호화/복호화 방법

### 대칭키 vs 비대칭키 암호화

#### 대칭키 암호화 (Symmetric Encryption)
- **특징**: 암호화와 복호화에 동일한 키 사용
- **장점**: 빠른 처리 속도, 적은 컴퓨팅 리소스 필요
- **단점**: 키 배포와 관리의 어려움
- **사용 사례**: 대용량 데이터 암호화, 실시간 통신

#### 비대칭키 암호화 (Asymmetric Encryption)
- **특징**: 공개키(Public Key)와 개인키(Private Key) 쌍 사용
- **장점**: 안전한 키 배포, 디지털 서명 가능
- **단점**: 느린 처리 속도, 많은 컴퓨팅 리소스 필요
- **사용 사례**: 키 교환, 디지털 인증서, 전자 서명

## KMS의 핵심 구조

### CMK (Customer Master Key)
CMK는 KMS에서 관리하는 최상위 암호화 키입니다. 이 키는 실제 데이터를 직접 암호화하지 않고, 데이터 키(Data Key)를 암호화하는 데 사용됩니다. 마치 열쇠 상자의 마스터 키와 같은 역할을 합니다.

**CMK의 특징:**
- 256비트 AES 대칭키 또는 RSA/ECC 비대칭키
- AWS 관리형 또는 고객 관리형으로 구분
- 키 정책을 통한 세밀한 접근 제어
- 자동 키 로테이션 지원

### 데이터 키 (Data Key)
데이터 키는 실제 데이터를 암호화/복호화하는 데 사용되는 키입니다. CMK로 암호화되어 안전하게 저장되며, 필요할 때만 복호화되어 사용됩니다.

**데이터 키의 동작 방식:**
1. KMS가 CMK를 사용하여 데이터 키 생성
2. 평문 데이터 키와 암호화된 데이터 키를 함께 반환
3. 평문 데이터 키로 실제 데이터 암호화
4. 암호화된 데이터와 암호화된 데이터 키를 함께 저장

## KMS의 주요 기능

### 키 관리 기능
- **키 생성**: 대칭키 및 비대칭키 생성 지원
- **키 저장**: AWS의 안전한 하드웨어 보안 모듈(HSM)에 저장
- **키 활성화/비활성화**: 키 사용 상태 제어
- **키 삭제**: 7~30일 대기 기간 후 영구 삭제
- **키 로테이션**: 정기적인 키 교체로 보안 강화

### 암호화/복호화 기능
- **직접 암호화**: KMS API를 통한 직접적인 암호화/복호화
- **서비스 연동**: S3, EBS, RDS 등 AWS 서비스와 자동 연동
- **데이터 키 생성**: 대량 데이터 암호화를 위한 효율적인 키 관리

### 권한 관리 기능
- **IAM 정책**: 사용자 및 역할 기반 접근 제어
- **키 정책**: 키별 세밀한 권한 설정
- **그랜트**: 일시적이고 제한적인 키 사용 권한 부여

### 감사 및 모니터링
- **CloudTrail 연동**: 모든 키 사용 이력 자동 기록
- **CloudWatch 메트릭**: 키 사용 통계 및 모니터링
- **규정 준수**: 다양한 보안 표준 및 규정 준수 지원

## KMS 동작 원리

### 암호화 과정
1. **요청**: 애플리케이션이 KMS에 데이터 키 생성 요청
2. **키 생성**: KMS가 CMK를 사용하여 새로운 데이터 키 생성
3. **키 암호화**: 생성된 데이터 키를 CMK로 암호화
4. **응답**: 평문 데이터 키와 암호화된 데이터 키를 함께 반환
5. **데이터 암호화**: 애플리케이션이 평문 데이터 키로 실제 데이터 암호화
6. **저장**: 암호화된 데이터와 암호화된 데이터 키를 함께 저장

### 복호화 과정
1. **요청**: 애플리케이션이 암호화된 데이터 키를 KMS에 전달
2. **키 복호화**: KMS가 CMK를 사용하여 데이터 키 복호화
3. **응답**: 평문 데이터 키를 애플리케이션에 반환
4. **데이터 복호화**: 애플리케이션이 평문 데이터 키로 데이터 복호화

## AWS 서비스와의 연동

### S3 버킷 암호화
S3 버킷에 KMS 키를 설정하면, 업로드되는 모든 객체가 자동으로 암호화됩니다. 서버 측 암호화(SSE-KMS)를 통해 투명한 암호화를 제공합니다.

### EBS 볼륨 암호화
EC2 인스턴스의 EBS 볼륨을 KMS로 암호화할 수 있습니다. 스냅샷과 복제본도 자동으로 암호화되어 데이터 일관성을 보장합니다.

### RDS 데이터베이스 암호화
데이터베이스 인스턴스 생성 시 KMS 키를 지정하여 저장된 데이터, 백업, 스냅샷을 모두 암호화할 수 있습니다.

### Lambda 환경 변수 암호화
Lambda 함수의 환경 변수를 KMS로 암호화하여 민감한 설정 정보를 안전하게 보호할 수 있습니다.

## 키 관리 전략

### AWS 관리형 키 vs 고객 관리형 키

#### AWS 관리형 키
- **특징**: AWS가 자동으로 생성하고 관리
- **장점**: 별도 관리 불필요, 자동 로테이션
- **단점**: 세부적인 제어 제한, 키 정책 설정 불가
- **사용 사례**: 간단한 암호화 요구사항

#### 고객 관리형 키
- **특징**: 사용자가 직접 생성하고 관리
- **장점**: 완전한 제어권, 커스텀 키 정책, 자동 로테이션 설정
- **단점**: 관리 복잡성 증가, 추가 비용 발생
- **사용 사례**: 엄격한 보안 요구사항, 규정 준수 필요

### 키 로테이션 전략
키 로테이션은 정기적으로 암호화 키를 교체하여 보안을 강화하는 방법입니다. 고객 관리형 키는 자동 로테이션을 설정할 수 있으며, 일반적으로 1년마다 새로운 키로 교체됩니다.

### 키 삭제 정책
키 삭제는 매우 신중하게 접근해야 합니다. 키를 삭제하면 해당 키로 암호화된 데이터는 영구적으로 복구할 수 없습니다. KMS는 7~30일의 대기 기간을 설정하여 실수로 인한 데이터 손실을 방지합니다.

## 보안 고려사항

### 최소 권한 원칙
키에 접근할 수 있는 사용자나 서비스를 최소화하는 것이 중요합니다. IAM 정책, 키 정책, 그랜트를 통해 필요한 권한만 부여해야 합니다.

### 네트워크 보안
KMS API 호출은 HTTPS를 통해 암호화되며, VPC 엔드포인트를 사용하여 네트워크 트래픽을 AWS 백본 네트워크 내에서 유지할 수 있습니다.

### 감사 및 모니터링
모든 KMS 활동은 CloudTrail에 자동으로 기록되며, CloudWatch를 통해 실시간 모니터링이 가능합니다. 정기적인 감사 로그 검토를 통해 보안 사고를 조기에 발견할 수 있습니다.

## 비용 구조

### 요금 모델
- **키 생성/보관**: 월별 소액 과금 (키당 약 $1)
- **암호화/복호화 요청**: 요청 건수에 따라 과금 (1,000건당 $0.03)
- **AWS Free Tier**: 월 20,000건 무료 제공

### 비용 최적화 전략
- 데이터 키 패턴 사용으로 CMK 호출 최소화
- 적절한 키 로테이션 주기 설정
- 불필요한 키 정리 및 삭제

## 제한사항 및 고려사항

### 기술적 제한사항
- **리전 단위 관리**: 키는 리전별로 관리되며 리전 간 복제 불가
- **요청 크기 제한**: 단일 요청당 최대 4KB 데이터 암호화
- **API 호출 제한**: 계정당 초당 10,000회 요청 제한

### 운영상 고려사항
- **대량 처리**: 대량의 암호화/복호화 요청 시 비용 증가
- **지연 시간**: 네트워크 지연으로 인한 성능 영향
- **의존성**: AWS 서비스 장애 시 암호화/복호화 불가

## 실제 적용 사례

### 전자상거래 플랫폼
고객의 개인정보와 결제 정보를 KMS로 암호화하여 저장하고, PCI DSS 규정을 준수합니다.

### 의료 정보 시스템
환자의 민감한 의료 정보를 HIPAA 규정에 따라 암호화하고, 접근 권한을 세밀하게 제어합니다.

### 금융 서비스
고객의 금융 데이터를 암호화하고, 정기적인 키 로테이션을 통해 보안을 강화합니다.

## 결론

AWS KMS는 현대 클라우드 환경에서 데이터 보안을 위한 핵심 서비스입니다. 복잡한 키 관리 작업을 대신 처리하여 개발자들이 비즈니스 로직에 집중할 수 있도록 돕습니다. 적절한 키 관리 전략과 보안 정책을 수립하여 KMS를 효과적으로 활용한다면, 강력하고 확장 가능한 데이터 보안 솔루션을 구축할 수 있습니다.

---

## 참조

- AWS KMS 공식 문서: https://docs.aws.amazon.com/kms/
- AWS KMS 보안 모범 사례: https://docs.aws.amazon.com/kms/latest/developerguide/best-practices.html
- AWS KMS 가격 정책: https://aws.amazon.com/kms/pricing/
- NIST 암호화 표준: https://csrc.nist.gov/publications/detail/sp/800-57-part-1/rev-5/final
- OWASP 암호화 가이드: https://owasp.org/www-project-cheat-sheets/cheatsheets/Cryptographic_Storage_Cheat_Sheet.html