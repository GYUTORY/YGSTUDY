---
title: AWS Elastic Load Balancer (ELB)
tags: [aws, loadbalancer, elb]
updated: 2025-09-23
---

# AWS Elastic Load Balancer (ELB)

## 로드 밸런서의 기본 개념

로드 밸런서는 여러 서버에 들어오는 트래픽을 효율적으로 분산시켜 전체 시스템의 성능과 안정성을 높이는 네트워크 장치입니다. 마치 은행에서 고객을 여러 창구로 안내하는 직원과 같은 역할을 합니다.

### 로드 밸런서가 필요한 이유

**단일 서버의 한계**
- 서버 한 대로는 처리할 수 있는 요청 수에 한계가 있음
- 서버 장애 시 전체 서비스가 중단됨
- 트래픽 증가에 따른 성능 저하

**로드 밸런서의 해결책**
- 여러 서버에 트래픽을 분산하여 부하 감소
- 서버 장애 시 자동으로 다른 서버로 전환
- 트래픽 증가에 유연하게 대응

## AWS ELB의 핵심 역할

### 1. 트래픽 분산
ELB는 들어오는 모든 요청을 미리 정의된 알고리즘에 따라 여러 백엔드 서버에 분산시킵니다. 이를 통해 개별 서버의 부하를 줄이고 전체 시스템의 처리량을 향상시킵니다.

### 2. 고가용성 보장
백엔드 서버 중 하나가 장애를 일으키면, ELB는 자동으로 해당 서버를 로드 밸런싱 대상에서 제외하고 정상적인 서버들로만 트래픽을 전달합니다. 사용자는 서비스 중단을 경험하지 않습니다.

### 3. 확장성 지원
Auto Scaling과 연동하여 트래픽 증가 시 새로운 서버를 자동으로 추가하고, 트래픽 감소 시 불필요한 서버를 제거할 수 있습니다.

## ELB 유형별 상세 분석

### Application Load Balancer (ALB) - 7계층

**기본 특성**
- OSI 7계층(Application Layer)에서 동작
- HTTP, HTTPS, gRPC 프로토콜 지원
- 가장 지능적이고 유연한 라우팅 기능 제공

**핵심 기능**

**경로 기반 라우팅 (Path-based Routing)**
- URL 경로에 따라 다른 백엔드 서비스로 요청을 전달
- 예: `/api/users` → 사용자 서비스, `/api/orders` → 주문 서비스
- 마이크로서비스 아키텍처에서 필수적인 기능

**호스트 기반 라우팅 (Host-based Routing)**
- 도메인 이름에 따라 다른 백엔드로 요청 전달
- 예: `api.example.com` → API 서버, `www.example.com` → 웹 서버
- 단일 ALB로 여러 도메인을 관리 가능

**HTTP 헤더 기반 라우팅**
- 요청 헤더의 특정 값에 따라 라우팅 결정
- 모바일/데스크톱 구분, A/B 테스트 등에 활용

**주요 사용 사례**
- 웹 애플리케이션 및 API 서버
- 마이크로서비스 아키텍처
- 컨테이너 기반 애플리케이션 (ECS, EKS)
- Lambda 함수와의 통합

### Network Load Balancer (NLB) - 4계층

**기본 특성**
- OSI 4계층(Transport Layer)에서 동작
- TCP, UDP, TLS 프로토콜 지원
- 초고성능과 초저지연이 특징

**핵심 기능**

**고정 IP 주소 제공**
- ALB와 달리 고정 IP 주소 할당 가능
- 화이트리스트 기반 접근 제어가 필요한 환경에 적합

**초저지연 처리**
- TCP 레벨에서 직접 처리하여 지연 시간 최소화
- 게임, 실시간 통신 등 지연에 민감한 애플리케이션에 최적

**초고성능**
- 초당 수백만 개의 요청 처리 가능
- 대용량 트래픽을 처리해야 하는 서비스에 적합

**주요 사용 사례**
- 게임 서버
- 실시간 스트리밍 서비스
- TCP/UDP 기반 애플리케이션
- 고정 IP가 필요한 서비스

### Gateway Load Balancer (GWLB) - 3계층

**기본 특성**
- OSI 3계층(Network Layer)에서 동작
- IP 패킷 레벨에서 처리
- 네트워크 보안 장비 전용으로 설계

**핵심 기능**

**네트워크 가시성**
- 모든 트래픽을 보안 장비로 라우팅하여 검사
- 네트워크 레벨에서의 완전한 트래픽 제어

**중앙화된 보안 관리**
- 방화벽, IDS/IPS 등 보안 장비를 중앙에서 관리
- 보안 정책의 일관성 유지

**투명한 프록시**
- 애플리케이션 변경 없이 보안 기능 적용
- 기존 시스템에 최소한의 영향으로 보안 강화

**주요 사용 사례**
- 방화벽 배포
- 침입 탐지/방지 시스템 (IDS/IPS)
- DDoS 보호 서비스
- 네트워크 보안 통합 관리

### Classic Load Balancer (CLB) - 레거시

**기본 특성**
- AWS의 첫 번째 로드 밸런서
- 4계층과 7계층 모두 지원
- 현재는 레거시 서비스로 분류

**제한사항**
- 새로운 프로젝트에서는 권장하지 않음
- 기능이 제한적이고 성능이 상대적으로 낮음
- 기존 시스템과의 호환성을 위해서만 사용

## ELB 아키텍처 구성요소

### 리스너 (Listener)
리스너는 클라이언트의 요청을 받는 진입점입니다. 프로토콜(HTTP/HTTPS), 포트 번호, SSL 인증서 등을 설정하여 어떤 종류의 요청을 받을지 정의합니다.

### 타겟 그룹 (Target Group)
실제 요청을 처리할 백엔드 서버들의 그룹입니다. EC2 인스턴스, IP 주소, Lambda 함수 등을 타겟으로 설정할 수 있으며, 각 타겟의 상태를 모니터링하고 로드 밸런싱 알고리즘을 적용합니다.

### 규칙 (Rule)
들어온 요청을 어떤 타겟 그룹으로 보낼지 결정하는 규칙입니다. 경로, 호스트명, HTTP 헤더 등의 조건을 설정할 수 있으며, 여러 규칙 간의 우선순위도 관리할 수 있습니다.

### 보안 그룹 (Security Group)
ELB에 대한 네트워크 접근을 제어하는 방화벽 역할을 합니다. 허용할 IP 주소, 포트, 프로토콜을 설정하여 보안을 강화합니다.

## 보안 및 SSL/TLS 처리

### SSL/TLS 종료
ELB는 클라이언트와의 HTTPS 연결을 처리하고, 백엔드 서버와는 HTTP로 통신할 수 있습니다. 이를 통해 서버의 SSL 처리 부하를 줄이고 인증서 관리를 중앙화할 수 있습니다.

### AWS Certificate Manager 통합
ACM을 통해 SSL 인증서를 자동으로 관리하고 갱신할 수 있습니다. Let's Encrypt와 같은 외부 인증서 대신 AWS의 관리형 인증서를 사용하면 운영 부담을 크게 줄일 수 있습니다.

### AWS WAF 통합
ALB와 WAF를 연동하여 웹 애플리케이션 보안을 강화할 수 있습니다. SQL 인젝션, XSS, DDoS 공격 등을 차단하는 규칙을 적용할 수 있습니다.

## 모니터링 및 로깅

### CloudWatch 통합
ELB는 CloudWatch와 완전히 통합되어 다양한 메트릭을 제공합니다. 요청 수, 지연 시간, 오류율, 백엔드 서버 상태 등을 실시간으로 모니터링할 수 있습니다.

### 액세스 로그
모든 요청에 대한 상세한 로그를 S3에 저장할 수 있습니다. 로그 분석을 통해 트래픽 패턴을 파악하고 성능 최적화에 활용할 수 있습니다.

### 상태 확인 (Health Check)
백엔드 서버의 상태를 주기적으로 확인하여 정상적인 서버로만 트래픽을 전달합니다. HTTP/HTTPS 요청을 통해 서버의 응답을 확인하고, 설정된 임계값에 따라 서버를 로드 밸런싱 대상에서 제외하거나 포함시킵니다.

## 비용 구조

### 시간당 요금
ELB가 활성화된 시간에 따라 기본 요금이 부과됩니다. 유형별로 다른 요금 체계를 가지고 있어 사용 사례에 맞는 선택이 중요합니다.

### 데이터 처리 요금
ELB를 통해 처리된 데이터 양에 따라 추가 요금이 부과됩니다. 리전별로 요금이 다르므로 배포 지역을 고려해야 합니다.

### LCU (Load Balancer Capacity Units)
ALB의 경우 LCU 기반으로 과금됩니다. 요청 수, 처리된 바이트, 활성 연결 수에 따라 LCU가 계산되며, 이에 따라 비용이 결정됩니다.

## 운영 모범 사례

### 고가용성 구성
최소 2개 이상의 가용영역에 ELB를 배포하여 단일 장애점을 제거합니다. 크로스 존 로드 밸런싱을 통해 AZ 간 트래픽을 분산시키고, 자동 장애 조치 기능을 활용합니다.

### 보안 강화
모든 트래픽을 HTTPS로 리다이렉트하고, 최신 TLS 버전을 사용합니다. 보안 그룹을 통해 최소 권한 원칙을 적용하고, 적절한 WAF 규칙을 설정합니다.

### 성능 최적화
서비스별로 타겟 그룹을 분리하고, 효율적인 상태 확인 설정을 적용합니다. CloudFront와 연동하여 정적 콘텐츠 캐싱을 활용합니다.

### 비용 최적화
사용하지 않는 ELB를 정기적으로 정리하고, 사용 사례에 맞는 적절한 유형을 선택합니다. 사용량을 모니터링하여 비용을 관리합니다.

## 제한사항 및 고려사항

### 서비스 제한
계정별, 리전별로 ELB 생성 수에 제한이 있습니다. ALB의 경우 리스너당 규칙 수, 타겟 그룹당 타겟 수에도 제한이 있어 대규모 아키텍처 설계 시 고려해야 합니다.

### 성능 고려사항
ALB는 상대적으로 높은 지연 시간을 가지며, 동시 연결 수와 초당 요청 처리 수에 제한이 있습니다. 초고성능이 필요한 경우 NLB를 고려해야 합니다.

### 비용 고려사항
ELB는 사용하지 않아도 시간당 요금이 발생하므로, 개발/테스트 환경에서는 필요시에만 생성하는 것이 좋습니다. AZ 간 데이터 전송 시 추가 비용이 발생할 수 있습니다.

## ELB 유형별 선택 가이드

### ALB 선택 기준
- HTTP/HTTPS 기반 웹 애플리케이션
- 마이크로서비스 아키텍처
- 컨테이너 기반 애플리케이션
- 고급 라우팅 기능이 필요한 경우
- Lambda 함수와의 통합이 필요한 경우

### NLB 선택 기준
- TCP/UDP 기반 애플리케이션
- 고정 IP 주소가 필요한 경우
- 초저지연이 중요한 경우 (게임, 실시간 스트리밍)
- 초고성능이 필요한 경우
- TCP 연결 유지가 중요한 경우

### GWLB 선택 기준
- 네트워크 보안 장비 배포
- 트래픽 검사 및 필터링
- 중앙화된 보안 관리
- 투명한 프록시가 필요한 경우

### CLB 선택 기준
- EC2-Classic 네트워크 사용
- 레거시 애플리케이션과의 호환성
- 간단한 로드 밸런싱만 필요한 경우

## 실제 아키텍처 예시

### 웹 애플리케이션 구성
```
인터넷 → ALB → EC2 인스턴스 (웹 서버)
                → EC2 인스턴스 (웹 서버)
                → EC2 인스턴스 (웹 서버)
```

### 마이크로서비스 구성
```
인터넷 → ALB → /api/users → User Service
                → /api/orders → Order Service
                → /api/products → Product Service
```

### 게임 서버 구성
```
게임 클라이언트 → NLB → Game Server 1
                           → Game Server 2
                           → Game Server 3
```

## 결론

AWS Elastic Load Balancer는 클라우드 환경에서 애플리케이션의 가용성과 확장성을 보장하는 핵심 서비스입니다. 각 유형별 특징을 정확히 이해하고 사용 사례에 맞는 적절한 선택을 통해 최적의 성능과 비용 효율성을 달성할 수 있습니다. 특히 마이크로서비스 아키텍처가 일반화된 현재, ALB의 고급 라우팅 기능은 현대적인 애플리케이션 개발에 필수적인 요소가 되었습니다.

---

## 참조

- AWS 공식 문서: Elastic Load Balancing
- AWS Well-Architected Framework: Reliability Pillar
- AWS re:Invent 세션: Load Balancing Best Practices
- AWS Architecture Center: Load Balancing Patterns
- AWS Pricing Calculator: ELB 비용 계산