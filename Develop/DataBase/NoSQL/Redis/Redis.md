## Redis가 무엇인지 대답할 수 잇을까?
- Redis란? 막상 물어본다면 뭐라 대답해야할까.. 음.. 메모리 DB? 가볍기 때문에 많은 양을 사용한다?
따라서, Redis란 무엇이고 어떻게 사용하는지 이번 페이지에서 다뤄보도록 한다.

## Redis란?
- 인메모리 데이터베이스로 데이터를 메모리에 저장하고 조회
- NoSQL로서 Key-Value 타입의 저장소이다.
- 레디스는 고성능 키-값 저장소로서 문자열, 리스트, 해시, 셋, 정렬된 셋 형식의 데이터를 지원하는 NoSQL이다.

![Redis.png](..%2F..%2Fetc%2Fimage%2FDataBase%2FRedis.png)

# Redis의 주요 특징
- Key, Value 구조의 비정형 데이터를 저장하고 관리하기 위한 오픈 소스 기반의 비관계형 데이터 베이스 관리 시스템 (DBMS)입니다.
데이터베이스, 캐시, 메세지 브로커로 사용되며 인메모리 데이터 구조를 가진 저장소입니다.
- 읽기 성능 증대를 위한 서버 측 복제를 지원
- 쓰기 성능 증대를 위한 클라이언트 측 샤딩(Sharding) 지원


---

# 궁극적인 이유
Mysql, Oracle, Mssql, Tibero등 상용화된 데이터베이스가 있는데 굳이 Redis를 사용하는 이유는 무엇일까?

- 데이터 베이스는 데이터를 물리 디스크에 직접 쓰기 때문에 서버에 문제가 발생하여 다운되더라도 데이터가 손실되지 않습니다.
- 하지만, 매번 AWS 또는 여러분이 작업중인 로컬 저장소에 접근해야 하기 때문에 실무에서 사용자가 많아질수록 부하가 많아지게 됩니다.
- 일반적으로 서비스 운영 초반이거나 규모가 작다면, 문제가 일어나지 않지만, 사용자가 늘어난다면 데이터베이스가 과부하 될 수 있기에, 캐시 서버도입.

---

## Redis 백업하는 두 가지 방법

### RDB(Redis DataBase) 스냅샷 백업
- RDB 스냅샷은 Redis 데이터를 스냅샷 형태로 디스크에 저장하는 방식입니다.
- RDB 스냅샷은 데이터를 이진 형식으로 직렬화하여 저장하므로 백업 파일의 크기가 상대적으로 작습니다.
- 주의할 점은 RDB 스냅샷 백업은 특정 시점의 데이터만을 저장하므로, Redis가 비정상적으로 종료되는 경우 해당 시점 이후의 데이터는 복구할 수 없습니다.
> 순간적으로 메모리에 있는 내용을 DISK에 전체를 옮겨 담는 방식

### AOF(Append-Only File) 파일 백업
- AOF 파일은 Redis의 모든 쓰기 작업을 기록하는 로그 파일입니다.
- AOF 파일에는 Redis 서버에 대한 명령어와 데이터 변경 사항이 순차적으로 기록됩니다.
- AOF 파일은 기존 데이터를 순차적으로 재실행하여 복원하는 방식으로 Redis 데이터를 복구합니다.
- Redis 서버가 비정상적으로 종료된 경우에도 AOF 파일을 사용하여 데이터 복구가 가능합니다.
> Redis의 모든 write/update 연산 자체를 모두 log 파일에 기록하는 형태


---

## Redis의 단점
###  Memory fragmentation
- Redis는 메모리 기반으로 동작하기 때문에 서버의 메모리 용량에 제약이 있습니다.
- 데이터의 크기가 자주 변하는 경우에는 메모리를 효율적으로 관리해야 할 필욜가 있다.

### Single thread
- Redis는 단일 스레드 모델을 사용하므로 하나의 요청을 처리하는 동안 다른 요청을 처리할 수 없습니다.
- 따라서 고성능 멀티스레드 환경에서는 적합하지 않을 수 있습니다.

---





```
출처
https://upcurvewave.tistory.com/354
```