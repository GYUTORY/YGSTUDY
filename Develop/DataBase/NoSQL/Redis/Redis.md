# Redis (Remote Dictionary Server)

## 1. Redis 소개
Redis는 오픈소스 인메모리 데이터 구조 저장소로, 다음과 같은 핵심 특징을 가집니다:

- **인메모리 데이터베이스**: 모든 데이터를 메모리에 저장하여 초고속 데이터 접근 가능
- **Key-Value 저장소**: 단순한 키-값 구조를 기반으로 다양한 데이터 타입 지원
- **고성능**: 초당 100,000+ 작업 처리, 마이크로초 단위의 응답 시간 제공

![Redis.png](..%2F..%2F..%2F..%2Fetc%2Fimage%2FDataBase%2FNoSQL%2FRedis%2FRedis.png)

## 2. 데이터 타입

Redis는 5가지 주요 데이터 타입을 지원합니다:

### 2.1 String
- 가장 기본적인 데이터 타입
- 최대 512MB까지 저장 가능
- 사용 예: 캐싱, 카운터, 세션 데이터
- 명령어 예: `SET user:1:name "John"`

### 2.2 Hash
- 필드와 값으로 구성된 객체 저장
- 객체의 일부 필드만 수정 가능
- 사용 예: 사용자 프로필, 상품 정보
- 명령어 예: `HSET user:1 name "John" age 30`

### 2.3 List
- 순서가 있는 문자열 목록
- 양쪽 끝에서 빠른 삽입/삭제 가능
- 사용 예: 타임라인, 메시지 큐
- 명령어 예: `LPUSH news:latest "Breaking News"`

### 2.4 Set
- 중복되지 않는 문자열 집합
- 교집합, 합집합 연산 지원
- 사용 예: 태그 시스템, 친구 목록
- 명령어 예: `SADD user:1:friends "user2" "user3"`

### 2.5 Sorted Set
- 점수(score)와 연결된 문자열 집합
- 점수로 정렬된 데이터 조회 가능
- 사용 예: 리더보드, 실시간 랭킹
- 명령어 예: `ZADD leaderboard 100 "player1"`

![Redis-DataType.png](..%2F..%2F..%2F..%2Fetc%2Fimage%2FDataBase%2FNoSQL%2FRedis%2FRedis-DataType.png)

## 3. 주요 기능

### 3.1 데이터 지속성
- **RDB(Redis Database)**: 특정 시점의 메모리 데이터를 이진 파일로 저장
- **AOF(Append Only File)**: 모든 쓰기 작업을 로그 파일에 기록

### 3.2 고가용성
- Redis Sentinel: 자동 장애 감지 및 페일오버
- Redis Cluster: 자동 샤딩 및 복제
- 마스터-슬레이브 복제 지원

### 3.3 확장성
- 수평적 확장(Scale-out) 지원
- 클러스터 모드에서 최대 1000개 노드까지 확장 가능
- 샤딩을 통한 데이터 분산 저장

## 4. 주요 사용 사례

1. **캐싱**
   - 자주 접근하는 데이터의 빠른 조회
   - 데이터베이스 부하 감소

2. **세션 관리**
   - 분산 환경에서의 세션 공유
   - 사용자 인증 정보 저장

3. **실시간 분석**
   - 실시간 데이터 집계
   - 실시간 추천 시스템

4. **메시지 큐**
   - 비동기 작업 처리
   - 이벤트 기반 시스템 구현

5. **게임 서비스**
   - 실시간 랭킹
   - 리더보드 구현

## 5. 운영 시 고려사항

### 5.1 메모리 관리
- 메모리 사용량 모니터링
- 적절한 maxmemory-policy 설정
- TTL(Time To Live) 설정

### 5.2 성능 최적화
- 단일 스레드 특성 고려
- 적절한 명령어 선택
- 메모리 조각화 관리

### 5.3 보안
- 인증 설정
- 네트워크 접근 제한
- 암호화 통신 사용

### 5.4 모니터링
- 성능 지표 수집
- 메모리 사용량 추적
- 명령어 실행 시간 모니터링

## 6. 백업 전략

### 6.1 RDB 백업
- **장점**: 빠른 백업/복구, 작은 파일 크기
- **단점**: 마지막 백업 이후 데이터 손실 가능성

### 6.2 AOF 백업
- **장점**: 데이터 손실 최소화, 실시간 데이터 보호
- **단점**: 큰 파일 크기, 긴 복구 시간

### 6.3 권장 사항
- RDB와 AOF 조합 사용
- 정기적인 백업 테스트
- 재해 복구 계획 수립

```
출처
https://redis.io/documentation
https://aws.amazon.com/ko/elasticache/redis/
```